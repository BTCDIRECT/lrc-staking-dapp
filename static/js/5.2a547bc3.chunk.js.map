{"version":3,"sources":["../node_modules/authereum/dist/index.js","../node_modules/penpal/lib/index.js","../node_modules/penpal/lib/connectToChild.js","../node_modules/penpal/lib/getOriginFromSrc.js","../node_modules/penpal/lib/generateId.js","../node_modules/penpal/lib/connectToParent.js","../node_modules/is-buffer/index.js","../node_modules/async/waterfall.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/async/internal/once.js","../node_modules/async/internal/onlyOnce.js","../node_modules/async/asyncify.js","../node_modules/async/internal/initialParams.js","../node_modules/async/internal/setImmediate.js","../node_modules/async/internal/awaitify.js","../node_modules/web3-provider-engine/subproviders/hooked-wallet.js","../node_modules/web3-provider-engine/node_modules/async/waterfall.js","../node_modules/web3-provider-engine/node_modules/async/parallel.js","../node_modules/web3-provider-engine/node_modules/async/internal/parallel.js","../node_modules/eth-sig-util/index.js","../node_modules/ethereumjs-abi/index.js","../node_modules/ethereumjs-abi/lib/index.js","../../src/index.ts","../../src/constants.ts","../../src/account.ts","../node_modules/ethereumjs-abi/node_modules/keccak/js.js","../node_modules/ethereumjs-abi/node_modules/keccak/lib/api/index.js","../node_modules/ethereumjs-abi/node_modules/keccak/lib/api/keccak.js","../node_modules/ethereumjs-abi/node_modules/keccak/lib/api/shake.js","../node_modules/ethereumjs-abi/node_modules/keccak/lib/keccak.js","../node_modules/ethereumjs-abi/node_modules/keccak/lib/keccak-state-unroll.js","../../src/signature.ts","../../src/object.ts","../node_modules/semaphore/lib/semaphore.js","../node_modules/web3-provider-engine/util/estimate-gas.js","../node_modules/web3-provider-engine/subproviders/rpc.js","../node_modules/eth-json-rpc-errors/index.js","../node_modules/fast-safe-stringify/index.js","../node_modules/eth-json-rpc-errors/src/errors.js","../node_modules/web3-provider-engine/subproviders/subscriptions.js","../node_modules/eth-json-rpc-filters/subscriptionManager.js","../node_modules/json-rpc-engine/src/createScaffoldMiddleware.js","../index.ts","../node_modules/eth-json-rpc-filters/log-filter.js","../node_modules/eth-json-rpc-filters/base-filter-history.js","../node_modules/eth-json-rpc-filters/block-filter.js","../node_modules/eth-json-rpc-filters/tx-filter.js","../node_modules/lodash.flatmap/index.js","../node_modules/web3-provider-engine/subproviders/filters.js","../node_modules/ethereum-private-key-to-address/index.js","../node_modules/ethereum-private-key-to-public-key/index.js","../node_modules/ethereum-public-key-to-address/index.js","../node_modules/ethereum-checksum-address/index.js","../node_modules/to-hex/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/normalize-hex/index.js","../node_modules/uuidv4/build/lib/uuidv4.js","../node_modules/authereum/dist/config.js","../node_modules/authereum/dist/AuthereumSigner.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/bytesToUuid.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/v1.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/v35.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/md5.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/v3.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/v4.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/sha1.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/v5.js","../../src/bytes.ts","../node_modules/eth-json-rpc-filters/hexUtils.js","../node_modules/penpal/lib/constants.js","../node_modules/penpal/lib/errorCodes.js","../node_modules/authereum/dist/AuthereumSDK.js","../../src/hash.ts","../node_modules/ethereumjs-abi/node_modules/safe-buffer/index.js","../node_modules/eth-json-rpc-errors/src/classes.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeFunction.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/construct.js","../node_modules/eth-json-rpc-filters/base-filter.js","../node_modules/eth-json-rpc-filters/getBlocksForRange.js","../node_modules/penpal/lib/createDestructor.js","../node_modules/penpal/lib/createLogger.js","../node_modules/penpal/lib/connectCallReceiver.js","../node_modules/penpal/lib/errorSerialization.js","../node_modules/penpal/lib/connectCallSender.js","../node_modules/authereum/dist/version.js","../node_modules/authereum/dist/AuthereumProvider.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/async/internal/wrapAsync.js","../node_modules/eth-json-rpc-errors/src/utils.js","../node_modules/eth-json-rpc-middleware/scaffold.js","../node_modules/eth-json-rpc-filters/index.js","../node_modules/pify/index.js","../node_modules/authereum/dist/utils.js","../node_modules/keccak256/dist/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","AuthereumSDK_1","require","Authereum","default","AuthereumProvider_1","AuthereumProvider","AuthereumSigner_1","AuthereumSigner","version_1","version","_connectToChild","_interopRequireDefault","_connectToParent","_errorCodes","obj","_default","ERR_CONNECTION_DESTROYED","ERR_CONNECTION_TIMEOUT","ERR_NOT_IN_IFRAME","ERR_NO_IFRAME_SRC","connectToChild","connectToParent","module","_constants","_createDestructor2","_getOriginFromSrc","_createLogger","_connectCallReceiver","_connectCallSender","_ref","iframe","_ref$methods","methods","childOrigin","timeout","debug","log","parent","window","_createDestructor","destroy","onDestroy","src","srcdoc","error","Error","code","originForSending","promise","Promise","resolveConnectionPromise","reject","connectionTimeoutId","undefined","setTimeout","receiverMethodNames","destroyCallReceiver","callSender","handleMessage","event","child","contentWindow","source","data","penpal","HANDSHAKE","origin","postMessage","HANDSHAKE_REPLY","methodNames","keys","info","localName","local","remote","originForReceiving","forEach","receiverMethodName","destroyCallSender","clearTimeout","addEventListener","MESSAGE","checkIframeInDocIntervalId","setInterval","document","contains","clearInterval","removeEventListener","DEFAULT_PORTS","URL_REGEX","opaqueOriginSchemes","find","scheme","startsWith","protocol","hostname","port","location","regexResult","exec","portSuffix","id","arguments","length","_ref$parentOrigin","parentOrigin","top","handleMessageEvent","e","constructor","isBuffer","_once2","_onlyOnce2","_wrapAsync2","_awaitify2","tasks","callback","Array","isArray","taskIndex","nextTask","args","next","err","arrayLikeToArray","arr","iter","Symbol","iterator","from","TypeError","fn","wrapper","callFn","apply","assign","func","_wrapAsync","isAsync","pop","handlePromise","_initialParams2","result","then","_setImmediate2","invokeCallback","message","call","fallback","wrap","_defer","hasSetImmediate","setImmediate","hasNextTick","process","nextTick","defer","asyncFn","arity","awaitable","resolve","cbArgs","waterfall","parallel","inherits","ethUtil","sigUtil","extend","Semaphore","Subprovider","estimateGas","hexRegex","HookedWalletSubprovider","opts","nonceLock","getAccounts","processTransaction","processMessage","processPersonalMessage","processTypedMessage","approveTransaction","autoApprove","approveMessage","approvePersonalMessage","approveDecryptMessage","approveEncryptionPublicKey","approveTypedMessage","signTransaction","mustProvideInConstructor","signMessage","signPersonalMessage","decryptMessage","encryptionPublicKey","signTypedMessage","recoverPersonalSignature","publishTransaction","getGasPrice","toLowerCase","string","resemblesAddress","fixed","addHexPrefix","isValidAddress","resemblesData","isValidHex","slice","match","methodName","params","cb","prototype","handleRequest","payload","end","txParams","msgParams","extraParams","address","self","_parityRequests","_parityRequestCount","method","accounts","validateTransaction","processSignTransaction","validateMessage","first","console","warn","warning","validatePersonalMessage","validateDecryptMessage","processDecryptMessage","validateEncryptionPublicKey","processEncryptionPublicKey","signature","sig","second","validateTypedMessage","parityPostTransaction","parityPostSign","requestId","parityCheckRequest","account","didApprove","checkApproval","finalizeAndSubmitTx","finalizeTx","type","count","reqId","toString","emitPayload","res","txHash","senderHex","validateSender","senderIsValid","senderAddress","map","indexOf","take","fillInTxExtras","bind","leave","signedTx","raw","tx","rawTx","engine","gasPrice","nonce","gas","to","cloneTxParams","taskResults","_noop2","_isArray2","task","push","_slice2","_parallel2","_eachOf2","eachfn","results","_isArrayLike2","key","ethAbi","typedSignatureHash","typedData","toBuffer","types","schema","name","soliditySHA3","fill","recoverPublicKey","hash","sigParams","fromRpcSig","ecrecover","v","r","s","getPublicKeyFor","hashPersonalMessage","padWithZeroes","number","myString","concatSig","rSig","fromSigned","sSig","vSig","bufferToInt","rStr","toUnsigned","sStr","vStr","stripHexPrefix","intToHex","concat","normalize","input","buffer","bufferToHex","msg","personalSign","privateKey","msgHash","ecsign","publicKey","sender","publicToAddress","extractPublicKey","hashBuffer","signTypedData","recoverTypedSignature","utils","BN","ABI","elementaryName","parseTypeN","parseInt","parseTypeNxM","tmp","parseTypeArray","parseNumber","arg","isHexPrefixed","toArray","parseSignature","split","retargs","encodeSingle","size","num","ret","i","Buffer","lastIndexOf","JSON","parse","unshift","zeros","setLengthRight","bitLength","toArrayLike","toTwos","mul","pow","decodeSingle","parsedType","offset","parseType","rawType","bytes","toNumber","decoded","subArray","memoryUsage","fromTwos","isZero","div","isDynamic","stringify","eventID","join","keccak256","methodID","rawEncode","values","output","headLength","cur","rawDecode","parsed","simpleEncode","simpleDecode","test","item","solidityHexValue","bitsize","subType","replace","arraySize","arrayValues","padding","bytesize","setLengthLeft","solidityPack","soliditySHA256","sha256","solidityRIPEMD160","ripemd160","fromSerpent","c","j","toSerpent","__export","addr","createKeccak","createShake","KeccakState","Keccak","Shake","algorithm","options","Transform","rate","capacity","delimitedSuffix","hashBitLength","_rate","_capacity","_delimitedSuffix","_hashBitLength","_options","_state","initialize","_finalized","_transform","chunk","encoding","update","_flush","digest","absorb","absorbLastFewBits","squeeze","_resetState","_clone","clone","copy","_read","dataByteLength","keccakState","state","blockSize","squeezing","p1600","bits","alloc","dest","P1600_ROUND_CONSTANTS","round","lo0","hi0","lo1","hi1","lo2","hi2","lo3","hi3","lo4","hi4","lo","hi","t1slo0","t1shi0","t1slo5","t1shi5","t1slo10","t1shi10","t1slo15","t1shi15","t1slo20","t1shi20","t1slo1","t1shi1","t1slo6","t1shi6","t1slo11","t1shi11","t1slo16","t1shi16","t1slo21","t1shi21","t1slo2","t1shi2","t1slo7","t1shi7","t1slo12","t1shi12","t1slo17","t1shi17","t1slo22","t1shi22","t1slo3","t1shi3","t1slo8","t1shi8","t1slo13","t1shi13","t1slo18","t1shi18","t1slo23","t1shi23","t1slo4","t1shi4","t1slo9","t1shi9","t1slo14","t1shi14","t1slo19","t1shi19","t1slo24","t1shi24","t2slo0","t2shi0","t2slo16","t2shi16","t2slo7","t2shi7","t2slo23","t2shi23","t2slo14","t2shi14","t2slo10","t2shi10","t2slo1","t2shi1","t2slo17","t2shi17","t2slo8","t2shi8","t2slo24","t2shi24","t2slo20","t2shi20","t2slo11","t2shi11","t2slo2","t2shi2","t2slo18","t2shi18","t2slo9","t2shi9","t2slo5","t2shi5","t2slo21","t2shi21","t2slo12","t2shi12","t2slo3","t2shi3","t2slo19","t2shi19","t2slo15","t2shi15","t2slo6","t2shi6","t2slo22","t2shi22","t2slo13","t2shi13","t2slo4","t2shi4","obj_1","global","semaphore","current","queue","firstHere","isFirst","n","shift","available","createPayload","provider","sendAsync","xhr","browser","ethErrors","serializeError","RpcSource","rpcUrl","targetUrl","newPayload","uri","headers","body","rejectUnauthorized","statusCode","rpc","methodNotFound","stack","EthereumRpcError","EthereumProviderError","getMessageFromCode","ERROR_CODES","stable","deterministicStringify","stableStringify","replacerStack","replacer","spacer","decirc","val","k","propertyDescriptor","getOwnPropertyDescriptor","get","configurable","replaceGetterValues","part","compareFunction","a","b","deterministicDecirc","toJSON","sort","splice","getEthJsonRpcError","validateOpts","getEthProviderError","invalidRequest","invalidParams","internal","server","Number","isInteger","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","userRejectedRequest","unauthorized","unsupportedMethod","custom","ProviderSubprovider","createSubscriptionManager","SubscriptionsSubprovider","blockTracker","events","middleware","on","emit","SafeEventEmitter","createScaffoldMiddleware","createAsyncMiddleware","createFilterMiddleware","unsafeRandomBytes","incrementHexInt","getBlocksForRange","normalizeBlock","block","parentHash","sha3Uncles","miner","stateRoot","transactionsRoot","receiptsRoot","logsBloom","difficulty","gasLimit","gasUsed","mixHash","timestamp","extraData","subscriptions","filterManager","isDestroyed","eth_subscribe","eth_unsubscribe","removeAllListeners","req","createSubNewHeads","createSubFromFilter","subId","filter","_emitSubscriptionResult","subscriptionType","uninstallFilter","idHex","sub","removeListener","oldBlock","newBlock","toBlock","fromBlock","rawBlocks","filterParams","newLogFilter","subscription","filterIdHex","jsonrpc","handlers","handler","release","EthQuery","pify","BaseFilterWithHistory","hexToInt","bnToHex","minBlockRef","blockRefIsNumber","LogFilter","ethQuery","topics","currentBlock","includes","_fetchLogs","newLogs","addInitialResults","matchingLogs","matchLog","addResults","getLogs","blockNumber","normalizedLogAddress","every","topicPattern","index","logTopic","subtopicsToMatch","topic","allResults","newResults","BaseFilter","BlockFilter","blockBodies","blockHashes","flatMap","TxFilter","blocks","blockTxHashes","transactions","argsTag","mapTag","objectTag","setTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","freeSelf","root","Function","freeExports","nodeType","freeModule","freeProcess","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arrayMap","array","iteratee","arrayPush","arraySome","predicate","isHostObject","mapToArray","setToArray","set","transform","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","IE_PROTO","funcToString","hasOwnProperty","objectToString","reIsNative","RegExp","Uint8Array","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","nativeKeys","DataView","getNative","Map","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","add","Stack","arrayLikeKeys","inherited","isArguments","baseTimes","String","skipIndexes","isIndex","assocIndexOf","eq","has","getMapData","cache","pairs","LARGE_ARRAY_SIZE","eachFunc","fromRight","baseEach","object","baseFor","collection","isArrayLike","iterable","keysFunc","props","createBaseFor","baseGet","path","isKey","castPath","toKey","baseHasIn","baseIsEqual","other","customizer","bitmask","isObject","isObjectLike","equalFunc","objIsArr","othIsArr","objTag","othTag","getTag","objIsObj","othIsObj","isSameTag","equalArrays","tag","byteLength","byteOffset","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isMasked","isFunction","baseIteratee","identity","srcValue","isStrictComparable","matchesStrictComparable","defaultValue","hasFunc","isLength","hasPath","hasIn","UNORDERED_COMPARE_FLAG","baseMatchesProperty","matchData","getMatchData","noCustomizer","baseIsMatch","baseMatches","basePropertyDeep","property","baseKeys","Ctor","proto","isPrototype","baseMap","stringToPath","arrLength","seen","arrValue","othIndex","isKeyable","getValue","isFlattenable","isSymbol","ArrayBuffer","ctorString","memoize","baseToString","quote","resolver","memoized","Cache","isArrayLikeObject","baseUnary","baseFlatten","depth","isStrict","privateKeyToPublicKey","publicKeyToAddress","publicKeyCreate","publicKeyConvert","toChecksumAddress","chainId","stripAddress","prefix","keccakHash","checksumAddress","toUpperCase","checkAddressChecksum","normalizeHex","addPrefix","evenLength","trim","isFinite","h","repeat","enumerable","writable","hex","uuid_1","uuid","v4","regex","v5","isUuid","empty","fromString","text","defaultConfig","xsUri","network","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","__importStar","ethers","config","authereum","getProvider","getAccountAddress","sign","transaction","sendTransaction","sendTransactionBatch","Signer","getRandomValues","crypto","msCrypto","rnds8","rng","byteToHex","substr","bytesToUuid","_nodeId","_clockseq","buf","bth","_lastMSecs","_lastNSecs","v1","node","clockseq","seedBytes","random","msecs","Date","getTime","nsecs","dt","tl","tmh","hashfunc","generateUUID","namespace","off","str","unescape","encodeURIComponent","charCodeAt","stringToBytes","uuidToBytes","idx","DNS","URL","safeAdd","x","y","lsw","md5cmn","q","t","cnt","md5ff","d","md5gg","md5hh","md5ii","md5","v3","v35","length32","charAt","md5ToHexEncodedArray","len","olda","oldb","oldc","oldd","wordsToMd5","length8","bytesToWords","rnds","ii","f","z","ROTL","sha1","K","H","l","N","Math","ceil","M","floor","W","T","sortBlockRefs","refs","refA","refB","hexString","int","unsafeRandomNibble","sortedRefs","maxBlockRef","bn","blockRef","byteCount","DATA_CLONE_ERROR","REJECTED","FULFILLED","REPLY","CALL","penpal_1","eventemitter3_1","moment_1","is_buffer_1","config_1","utils_1","serializeMessageObj","defaultIframeStyle","width","height","left","defaultNotifier","notify","dismiss","notifier","iframeReady","_configReady","iframeConnecting","cacheReady","readyEmitted","_widgetEnabled","iframeStyle","blockedPopupRedirect","notificationsMap","_heartbeatStarted","_backoffTimeout","_userConfig","_asymmetricEncryptionKey","_authereumQueryParams","_injectedElements","_destroyed","_init","networkName","redirectUri","href","_setupNotifier","_connectToChildIframe","catch","_startHeartbeat","_setupCache","_cacheAuthereumQueryParams","_setupSigningKey","_setupResizeListener","_emitReadyEvent","_handleWindowFocus","_setConfig","apiUri","rpcUri","webUri","notifierUri","networkId","disableNotifications","all","_cacheLoginKeyAddress","_cacheIsAuthenticated","_cacheAccountAddress","_postMessageToChild","_resetCache","_tilConfigReady","_injectScript","AuthereumNotifier","context","sourceUrl","_tilDomReady","getElementById","script","createElement","async","onload","onerror","getElementsByTagName","appendChild","debounce","_getWindowSize","loginKey","cachedLoginKeyAddress","publicAddress","accountAddress","cachedAccountAddress","isAuthenticated","cachedIsAuthenticated","login","throttle","_tilReady","_signLoginKeyRequest","getAuthenticatedAccount","notification","authenticate","_handleError","logout","getDappKey","getLoginKey","signWithDappKey","signWithLoginKey","signTypedMessageWithDappKey","signMessageWithAdminKey","signMessageWithSigningKey","getLoginKeyAuthSignature","getLoginKeyRestrictionsData","getBalance","getRpcUri","getNetworkId","getNetworkName","signTransactionWithLoginKey","userTransaction","userTransactions","isReady","updateConfig","getConfig","showWidget","enabled","_refreshWidget","hideWidget","setIframeWidth","setIframeHeight","widgetEnabled","_tilIframeReady","wait","_getOrCreateIframe","iframeConnection","_handlePostMessage","timedout","timer","childIframeConnection","reconnect","_heartbeat","_ping","pong","_getConfigFromChild","_postVersionToChild","_loadAsymmetricEncryptionKeyFromChild","_handleChildLogoutEvent","_handleChildDappKeyExpired","loginKeyAddress","_handlePostMessageNotification","_handlePostMessageUpdateNotificationId","_handlePostMessageUpdateNotification","_handlePostMessageDismissNotification","_handlePostMessageLog","newId","_getWindowWidth","_getWindowHeight","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","setIframePositionLeft","style","_loginKeyExists","_accountAddressExists","_getAccountAdminKeyNonce","_getAccountAuthKeyNonce","_executeLoginKeyMetaTx","_loadLoginKey","_getOrCreateLoginKey","_getAuthenticateUri","encryptionKey","expiresAt","utc","unix","_getSignWithAdminKeyUri","_openPopupOrRedirect","url","open","isBlocked","focus","interval","closed","cleanUp","close","doneWithError","success","encryptedSigningKey","_loadSigningKey","_logAnalyticsEvent","eventType","properties","dapp_url","readyState","isAuthenticatedSync","getTransactionReceipt","waitForTransactionReceipt","hasRecoveryEnabled","isContractDeployed","signingKey","param","getQueryParamValue","newUrl","removeQueryParam","replaceWindowUrl","element","remove","elements","querySelectorAll","uuidv4","position","bottom","right","border","background","zIndex","setAttribute","copyProps","dst","SafeBuffer","encodingOrOffset","allocUnsafe","allocUnsafeSlow","create","SlowBuffer","safeStringify","serialized","serialize","stringifyReplacer","isValidEthProviderCode","_","getPrototypeOf","setPrototypeOf","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Wrapper","isNativeReflectConstruct","_construct","Parent","Reflect","instance","updates","fromBlockNumber","toBlockNumber","missingBlockNumbers","blockNum","query","callbacks","destroyed","_len","_key","_errorSerialization","_event$data","createPromiseHandler","resolution","returnValue","returnValueIsError","deserializeError","deserializedError","_generateId","destroyConnection","reduce","api","iframeRemoved","createMethodProxy","waterfall_1","ethereumjs_util_1","xtend_1","web3_provider_engine_1","hooked_wallet_1","rpc_1","subscriptions_1","filters_1","pify_1","web3Utils","isAuthereum","lastSignTx","lastSignTxTimeout","lastTx","lastTxTimeout","lastMsg","lastMsgTimeout","lastTypedMsg","lastTypedMsgTimeout","concatAuthKeySig","authKeySig","authereumClient","initSubprovider","walletSubprovider","currentMsg","_throttledSignMessage","_signMessage","currentTx","_throttledSignTransaction","_signTransaction","_throttledProcessTransaction","_processTransaction","currentTypedMsg","_throttledSignTypedMessage","_signTypedMessage","signedTransaction","transactionHash","sha3","loginKeyRestrictionsData","combinedSig","signedTransactionData","_sendAsync","response","send","addProvider","rpcSubProvider","setEngine","start","_blockTracker","txs","nonPrefixed","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","isAsyncIterable","isAsyncGenerator","_asyncify","_asyncify2","toStringTag","asyncIterator","errorValues","FALLBACK_ERROR_CODE","FALLBACK_MESSAGE","FALLBACK_ERROR","fallbackMessage","codeString","isJsonRpcServerError","isValidCode","assignOriginalError","fallbackError","originalError","JSON_RPC_SERVER_ERROR_MESSAGE","Mutex","createJsonRpcMiddleware","toFilterCreationMiddleware","createFilterFn","toAsyncRpcMiddleware","objValues","filterIndex","filters","mutex","waitForFree","acquire","releaseLock","mutexMiddlewareWrapper","eth_newFilter","eth_newBlockFilter","newBlockFilter","eth_newPendingTransactionFilter","newPendingTransactionFilter","eth_uninstallFilter","uninstallFilterHandler","eth_getFilterChanges","getFilterChanges","eth_getFilterLogs","getFilterLogs","filterUpdater","uninstallAllFilters","installFilter","filterIndexHex","getChangesAndClear","getAllResults","Boolean","prevFilterCount","getLatestBlock","newFilterCount","updateBlockTrackerSubs","processFn","promiseModule","multiArgs","errorFirst","exclude","objType","pattern","include","some","excludeMain","ethereum_private_key_to_address_1","to_hex_1","uuidv4_1","querystring_1","privateKeyToAddress","toHex","signWithPrivateKey","providerUri","providers","JsonRpcProvider","wallet","Wallet","arrayify","time","limit","currentTick","activeCount","throttled","now","delete","search","u","searchParams","URLSearchParams","history","replaceState","title","_typeof","createKeccakHash","padToEven","isHexString","intToBuffer","isBN","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","target","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/5.2a547bc3.chunk.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst AuthereumSDK_1 = __importDefault(require(\"./AuthereumSDK\"));\nexports.Authereum = AuthereumSDK_1.default;\nconst AuthereumProvider_1 = __importDefault(require(\"./AuthereumProvider\"));\nexports.AuthereumProvider = AuthereumProvider_1.default;\nconst AuthereumSigner_1 = __importDefault(require(\"./AuthereumSigner\"));\nexports.AuthereumSigner = AuthereumSigner_1.default;\nconst version_1 = __importDefault(require(\"./version\"));\nexports.version = version_1.default;\nexports.default = AuthereumSDK_1.default;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _connectToChild = _interopRequireDefault(require(\"./connectToChild\"));\n\nvar _connectToParent = _interopRequireDefault(require(\"./connectToParent\"));\n\nvar _errorCodes = require(\"./errorCodes\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  ERR_CONNECTION_DESTROYED: _errorCodes.ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: _errorCodes.ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: _errorCodes.ERR_NOT_IN_IFRAME,\n  ERR_NO_IFRAME_SRC: _errorCodes.ERR_NO_IFRAME_SRC,\n  connectToChild: _connectToChild.default,\n  connectToParent: _connectToParent.default\n};\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _errorCodes = require(\"./errorCodes\");\n\nvar _createDestructor2 = _interopRequireDefault(require(\"./createDestructor\"));\n\nvar _getOriginFromSrc = _interopRequireDefault(require(\"./getOriginFromSrc\"));\n\nvar _createLogger = _interopRequireDefault(require(\"./createLogger\"));\n\nvar _connectCallReceiver = _interopRequireDefault(require(\"./connectCallReceiver\"));\n\nvar _connectCallSender = _interopRequireDefault(require(\"./connectCallSender\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CHECK_IFRAME_IN_DOC_INTERVAL = 60000;\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {Function} destroy A method that, when called, will disconnect any\n * messaging channels. You may call this even before a connection has been established.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {HTMLIframeElement} options.iframe The iframe to connect to.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {String} [options.childOrigin] The child origin to use to secure communication. If\n * not provided, the child origin will be derived from the iframe's src or srcdoc value.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\nvar _default = (_ref) => {\n  let iframe = _ref.iframe,\n      _ref$methods = _ref.methods,\n      methods = _ref$methods === void 0 ? {} : _ref$methods,\n      childOrigin = _ref.childOrigin,\n      timeout = _ref.timeout,\n      debug = _ref.debug;\n  const log = (0, _createLogger.default)(debug);\n  const parent = window;\n\n  const _createDestructor = (0, _createDestructor2.default)(),\n        destroy = _createDestructor.destroy,\n        onDestroy = _createDestructor.onDestroy;\n\n  if (!childOrigin) {\n    if (!iframe.src && !iframe.srcdoc) {\n      const error = new Error('Iframe must have src or srcdoc property defined.');\n      error.code = _errorCodes.ERR_NO_IFRAME_SRC;\n      throw error;\n    }\n\n    childOrigin = (0, _getOriginFromSrc.default)(iframe.src);\n  } // If event.origin is \"null\", the remote protocol is\n  // file:, data:, and we must post messages with \"*\" as targetOrigin\n  // when sending and allow\n  // [1] https://developer.mozilla.org/fr/docs/Web/API/Window/postMessage#Utiliser_window.postMessage_dans_les_extensions\n\n\n  const originForSending = childOrigin === 'null' ? '*' : childOrigin;\n  const promise = new Promise((resolveConnectionPromise, reject) => {\n    let connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(() => {\n        const error = new Error(`Connection to child timed out after ${timeout}ms`);\n        error.code = _errorCodes.ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    const callSender = {};\n    let receiverMethodNames;\n    let destroyCallReceiver;\n\n    const handleMessage = event => {\n      const child = iframe.contentWindow;\n\n      if (event.source !== child || event.data.penpal !== _constants.HANDSHAKE) {\n        return;\n      }\n\n      if (event.origin !== childOrigin) {\n        log(`Parent received handshake from origin ${event.origin} which did not match expected origin ${childOrigin}`);\n        return;\n      }\n\n      log('Parent: Received handshake, sending reply');\n      event.source.postMessage({\n        penpal: _constants.HANDSHAKE_REPLY,\n        methodNames: Object.keys(methods)\n      }, originForSending);\n      const info = {\n        localName: 'Parent',\n        local: parent,\n        remote: child,\n        originForSending: originForSending,\n        originForReceiving: childOrigin\n      }; // If the child reconnected, we need to destroy the previous call receiver before setting\n      // up a new one.\n\n      if (destroyCallReceiver) {\n        destroyCallReceiver();\n      }\n\n      destroyCallReceiver = (0, _connectCallReceiver.default)(info, methods, log);\n      onDestroy(destroyCallReceiver); // If the child reconnected, we need to remove the methods from the previous call receiver\n      // off the sender.\n\n      if (receiverMethodNames) {\n        receiverMethodNames.forEach(receiverMethodName => {\n          delete callSender[receiverMethodName];\n        });\n      }\n\n      receiverMethodNames = event.data.methodNames;\n      const destroyCallSender = (0, _connectCallSender.default)(callSender, info, receiverMethodNames, destroy, log);\n      onDestroy(destroyCallSender);\n      clearTimeout(connectionTimeoutId);\n      resolveConnectionPromise(callSender);\n    };\n\n    parent.addEventListener(_constants.MESSAGE, handleMessage);\n    log('Parent: Awaiting handshake'); // This is to prevent memory leaks when the iframe is removed\n    // from the document and the consumer hasn't called destroy().\n    // Without this, event listeners attached to the window would\n    // stick around and since the event handlers have a reference\n    // to the iframe in their closures, the iframe would stick around\n    // too.\n\n    var checkIframeInDocIntervalId = setInterval(() => {\n      if (!document.contains(iframe)) {\n        clearInterval(checkIframeInDocIntervalId);\n        destroy();\n      }\n    }, CHECK_IFRAME_IN_DOC_INTERVAL);\n    onDestroy(() => {\n      parent.removeEventListener(_constants.MESSAGE, handleMessage);\n      clearInterval(checkIframeInDocIntervalId);\n      const error = new Error('Connection destroyed');\n      error.code = _errorCodes.ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n  });\n  return {\n    promise,\n    destroy\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nconst URL_REGEX = /^(https?:)?\\/\\/([^/:]+)?(:(\\d+))?/;\nconst opaqueOriginSchemes = ['file:', 'data:'];\n/**\n * Converts a src value into an origin.\n * @param {string} src\n * @return {string} The URL's origin\n */\n\nvar _default = src => {\n  if (src && opaqueOriginSchemes.find(scheme => src.startsWith(scheme))) {\n    // The origin of the child document is an opaque origin and its\n    // serialization is \"null\"\n    // https://html.spec.whatwg.org/multipage/origin.html#origin\n    return 'null';\n  } // Note that if src is undefined, then srcdoc is being used instead of src\n  // and we can follow this same logic below to get the origin of the parent,\n  // which is the origin that we will need to use.\n\n\n  const location = document.location;\n  const regexResult = URL_REGEX.exec(src);\n  let protocol;\n  let hostname;\n  let port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  const portSuffix = port && port !== DEFAULT_PORTS[protocol] ? `:${port}` : '';\n  return `${protocol}//${hostname}${portSuffix}`;\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nlet id = 0;\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar _default = () => ++id;\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _errorCodes = require(\"./errorCodes\");\n\nvar _createDestructor2 = _interopRequireDefault(require(\"./createDestructor\"));\n\nvar _connectCallReceiver = _interopRequireDefault(require(\"./connectCallReceiver\"));\n\nvar _connectCallSender = _interopRequireDefault(require(\"./connectCallSender\"));\n\nvar _createLogger = _interopRequireDefault(require(\"./createLogger\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {Function} destroy A method that, when called, will disconnect any\n * messaging channels. You may call this even before a connection has been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\nvar _default = function _default() {\n  let _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$parentOrigin = _ref.parentOrigin,\n      parentOrigin = _ref$parentOrigin === void 0 ? '*' : _ref$parentOrigin,\n      _ref$methods = _ref.methods,\n      methods = _ref$methods === void 0 ? {} : _ref$methods,\n      timeout = _ref.timeout,\n      debug = _ref.debug;\n\n  const log = (0, _createLogger.default)(debug);\n\n  if (window === window.top) {\n    const error = new Error('connectToParent() must be called within an iframe');\n    error.code = _errorCodes.ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  const _createDestructor = (0, _createDestructor2.default)(),\n        destroy = _createDestructor.destroy,\n        onDestroy = _createDestructor.onDestroy;\n\n  const child = window;\n  const parent = child.parent;\n  const promise = new Promise((resolveConnectionPromise, reject) => {\n    let connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(() => {\n        const error = new Error(`Connection to parent timed out after ${timeout}ms`);\n        error.code = _errorCodes.ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    const handleMessageEvent = event => {\n      // Under niche scenarios, we get into this function after\n      // the iframe has been removed from the DOM. In Edge, this\n      // results in \"Object expected\" errors being thrown when we\n      // try to access properties on window (global properties).\n      // For this reason, we try to access a global up front (clearTimeout)\n      // and if it fails we can assume the iframe has been removed\n      // and we ignore the message event.\n      try {\n        clearTimeout();\n      } catch (e) {\n        return;\n      }\n\n      if (event.source !== parent || event.data.penpal !== _constants.HANDSHAKE_REPLY) {\n        return;\n      }\n\n      if (parentOrigin !== '*' && parentOrigin !== event.origin) {\n        log(`Child received handshake reply from origin ${event.origin} which did not match expected origin ${parentOrigin}`);\n        return;\n      }\n\n      log('Child: Received handshake reply');\n      child.removeEventListener(_constants.MESSAGE, handleMessageEvent);\n      const info = {\n        localName: 'Child',\n        local: child,\n        remote: parent,\n        originForSending: event.origin === 'null' ? '*' : event.origin,\n        originForReceiving: event.origin\n      };\n      const callSender = {};\n      const destroyCallReceiver = (0, _connectCallReceiver.default)(info, methods, log);\n      onDestroy(destroyCallReceiver);\n      const destroyCallSender = (0, _connectCallSender.default)(callSender, info, event.data.methodNames, destroy, log);\n      onDestroy(destroyCallSender);\n      clearTimeout(connectionTimeoutId);\n      resolveConnectionPromise(callSender);\n    };\n\n    child.addEventListener(_constants.MESSAGE, handleMessageEvent);\n    onDestroy(() => {\n      child.removeEventListener(_constants.MESSAGE, handleMessageEvent);\n      const error = new Error('Connection destroyed');\n      error.code = _errorCodes.ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: _constants.HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise,\n    destroy\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _once = require('./internal/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nvar _awaitify = require('./internal/awaitify');\n\nvar _awaitify2 = _interopRequireDefault(_awaitify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */\nfunction waterfall(tasks, callback) {\n    callback = (0, _once2.default)(callback);\n    if (!Array.isArray(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        var task = (0, _wrapAsync2.default)(tasks[taskIndex++]);\n        task(...args, (0, _onlyOnce2.default)(next));\n    }\n\n    function next(err, ...args) {\n        if (err === false) return;\n        if (err || taskIndex === tasks.length) {\n            return callback(err, ...args);\n        }\n        nextTask(args);\n    }\n\n    nextTask([]);\n}\n\nexports.default = (0, _awaitify2.default)(waterfall);\nmodule.exports = exports['default'];","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = once;\nfunction once(fn) {\n    function wrapper(...args) {\n        if (fn === null) return;\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, args);\n    }\n    Object.assign(wrapper, fn);\n    return wrapper;\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = onlyOnce;\nfunction onlyOnce(fn) {\n    return function (...args) {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, args);\n    };\n}\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = asyncify;\n\nvar _initialParams = require('./internal/initialParams');\n\nvar _initialParams2 = _interopRequireDefault(_initialParams);\n\nvar _setImmediate = require('./internal/setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous function, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    if ((0, _wrapAsync.isAsync)(func)) {\n        return function (...args /*, callback*/) {\n            const callback = args.pop();\n            const promise = func.apply(this, args);\n            return handlePromise(promise, callback);\n        };\n    }\n\n    return (0, _initialParams2.default)(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if (result && typeof result.then === 'function') {\n            return handlePromise(result, callback);\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nfunction handlePromise(promise, callback) {\n    return promise.then(value => {\n        invokeCallback(callback, null, value);\n    }, err => {\n        invokeCallback(callback, err && err.message ? err : new Error(err));\n    });\n}\n\nfunction invokeCallback(callback, error, value) {\n    try {\n        callback(error, value);\n    } catch (err) {\n        (0, _setImmediate2.default)(e => {\n            throw e;\n        }, err);\n    }\n}\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (fn) {\n    return function (...args /*, callback*/) {\n        var callback = args.pop();\n        return fn.call(this, args, callback);\n    };\n};\n\nmodule.exports = exports[\"default\"];","'use strict';\n/* istanbul ignore file */\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fallback = fallback;\nexports.wrap = wrap;\nvar hasSetImmediate = exports.hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = exports.hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return (fn, ...args) => defer(() => fn(...args));\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nexports.default = wrap(_defer);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = awaitify;\n// conditionally promisify a function.\n// only return a promise if a callback is omitted\nfunction awaitify(asyncFn, arity = asyncFn.length) {\n    if (!arity) throw new Error('arity is undefined');\n    function awaitable(...args) {\n        if (typeof args[arity - 1] === 'function') {\n            return asyncFn.apply(this, args);\n        }\n\n        return new Promise((resolve, reject) => {\n            args[arity - 1] = (err, ...cbArgs) => {\n                if (err) return reject(err);\n                resolve(cbArgs.length > 1 ? cbArgs : cbArgs[0]);\n            };\n            asyncFn.apply(this, args);\n        });\n    }\n\n    return awaitable;\n}\nmodule.exports = exports['default'];","/*\n * Emulate 'eth_accounts' / 'eth_sendTransaction' using 'eth_sendRawTransaction'\n *\n * The two callbacks a user needs to implement are:\n * - getAccounts() -- array of addresses supported\n * - signTransaction(tx) -- sign a raw transaction object\n */\n\nconst waterfall = require('async/waterfall')\nconst parallel = require('async/parallel')\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst sigUtil = require('eth-sig-util')\nconst extend = require('xtend')\nconst Semaphore = require('semaphore')\nconst Subprovider = require('./subprovider.js')\nconst estimateGas = require('../util/estimate-gas.js')\nconst hexRegex = /^[0-9A-Fa-f]+$/g\n\nmodule.exports = HookedWalletSubprovider\n\n// handles the following RPC methods:\n//   eth_coinbase\n//   eth_accounts\n//   eth_sendTransaction\n//   eth_sign\n//   eth_signTypedData\n//   eth_signTypedData_v3\n//   eth_signTypedData_v4\n//   personal_sign\n//   eth_decryptMessage\n//   encryption_public_key\n//   personal_ecRecover\n//   parity_postTransaction\n//   parity_checkRequest\n//   parity_defaultAccount\n\n//\n// Tx Signature Flow\n//\n// handleRequest: eth_sendTransaction\n//   validateTransaction (basic validity check)\n//     validateSender (checks that sender is in accounts)\n//   processTransaction (sign tx and submit to network)\n//     approveTransaction (UI approval hook)\n//     checkApproval\n//     finalizeAndSubmitTx (tx signing)\n//       nonceLock.take (bottle neck to ensure atomic nonce)\n//         fillInTxExtras (set fallback gasPrice, nonce, etc)\n//         signTransaction (perform the signature)\n//         publishTransaction (publish signed tx to network)\n//\n\n\ninherits(HookedWalletSubprovider, Subprovider)\n\nfunction HookedWalletSubprovider(opts){\n  const self = this\n  // control flow\n  self.nonceLock = Semaphore(1)\n\n  // data lookup\n  if (opts.getAccounts) self.getAccounts = opts.getAccounts\n  // high level override\n  if (opts.processTransaction) self.processTransaction = opts.processTransaction\n  if (opts.processMessage) self.processMessage = opts.processMessage\n  if (opts.processPersonalMessage) self.processPersonalMessage = opts.processPersonalMessage\n  if (opts.processTypedMessage) self.processTypedMessage = opts.processTypedMessage\n  // approval hooks\n  self.approveTransaction = opts.approveTransaction || self.autoApprove\n  self.approveMessage = opts.approveMessage || self.autoApprove\n  self.approvePersonalMessage = opts.approvePersonalMessage || self.autoApprove\n  self.approveDecryptMessage = opts.approveDecryptMessage || self.autoApprove\n  self.approveEncryptionPublicKey = opts.approveEncryptionPublicKey || self.autoApprove\n  self.approveTypedMessage = opts.approveTypedMessage || self.autoApprove\n  // actually perform the signature\n  if (opts.signTransaction) self.signTransaction = opts.signTransaction  || mustProvideInConstructor('signTransaction')\n  if (opts.signMessage) self.signMessage = opts.signMessage  || mustProvideInConstructor('signMessage')\n  if (opts.signPersonalMessage) self.signPersonalMessage = opts.signPersonalMessage  || mustProvideInConstructor('signPersonalMessage')\n  if (opts.decryptMessage) self.decryptMessage = opts.decryptMessage  || mustProvideInConstructor('decryptMessage')\n  if (opts.encryptionPublicKey) self.encryptionPublicKey = opts.encryptionPublicKey  || mustProvideInConstructor('encryptionPublicKey')\n  if (opts.signTypedMessage) self.signTypedMessage = opts.signTypedMessage  || mustProvideInConstructor('signTypedMessage')\n  if (opts.recoverPersonalSignature) self.recoverPersonalSignature = opts.recoverPersonalSignature\n  // publish to network\n  if (opts.publishTransaction) self.publishTransaction = opts.publishTransaction\n  // gas options\n  self.estimateGas = opts.estimateGas || self.estimateGas\n  self.getGasPrice = opts.getGasPrice || self.getGasPrice\n}\n\nHookedWalletSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  self._parityRequests = {}\n  self._parityRequestCount = 0\n\n  // switch statement is not block scoped\n  // sp we cant repeat var declarations\n  let txParams, msgParams, extraParams\n  let message, address\n\n  switch(payload.method) {\n\n    case 'eth_coinbase':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        let result = accounts[0] || null\n        end(null, result)\n      })\n      return\n\n    case 'eth_accounts':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        end(null, accounts)\n      })\n      return\n\n    case 'eth_sendTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processSignTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_sign':\n      // process normally\n      address = payload.params[0]\n      message = payload.params[1]\n      // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n      // good place for metadata\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateMessage(msgParams, cb),\n        (cb) => self.processMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'personal_sign':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_personalSign method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validatePersonalMessage(msgParams, cb),\n          (cb) => self.processPersonalMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'eth_decryptMessage':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_decryptMessage method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validateDecryptMessage(msgParams, cb),\n          (cb) => self.processDecryptMessage(msgParams, cb),\n        ], end)\n      })()\n      \n    case 'encryption_public_key':\n      return (function(){\n        const address = payload.params[0]\n        \n        waterfall([\n          (cb) => self.validateEncryptionPublicKey(address, cb),\n          (cb) => self.processEncryptionPublicKey(address, cb),\n        ], end)\n      })()\n      \n    case 'personal_ecRecover':\n      return (function(){    \n        message = payload.params[0]\n        let signature = payload.params[1]\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          sig: signature,\n          data: message,\n        })\n        self.recoverPersonalSignature(msgParams, end)\n      })()\n\n    case 'eth_signTypedData':\n    case 'eth_signTypedData_v3':\n    case 'eth_signTypedData_v4':\n      return (function(){ \n        // process normally\n      \n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        if (resemblesAddress(first)) {\n          address = first\n          message = second\n        } else {\n          message = first\n          address = second\n        }\n\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validateTypedMessage(msgParams, cb),\n          (cb) => self.processTypedMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'parity_postTransaction':\n      txParams = payload.params[0]\n      self.parityPostTransaction(txParams, end)\n      return\n\n    case 'parity_postSign':\n      address = payload.params[0]\n      message = payload.params[1]\n      self.parityPostSign(address, message, end)\n      return\n\n    case 'parity_checkRequest':\n      return (function(){\n        const requestId = payload.params[0]\n        self.parityCheckRequest(requestId, end)\n      })()\n\n    case 'parity_defaultAccount':\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        const account = accounts[0] || null\n        end(null, account)\n      })\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n\n//\n// data lookup\n//\n\nHookedWalletSubprovider.prototype.getAccounts = function(cb) {\n  cb(null, [])\n}\n\n\n//\n// \"process\" high level flow\n//\n\nHookedWalletSubprovider.prototype.processTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeAndSubmitTx(txParams, cb),\n  ], cb)\n}\n\n\nHookedWalletSubprovider.prototype.processSignTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeTx(txParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processPersonalMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approvePersonalMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signPersonalMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processDecryptMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveDecryptMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('decryptMessage', didApprove, cb),\n    (cb) => self.decryptMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processEncryptionPublicKey = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveEncryptionPublicKey(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('encryptionPublicKey', didApprove, cb),\n    (cb) => self.encryptionPublicKey(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessage(msgParams, cb),\n  ], cb)\n}\n\n//\n// approval\n//\n\nHookedWalletSubprovider.prototype.autoApprove = function(txParams, cb) {\n  cb(null, true)\n}\n\nHookedWalletSubprovider.prototype.checkApproval = function(type, didApprove, cb) {\n  cb( didApprove ? null : new Error('User denied '+type+' signature.') )\n}\n\n//\n// parity\n//\n\nHookedWalletSubprovider.prototype.parityPostTransaction = function(txParams, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sendTransaction',\n    params: [txParams],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const txHash = res.result\n    self._parityRequests[reqId] = txHash\n  })\n\n  cb(null, reqId)\n}\n\n\nHookedWalletSubprovider.prototype.parityPostSign = function(address, message, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sign',\n    params: [address, message],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const result = res.result\n    self._parityRequests[reqId] = result\n  })\n\n  cb(null, reqId)\n}\n\nHookedWalletSubprovider.prototype.parityCheckRequest = function(reqId, cb) {\n  const self = this\n  const result = self._parityRequests[reqId] || null\n  // tx not handled yet\n  if (!result) return cb(null, null)\n  // tx was rejected (or other error)\n  if (result.error) return cb(result.error)\n  // tx sent\n  cb(null, result)\n}\n\n//\n// signature and recovery\n//\n\nHookedWalletSubprovider.prototype.recoverPersonalSignature = function(msgParams, cb) {\n  let senderHex\n  try {\n    senderHex = sigUtil.recoverPersonalSignature(msgParams)\n  } catch (err) {\n    return cb(err)\n  }\n  cb(null, senderHex)\n}\n\n//\n// validation\n//\n\nHookedWalletSubprovider.prototype.validateTransaction = function(txParams, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (txParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign transaction.`))\n  self.validateSender(txParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign transaction for this address: \"${txParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign message.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validatePersonalMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign personal message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to sign personal message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateDecryptMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to decrypt message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to decrypt message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to decrypt message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateEncryptionPublicKey = function(address, cb){\n  const self = this\n\n  self.validateSender(address, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to obtain encryption public key for this address: \"${address}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessage = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateSender = function(senderAddress, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (!senderAddress) return cb(null, false)\n  self.getAccounts(function(err, accounts){\n    if (err) return cb(err)\n    const senderIsValid = (accounts.map(toLowerCase).indexOf(senderAddress.toLowerCase()) !== -1)\n    cb(null, senderIsValid)\n  })\n}\n\n//\n// tx helpers\n//\n\nHookedWalletSubprovider.prototype.finalizeAndSubmitTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n      self.publishTransaction.bind(self),\n    ], function(err, txHash){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, txHash)\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.finalizeTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n    ], function(err, signedTx){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, {raw: signedTx, tx: txParams})\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.publishTransaction = function(rawTx, cb) {\n  const self = this\n  self.emitPayload({\n    method: 'eth_sendRawTransaction',\n    params: [rawTx],\n  }, function(err, res){\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.estimateGas = function(txParams, cb) {\n  const self = this\n  estimateGas(self.engine, txParams, cb)\n}\n\nHookedWalletSubprovider.prototype.getGasPrice = function(cb) {\n  const self = this\n  self.emitPayload({ method: 'eth_gasPrice', params: [] }, function (err, res) {\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.fillInTxExtras = function(txParams, cb){\n  const self = this\n  const address = txParams.from\n  // console.log('fillInTxExtras - address:', address)\n\n  const tasks = {}\n\n  if (txParams.gasPrice === undefined) {\n    // console.log(\"need to get gasprice\")\n    tasks.gasPrice = self.getGasPrice.bind(self)\n  }\n\n  if (txParams.nonce === undefined) {\n    // console.log(\"need to get nonce\")\n    tasks.nonce = self.emitPayload.bind(self, { method: 'eth_getTransactionCount', params: [address, 'pending'] })\n  }\n\n  if (txParams.gas === undefined) {\n    // console.log(\"need to get gas\")\n    tasks.gas = self.estimateGas.bind(self, cloneTxParams(txParams))\n  }\n\n  parallel(tasks, function(err, taskResults) {\n    if (err) return cb(err)\n\n    const result = {}\n    if (taskResults.gasPrice) result.gasPrice = taskResults.gasPrice\n    if (taskResults.nonce) result.nonce = taskResults.nonce.result\n    if (taskResults.gas) result.gas = taskResults.gas\n\n    cb(null, extend(txParams, result))\n  })\n}\n\n// util\n\n// we use this to clean any custom params from the txParams\nfunction cloneTxParams(txParams){\n  return {\n    from: txParams.from,\n    to: txParams.to,\n    value: txParams.value,\n    data: txParams.data,\n    gas: txParams.gas,\n    gasPrice: txParams.gasPrice,\n    nonce: txParams.nonce,\n  }\n}\n\nfunction toLowerCase(string){\n  return string.toLowerCase()\n}\n\nfunction resemblesAddress (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValid = ethUtil.isValidAddress(fixed)\n  return isValid\n}\n\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValidAddress = ethUtil.isValidAddress(fixed)\n  return !isValidAddress && isValidHex(string)\n}\n\nfunction isValidHex(data) {\n  const isString = typeof data === 'string'\n  if (!isString) return false\n  const isHexPrefixed = data.slice(0,2) === '0x'\n  if (!isHexPrefixed) return false\n  const nonPrefixed = data.slice(2)\n  const isValid = nonPrefixed.match(hexRegex)\n  return isValid\n}\n\nfunction mustProvideInConstructor(methodName) {\n  return function(params, cb) {\n    cb(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + methodName + '\" fn in constructor options'))\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (tasks, callback) {\n    callback = (0, _once2.default)(callback || _noop2.default);\n    if (!(0, _isArray2.default)(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        var task = (0, _wrapAsync2.default)(tasks[taskIndex++]);\n        args.push((0, _onlyOnce2.default)(next));\n        task.apply(null, args);\n    }\n\n    function next(err /*, ...args*/) {\n        if (err || taskIndex === tasks.length) {\n            return callback.apply(null, arguments);\n        }\n        nextTask((0, _slice2.default)(arguments, 1));\n    }\n\n    nextTask([]);\n};\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./internal/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _slice = require('./internal/slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parallelLimit;\n\nvar _eachOf = require('./eachOf');\n\nvar _eachOf2 = _interopRequireDefault(_eachOf);\n\nvar _parallel = require('./internal/parallel');\n\nvar _parallel2 = _interopRequireDefault(_parallel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Run the `tasks` collection of functions in parallel, without waiting until\n * the previous function has completed. If any of the functions pass an error to\n * its callback, the main `callback` is immediately called with the value of the\n * error. Once the `tasks` have completed, the results are passed to the final\n * `callback` as an array.\n *\n * **Note:** `parallel` is about kicking-off I/O tasks in parallel, not about\n * parallel execution of code.  If your tasks do not use any timers or perform\n * any I/O, they will actually be executed in series.  Any synchronous setup\n * sections for each task will happen one after the other.  JavaScript remains\n * single-threaded.\n *\n * **Hint:** Use [`reflect`]{@link module:Utils.reflect} to continue the\n * execution of other tasks when a task fails.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n * results from {@link async.parallel}.\n *\n * @name parallel\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n *\n * @example\n * async.parallel([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // the results array will equal ['one','two'] even though\n *     // the second function had a shorter timeout.\n * });\n *\n * // an example using an object instead of an array\n * async.parallel({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equals to: {one: 1, two: 2}\n * });\n */\nfunction parallelLimit(tasks, callback) {\n  (0, _parallel2.default)(_eachOf2.default, tasks, callback);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _parallel;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _parallel(eachfn, tasks, callback) {\n    callback = callback || _noop2.default;\n    var results = (0, _isArrayLike2.default)(tasks) ? [] : {};\n\n    eachfn(tasks, function (task, key, callback) {\n        (0, _wrapAsync2.default)(task)(function (err, result) {\n            if (arguments.length > 2) {\n                result = (0, _slice2.default)(arguments, 1);\n            }\n            results[key] = result;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\nmodule.exports = exports['default'];","const ethUtil = require('ethereumjs-util')\nconst ethAbi = require('ethereumjs-abi')\n\nmodule.exports = {\n\n  concatSig: function (v, r, s) {\n    const rSig = ethUtil.fromSigned(r)\n    const sSig = ethUtil.fromSigned(s)\n    const vSig = ethUtil.bufferToInt(v)\n    const rStr = padWithZeroes(ethUtil.toUnsigned(rSig).toString('hex'), 64)\n    const sStr = padWithZeroes(ethUtil.toUnsigned(sSig).toString('hex'), 64)\n    const vStr = ethUtil.stripHexPrefix(ethUtil.intToHex(vSig))\n    return ethUtil.addHexPrefix(rStr.concat(sStr, vStr)).toString('hex')\n  },\n\n  normalize: function (input) {\n    if (!input) return\n\n    if (typeof input === 'number') {\n      const buffer = ethUtil.toBuffer(input)\n      input = ethUtil.bufferToHex(buffer)\n    }\n\n    if (typeof input !== 'string') {\n      var msg = 'eth-sig-util.normalize() requires hex string or integer input.'\n      msg += ' received ' + (typeof input) + ': ' + input\n      throw new Error(msg)\n    }\n\n    return ethUtil.addHexPrefix(input.toLowerCase())\n  },\n\n  personalSign: function (privateKey, msgParams) {\n    var message = ethUtil.toBuffer(msgParams.data)\n    var msgHash = ethUtil.hashPersonalMessage(message)\n    var sig = ethUtil.ecsign(msgHash, privateKey)\n    var serialized = ethUtil.bufferToHex(this.concatSig(sig.v, sig.r, sig.s))\n    return serialized\n  },\n\n  recoverPersonalSignature: function (msgParams) {\n    const publicKey = getPublicKeyFor(msgParams)\n    const sender = ethUtil.publicToAddress(publicKey)\n    const senderHex = ethUtil.bufferToHex(sender)\n    return senderHex\n  },\n\n  extractPublicKey: function (msgParams) {\n    const publicKey = getPublicKeyFor(msgParams)\n    return '0x' + publicKey.toString('hex')\n  },\n\n  typedSignatureHash: function (typedData) {\n    const hashBuffer = typedSignatureHash(typedData)\n    return ethUtil.bufferToHex(hashBuffer)\n  },\n\n  signTypedData: function (privateKey, msgParams) {\n    const msgHash = typedSignatureHash(msgParams.data)\n    const sig = ethUtil.ecsign(msgHash, privateKey)\n    return ethUtil.bufferToHex(this.concatSig(sig.v, sig.r, sig.s))\n  },\n\n  recoverTypedSignature: function (msgParams) {\n    const msgHash = typedSignatureHash(msgParams.data)\n    const publicKey = recoverPublicKey(msgHash, msgParams.sig)\n    const sender = ethUtil.publicToAddress(publicKey)\n    return ethUtil.bufferToHex(sender)\n  }\n\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHash(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? ethUtil.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return ethAbi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      ethAbi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      ethAbi.soliditySHA3(types, data)\n    ]\n  )\n}\n\nfunction recoverPublicKey(hash, sig) {\n  const signature = ethUtil.toBuffer(sig)\n  const sigParams = ethUtil.fromRpcSig(signature)\n  return ethUtil.ecrecover(hash, sigParams.v, sigParams.r, sigParams.s)\n}\n\nfunction getPublicKeyFor (msgParams) {\n  const message = ethUtil.toBuffer(msgParams.data)\n  const msgHash = ethUtil.hashPersonalMessage(message)\n  return recoverPublicKey(msgHash, msgParams.sig)\n}\n\n\nfunction padWithZeroes (number, length) {\n  var myString = '' + number\n  while (myString.length < length) {\n    myString = '0' + myString\n  }\n  return myString\n}\n","module.exports = require('./lib/index.js')\n","/* eslint-disable no-useless-escape */\nconst utils = require('ethereumjs-util')\nconst BN = require('bn.js')\n\nvar ABI = function () {\n}\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\nABI.eventID = function (name, types) {\n  // FIXME: use node.js util.format?\n  var sig = name + '(' + types.map(elementaryName).join(',') + ')'\n  return utils.keccak256(Buffer.from(sig))\n}\n\nABI.methodID = function (name, types) {\n  return ABI.eventID(name, types).slice(0, 4)\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ parseInt(tmp[1], 10), parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string') {\n    if (utils.isHexPrefixed(arg)) {\n      return new BN(utils.stripHexPrefix(arg), 16)\n    } else {\n      return new BN(arg, 10)\n    }\n  } else if (type === 'number') {\n    return new BN(arg)\n  } else if (arg.toArray) {\n    // assume this is a BN for the moment, replace with BN.isBN soon\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// someMethod(bytes,uint)\n// someMethod(bytes,uint):(boolean)\nfunction parseSignature (sig) {\n  var tmp = /^(\\w+)\\((.*)\\)$/.exec(sig)\n\n  if (tmp.length !== 3) {\n    throw new Error('Invalid method signature')\n  }\n\n  var args = /^(.+)\\):\\((.+)$/.exec(tmp[2])\n\n  if (args !== null && args.length === 3) {\n    return {\n      method: tmp[1],\n      args: args[1].split(','),\n      retargs: args[2].split(',')\n    }\n  } else {\n    var params = tmp[2].split(',')\n    if (params.length === 1 && params[0] === '') {\n      // Special-case (possibly naive) fixup for functions that take no arguments.\n      // TODO: special cases are always bad, but this makes the function return\n      // match what the calling functions expect\n      params = []\n    }\n    return {\n      method: tmp[1],\n      args: params\n    }\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', Buffer.from(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = Buffer.from(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, utils.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return utils.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return num.toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    return num.toTwos(256).toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num.mul(new BN(2).pow(new BN(size[1]))))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Decodes a single item (can be dynamic array)\n// @returns: array\n// FIXME: this method will need a lot of attention at checking limits and validation\nfunction decodeSingle (parsedType, data, offset) {\n  if (typeof parsedType === 'string') {\n    parsedType = parseType(parsedType)\n  }\n  var size, num, ret, i\n\n  if (parsedType.name === 'address') {\n    return decodeSingle(parsedType.rawType, data, offset).toArrayLike(Buffer, 'be', 20).toString('hex')\n  } else if (parsedType.name === 'bool') {\n    return decodeSingle(parsedType.rawType, data, offset).toString() === new BN(1).toString()\n  } else if (parsedType.name === 'string') {\n    var bytes = decodeSingle(parsedType.rawType, data, offset)\n    return Buffer.from(bytes, 'utf8').toString()\n  } else if (parsedType.isArray) {\n    // this part handles fixed-length arrays ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    ret = []\n    size = parsedType.size\n\n    if (parsedType.size === 'dynamic') {\n      offset = decodeSingle('uint256', data, offset).toNumber()\n      size = decodeSingle('uint256', data, offset).toNumber()\n      offset = offset + 32\n    }\n    for (i = 0; i < size; i++) {\n      var decoded = decodeSingle(parsedType.subArray, data, offset)\n      ret.push(decoded)\n      offset += parsedType.subArray.memoryUsage\n    }\n    return ret\n  } else if (parsedType.name === 'bytes') {\n    offset = decodeSingle('uint256', data, offset).toNumber()\n    size = decodeSingle('uint256', data, offset).toNumber()\n    return data.slice(offset + 32, offset + 32 + size)\n  } else if (parsedType.name.startsWith('bytes')) {\n    return data.slice(offset, offset + parsedType.size)\n  } else if (parsedType.name.startsWith('uint')) {\n    num = new BN(data.slice(offset, offset + 32), 16, 'be')\n    if (num.bitLength() > parsedType.size) {\n      throw new Error('Decoded int exceeds width: ' + parsedType.size + ' vs ' + num.bitLength())\n    }\n    return num\n  } else if (parsedType.name.startsWith('int')) {\n    num = new BN(data.slice(offset, offset + 32), 16, 'be').fromTwos(256)\n    if (num.bitLength() > parsedType.size) {\n      throw new Error('Decoded uint exceeds width: ' + parsedType.size + ' vs ' + num.bitLength())\n    }\n\n    return num\n  } else if (parsedType.name.startsWith('ufixed')) {\n    size = new BN(2).pow(new BN(parsedType.size[1]))\n    num = decodeSingle('uint256', data, offset)\n    if (!num.mod(size).isZero()) {\n      throw new Error('Decimals not supported yet')\n    }\n    return num.div(size)\n  } else if (parsedType.name.startsWith('fixed')) {\n    size = new BN(2).pow(new BN(parsedType.size[1]))\n    num = decodeSingle('int256', data, offset)\n    if (!num.mod(size).isZero()) {\n      throw new Error('Decimals not supported yet')\n    }\n    return num.div(size)\n  }\n  throw new Error('Unsupported or invalid type: ' + parsedType.name)\n}\n\n// Parse the given type\n// @returns: {} containing the type itself, memory usage and (including size and subArray if applicable)\nfunction parseType (type) {\n  var size\n  var ret\n  if (isArray(type)) {\n    size = parseTypeArray(type)\n    var subArray = type.slice(0, type.lastIndexOf('['))\n    subArray = parseType(subArray)\n    ret = {\n      isArray: true,\n      name: type,\n      size: size,\n      memoryUsage: size === 'dynamic' ? 32 : subArray.memoryUsage * size,\n      subArray: subArray\n    }\n    return ret\n  } else {\n    var rawType\n    switch (type) {\n      case 'address':\n        rawType = 'uint160'\n        break\n      case 'bool':\n        rawType = 'uint8'\n        break\n      case 'string':\n        rawType = 'bytes'\n        break\n    }\n    ret = {\n      rawType: rawType,\n      name: type,\n      memoryUsage: 32\n    }\n\n    if ((type.startsWith('bytes') && type !== 'bytes') || type.startsWith('uint') || type.startsWith('int')) {\n      ret.size = parseTypeN(type)\n    } else if (type.startsWith('ufixed') || type.startsWith('fixed')) {\n      ret.size = parseTypeNxM(type)\n    }\n\n    if (type.startsWith('bytes') && type !== 'bytes' && (ret.size < 1 || ret.size > 32)) {\n      throw new Error('Invalid bytes<N> width: ' + ret.size)\n    }\n    if ((type.startsWith('uint') || type.startsWith('int')) && (ret.size % 8 || ret.size < 8 || ret.size > 256)) {\n      throw new Error('Invalid int/uint<N> width: ' + ret.size)\n    }\n    return ret\n  }\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nABI.rawEncode = function (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 0\n\n  types.forEach(function (type) {\n    if (isArray(type)) {\n      var size = parseTypeArray(type)\n\n      if (size !== 'dynamic') {\n        headLength += 32 * size\n      } else {\n        headLength += 32\n      }\n    } else {\n      headLength += 32\n    }\n  })\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nABI.rawDecode = function (types, data) {\n  var ret = []\n  data = Buffer.from(data)\n  var offset = 0\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var parsed = parseType(type, data, offset)\n    var decoded = decodeSingle(parsed, data, offset)\n    offset += parsed.memoryUsage\n    ret.push(decoded)\n  }\n  return ret\n}\n\nABI.simpleEncode = function (method) {\n  var args = Array.prototype.slice.call(arguments).slice(1)\n  var sig = parseSignature(method)\n\n  // FIXME: validate/convert arguments\n  if (args.length !== sig.args.length) {\n    throw new Error('Argument count mismatch')\n  }\n\n  return Buffer.concat([ ABI.methodID(sig.method, sig.args), ABI.rawEncode(sig.args, args) ])\n}\n\nABI.simpleDecode = function (method, data) {\n  var sig = parseSignature(method)\n\n  // FIXME: validate/convert arguments\n  if (!sig.retargs) {\n    throw new Error('No return values in method')\n  }\n\n  return ABI.rawDecode(sig.retargs, data)\n}\n\nfunction stringify (type, value) {\n  if (type.startsWith('address') || type.startsWith('bytes')) {\n    return '0x' + value.toString('hex')\n  } else {\n    return value.toString()\n  }\n}\n\nABI.stringify = function (types, values) {\n  var ret = []\n\n  for (var i in types) {\n    var type = types[i]\n    var value = values[i]\n\n    // if it is an array type, concat the items\n    if (/^[^\\[]+\\[.*\\]$/.test(type)) {\n      value = value.map(function (item) {\n        return stringify(type, item)\n      }).join(', ')\n    } else {\n      value = stringify(type, value)\n    }\n\n    ret.push(value)\n  }\n\n  return ret\n}\n\nABI.solidityHexValue = function (type, value, bitsize) {\n  // pass in bitsize = null if use default bitsize\n  var size, num\n  if (isArray(type)) {\n    var subType = type.replace(/\\[.*?\\]/, '')\n    if (!isArray(subType)) {\n      var arraySize = parseTypeArray(type)\n      if (arraySize !== 'dynamic' && arraySize !== 0 && value.length > arraySize) {\n        throw new Error('Elements exceed array size: ' + arraySize)\n      }\n    }\n    var arrayValues = value.map(function (v) {\n      return ABI.solidityHexValue(subType, v, 256)\n    })\n    return Buffer.concat(arrayValues)\n  } else if (type === 'bytes') {\n    return value\n  } else if (type === 'string') {\n    return Buffer.from(value, 'utf8')\n  } else if (type === 'bool') {\n    bitsize = bitsize || 8\n    var padding = Array((bitsize) / 4).join('0')\n    return Buffer.from(value ? padding + '1' : padding + '0', 'hex')\n  } else if (type === 'address') {\n    var bytesize = 20\n    if (bitsize) {\n      bytesize = bitsize / 8\n    }\n    return utils.setLengthLeft(value, bytesize)\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return utils.setLengthRight(value, size)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(value)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    bitsize = bitsize || size\n    return num.toArrayLike(Buffer, 'be', bitsize / 8)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(value)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    bitsize = bitsize || size\n    return num.toTwos(size).toArrayLike(Buffer, 'be', bitsize / 8)\n  } else {\n    // FIXME: support all other types\n    throw new Error('Unsupported or invalid type: ' + type)\n  }\n}\n\nABI.solidityPack = function (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    ret.push(ABI.solidityHexValue(type, value, null))\n  }\n\n  return Buffer.concat(ret)\n}\n\nABI.soliditySHA3 = function (types, values) {\n  return utils.keccak256(ABI.solidityPack(types, values))\n}\n\nABI.soliditySHA256 = function (types, values) {\n  return utils.sha256(ABI.solidityPack(types, values))\n}\n\nABI.solidityRIPEMD160 = function (types, values) {\n  return utils.ripemd160(ABI.solidityPack(types, values), true)\n}\n\n// Serpent's users are familiar with this encoding\n// - s: string\n// - b: bytes\n// - b<N>: bytes<N>\n// - i: int256\n// - a: int256[]\n\nfunction isNumeric (c) {\n  // FIXME: is this correct? Seems to work\n  return (c >= '0') && (c <= '9')\n}\n\n// For a \"documentation\" refer to https://github.com/ethereum/serpent/blob/develop/preprocess.cpp\nABI.fromSerpent = function (sig) {\n  var ret = []\n  for (var i = 0; i < sig.length; i++) {\n    var type = sig[i]\n    if (type === 's') {\n      ret.push('bytes')\n    } else if (type === 'b') {\n      var tmp = 'bytes'\n      var j = i + 1\n      while ((j < sig.length) && isNumeric(sig[j])) {\n        tmp += sig[j] - '0'\n        j++\n      }\n      i = j - 1\n      ret.push(tmp)\n    } else if (type === 'i') {\n      ret.push('int256')\n    } else if (type === 'a') {\n      ret.push('int256[]')\n    } else {\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n  return ret\n}\n\nABI.toSerpent = function (types) {\n  var ret = []\n  for (var i = 0; i < types.length; i++) {\n    var type = types[i]\n    if (type === 'bytes') {\n      ret.push('s')\n    } else if (type.startsWith('bytes')) {\n      ret.push('b' + parseTypeN(type))\n    } else if (type === 'int256') {\n      ret.push('i')\n    } else if (type === 'int256[]') {\n      ret.push('a')\n    } else {\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n  return ret.join('')\n}\n\nmodule.exports = ABI\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar secp256k1 = require('secp256k1');\nexports.secp256k1 = secp256k1;\nvar ethjsUtil = require('ethjs-util');\nvar BN = require(\"bn.js\");\nexports.BN = BN;\nvar rlp = require(\"rlp\");\nexports.rlp = rlp;\nObject.assign(exports, ethjsUtil);\n/**\n * Constants\n */\n__export(require(\"./constants\"));\n/**\n * Public-key cryptography (secp256k1) and addresses\n */\n__export(require(\"./account\"));\n/**\n * Hash functions\n */\n__export(require(\"./hash\"));\n/**\n * ECDSA signature\n */\n__export(require(\"./signature\"));\n/**\n * Utilities for manipulating Buffers, byte arrays, etc.\n */\n__export(require(\"./bytes\"));\n/**\n * Function for definining properties on an object\n */\n__export(require(\"./object\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BN = require(\"bn.js\");\n/**\n * The max integer that this VM can handle\n */\nexports.MAX_INTEGER = new BN('ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff', 16);\n/**\n * 2^256\n */\nexports.TWO_POW256 = new BN('10000000000000000000000000000000000000000000000000000000000000000', 16);\n/**\n * Keccak-256 hash of null\n */\nexports.KECCAK256_NULL_S = 'c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\n/**\n * Keccak-256 hash of null\n */\nexports.KECCAK256_NULL = Buffer.from(exports.KECCAK256_NULL_S, 'hex');\n/**\n * Keccak-256 of an RLP of an empty array\n */\nexports.KECCAK256_RLP_ARRAY_S = '1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347';\n/**\n * Keccak-256 of an RLP of an empty array\n */\nexports.KECCAK256_RLP_ARRAY = Buffer.from(exports.KECCAK256_RLP_ARRAY_S, 'hex');\n/**\n * Keccak-256 hash of the RLP of null\n */\nexports.KECCAK256_RLP_S = '56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421';\n/**\n * Keccak-256 hash of the RLP of null\n */\nexports.KECCAK256_RLP = Buffer.from(exports.KECCAK256_RLP_S, 'hex');\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar assert = require('assert');\nvar ethjsUtil = require('ethjs-util');\nvar secp256k1 = require('secp256k1');\nvar BN = require(\"bn.js\");\nvar bytes_1 = require(\"./bytes\");\nvar hash_1 = require(\"./hash\");\n/**\n * Returns a zero address.\n */\nexports.zeroAddress = function () {\n    var addressLength = 20;\n    var addr = bytes_1.zeros(addressLength);\n    return bytes_1.bufferToHex(addr);\n};\n/**\n * Checks if the address is a valid. Accepts checksummed addresses too.\n */\nexports.isValidAddress = function (address) {\n    return /^0x[0-9a-fA-F]{40}$/.test(address);\n};\n/**\n * Checks if a given address is a zero address.\n */\nexports.isZeroAddress = function (address) {\n    var zeroAddr = exports.zeroAddress();\n    return zeroAddr === bytes_1.addHexPrefix(address);\n};\n/**\n * Returns a checksummed address.\n *\n * If a eip1191ChainId is provided, the chainId will be included in the checksum calculation. This\n * has the effect of checksummed addresses for one chain having invalid checksums for others.\n * For more details, consult EIP-1191.\n *\n * WARNING: Checksums with and without the chainId will differ. As of 2019-06-26, the most commonly\n * used variation in Ethereum was without the chainId. This may change in the future.\n */\nexports.toChecksumAddress = function (address, eip1191ChainId) {\n    address = ethjsUtil.stripHexPrefix(address).toLowerCase();\n    var prefix = eip1191ChainId !== undefined ? eip1191ChainId.toString() + '0x' : '';\n    var hash = hash_1.keccak(prefix + address).toString('hex');\n    var ret = '0x';\n    for (var i = 0; i < address.length; i++) {\n        if (parseInt(hash[i], 16) >= 8) {\n            ret += address[i].toUpperCase();\n        }\n        else {\n            ret += address[i];\n        }\n    }\n    return ret;\n};\n/**\n * Checks if the address is a valid checksummed address.\n *\n * See toChecksumAddress' documentation for details about the eip1191ChainId parameter.\n */\nexports.isValidChecksumAddress = function (address, eip1191ChainId) {\n    return exports.isValidAddress(address) && exports.toChecksumAddress(address, eip1191ChainId) === address;\n};\n/**\n * Generates an address of a newly created contract.\n * @param from The address which is creating this new address\n * @param nonce The nonce of the from account\n */\nexports.generateAddress = function (from, nonce) {\n    from = bytes_1.toBuffer(from);\n    var nonceBN = new BN(nonce);\n    if (nonceBN.isZero()) {\n        // in RLP we want to encode null in the case of zero nonce\n        // read the RLP documentation for an answer if you dare\n        return hash_1.rlphash([from, null]).slice(-20);\n    }\n    // Only take the lower 160bits of the hash\n    return hash_1.rlphash([from, Buffer.from(nonceBN.toArray())]).slice(-20);\n};\n/**\n * Generates an address for a contract created using CREATE2.\n * @param from The address which is creating this new address\n * @param salt A salt\n * @param initCode The init code of the contract being created\n */\nexports.generateAddress2 = function (from, salt, initCode) {\n    var fromBuf = bytes_1.toBuffer(from);\n    var saltBuf = bytes_1.toBuffer(salt);\n    var initCodeBuf = bytes_1.toBuffer(initCode);\n    assert(fromBuf.length === 20);\n    assert(saltBuf.length === 32);\n    var address = hash_1.keccak256(Buffer.concat([Buffer.from('ff', 'hex'), fromBuf, saltBuf, hash_1.keccak256(initCodeBuf)]));\n    return address.slice(-20);\n};\n/**\n * Returns true if the supplied address belongs to a precompiled account (Byzantium).\n */\nexports.isPrecompiled = function (address) {\n    var a = bytes_1.unpad(address);\n    return a.length === 1 && a[0] >= 1 && a[0] <= 8;\n};\n/**\n * Checks if the private key satisfies the rules of the curve secp256k1.\n */\nexports.isValidPrivate = function (privateKey) {\n    return secp256k1.privateKeyVerify(privateKey);\n};\n/**\n * Checks if the public key satisfies the rules of the curve secp256k1\n * and the requirements of Ethereum.\n * @param publicKey The two points of an uncompressed key, unless sanitize is enabled\n * @param sanitize Accept public keys in other formats\n */\nexports.isValidPublic = function (publicKey, sanitize) {\n    if (sanitize === void 0) { sanitize = false; }\n    if (publicKey.length === 64) {\n        // Convert to SEC1 for secp256k1\n        return secp256k1.publicKeyVerify(Buffer.concat([Buffer.from([4]), publicKey]));\n    }\n    if (!sanitize) {\n        return false;\n    }\n    return secp256k1.publicKeyVerify(publicKey);\n};\n/**\n * Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param pubKey The two points of an uncompressed key, unless sanitize is enabled\n * @param sanitize Accept public keys in other formats\n */\nexports.pubToAddress = function (pubKey, sanitize) {\n    if (sanitize === void 0) { sanitize = false; }\n    pubKey = bytes_1.toBuffer(pubKey);\n    if (sanitize && pubKey.length !== 64) {\n        pubKey = secp256k1.publicKeyConvert(pubKey, false).slice(1);\n    }\n    assert(pubKey.length === 64);\n    // Only take the lower 160bits of the hash\n    return hash_1.keccak(pubKey).slice(-20);\n};\nexports.publicToAddress = exports.pubToAddress;\n/**\n * Returns the ethereum address of a given private key.\n * @param privateKey A private key must be 256 bits wide\n */\nexports.privateToAddress = function (privateKey) {\n    return exports.publicToAddress(exports.privateToPublic(privateKey));\n};\n/**\n * Returns the ethereum public key of a given private key.\n * @param privateKey A private key must be 256 bits wide\n */\nexports.privateToPublic = function (privateKey) {\n    privateKey = bytes_1.toBuffer(privateKey);\n    // skip the type flag and use the X, Y points\n    return secp256k1.publicKeyCreate(privateKey, false).slice(1);\n};\n/**\n * Converts a public key to the Ethereum format.\n */\nexports.importPublic = function (publicKey) {\n    publicKey = bytes_1.toBuffer(publicKey);\n    if (publicKey.length !== 64) {\n        publicKey = secp256k1.publicKeyConvert(publicKey, false).slice(1);\n    }\n    return publicKey;\n};\n//# sourceMappingURL=account.js.map","'use strict'\nmodule.exports = require('./lib/api')(require('./lib/keccak'))\n","'use strict'\nconst createKeccak = require('./keccak')\nconst createShake = require('./shake')\n\nmodule.exports = function (KeccakState) {\n  const Keccak = createKeccak(KeccakState)\n  const Shake = createShake(KeccakState)\n\n  return function (algorithm, options) {\n    const hash = typeof algorithm === 'string' ? algorithm.toLowerCase() : algorithm\n    switch (hash) {\n      case 'keccak224': return new Keccak(1152, 448, null, 224, options)\n      case 'keccak256': return new Keccak(1088, 512, null, 256, options)\n      case 'keccak384': return new Keccak(832, 768, null, 384, options)\n      case 'keccak512': return new Keccak(576, 1024, null, 512, options)\n\n      case 'sha3-224': return new Keccak(1152, 448, 0x06, 224, options)\n      case 'sha3-256': return new Keccak(1088, 512, 0x06, 256, options)\n      case 'sha3-384': return new Keccak(832, 768, 0x06, 384, options)\n      case 'sha3-512': return new Keccak(576, 1024, 0x06, 512, options)\n\n      case 'shake128': return new Shake(1344, 256, 0x1f, options)\n      case 'shake256': return new Shake(1088, 512, 0x1f, options)\n\n      default: throw new Error('Invald algorithm: ' + algorithm)\n    }\n  }\n}\n","'use strict'\nconst Buffer = require('safe-buffer').Buffer\nconst Transform = require('stream').Transform\nconst inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Keccak (rate, capacity, delimitedSuffix, hashBitLength, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._hashBitLength = hashBitLength\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Keccak, Transform)\n\n  Keccak.prototype._transform = function (chunk, encoding, callback) {\n    let error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype._flush = function (callback) {\n    let error = null\n    try {\n      this.push(this.digest())\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Digest already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Keccak.prototype.digest = function (encoding) {\n    if (this._finalized) throw new Error('Digest already called')\n    this._finalized = true\n\n    if (this._delimitedSuffix) this._state.absorbLastFewBits(this._delimitedSuffix)\n    let digest = this._state.squeeze(this._hashBitLength / 8)\n    if (encoding !== undefined) digest = digest.toString(encoding)\n\n    this._resetState()\n\n    return digest\n  }\n\n  // remove result from memory\n  Keccak.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  // because sometimes we need hash right now and little later\n  Keccak.prototype._clone = function () {\n    const clone = new Keccak(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Keccak\n}\n","'use strict'\nconst Buffer = require('safe-buffer').Buffer\nconst Transform = require('stream').Transform\nconst inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Shake (rate, capacity, delimitedSuffix, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Shake, Transform)\n\n  Shake.prototype._transform = function (chunk, encoding, callback) {\n    let error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Shake.prototype._flush = function () {}\n\n  Shake.prototype._read = function (size) {\n    this.push(this.squeeze(size))\n  }\n\n  Shake.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Squeeze already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Shake.prototype.squeeze = function (dataByteLength, encoding) {\n    if (!this._finalized) {\n      this._finalized = true\n      this._state.absorbLastFewBits(this._delimitedSuffix)\n    }\n\n    let data = this._state.squeeze(dataByteLength)\n    if (encoding !== undefined) data = data.toString(encoding)\n\n    return data\n  }\n\n  Shake.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  Shake.prototype._clone = function () {\n    const clone = new Shake(this._rate, this._capacity, this._delimitedSuffix, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Shake\n}\n","'use strict'\nconst Buffer = require('safe-buffer').Buffer\nconst keccakState = require('./keccak-state-unroll')\n\nfunction Keccak () {\n  // much faster than `new Array(50)`\n  this.state = [\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0\n  ]\n\n  this.blockSize = null\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.initialize = function (rate, capacity) {\n  for (let i = 0; i < 50; ++i) this.state[i] = 0\n  this.blockSize = rate / 8\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.absorb = function (data) {\n  for (let i = 0; i < data.length; ++i) {\n    this.state[~~(this.count / 4)] ^= data[i] << (8 * (this.count % 4))\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n}\n\nKeccak.prototype.absorbLastFewBits = function (bits) {\n  this.state[~~(this.count / 4)] ^= bits << (8 * (this.count % 4))\n  if ((bits & 0x80) !== 0 && this.count === (this.blockSize - 1)) keccakState.p1600(this.state)\n  this.state[~~((this.blockSize - 1) / 4)] ^= 0x80 << (8 * ((this.blockSize - 1) % 4))\n  keccakState.p1600(this.state)\n  this.count = 0\n  this.squeezing = true\n}\n\nKeccak.prototype.squeeze = function (length) {\n  if (!this.squeezing) this.absorbLastFewBits(0x01)\n\n  const output = Buffer.alloc(length)\n  for (var i = 0; i < length; ++i) {\n    output[i] = (this.state[~~(this.count / 4)] >>> (8 * (this.count % 4))) & 0xff\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n\n  return output\n}\n\nKeccak.prototype.copy = function (dest) {\n  for (let i = 0; i < 50; ++i) dest.state[i] = this.state[i]\n  dest.blockSize = this.blockSize\n  dest.count = this.count\n  dest.squeezing = this.squeezing\n}\n\nmodule.exports = Keccak\n","'use strict'\nconst P1600_ROUND_CONSTANTS = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648]\n\nexports.p1600 = function (s) {\n  for (let round = 0; round < 24; ++round) {\n    // theta\n    const lo0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40]\n    const hi0 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41]\n    const lo1 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42]\n    const hi1 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43]\n    const lo2 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44]\n    const hi2 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45]\n    const lo3 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46]\n    const hi3 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47]\n    const lo4 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48]\n    const hi4 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49]\n\n    let lo = lo4 ^ (lo1 << 1 | hi1 >>> 31)\n    let hi = hi4 ^ (hi1 << 1 | lo1 >>> 31)\n    const t1slo0 = s[0] ^ lo\n    const t1shi0 = s[1] ^ hi\n    const t1slo5 = s[10] ^ lo\n    const t1shi5 = s[11] ^ hi\n    const t1slo10 = s[20] ^ lo\n    const t1shi10 = s[21] ^ hi\n    const t1slo15 = s[30] ^ lo\n    const t1shi15 = s[31] ^ hi\n    const t1slo20 = s[40] ^ lo\n    const t1shi20 = s[41] ^ hi\n    lo = lo0 ^ (lo2 << 1 | hi2 >>> 31)\n    hi = hi0 ^ (hi2 << 1 | lo2 >>> 31)\n    const t1slo1 = s[2] ^ lo\n    const t1shi1 = s[3] ^ hi\n    const t1slo6 = s[12] ^ lo\n    const t1shi6 = s[13] ^ hi\n    const t1slo11 = s[22] ^ lo\n    const t1shi11 = s[23] ^ hi\n    const t1slo16 = s[32] ^ lo\n    const t1shi16 = s[33] ^ hi\n    const t1slo21 = s[42] ^ lo\n    const t1shi21 = s[43] ^ hi\n    lo = lo1 ^ (lo3 << 1 | hi3 >>> 31)\n    hi = hi1 ^ (hi3 << 1 | lo3 >>> 31)\n    const t1slo2 = s[4] ^ lo\n    const t1shi2 = s[5] ^ hi\n    const t1slo7 = s[14] ^ lo\n    const t1shi7 = s[15] ^ hi\n    const t1slo12 = s[24] ^ lo\n    const t1shi12 = s[25] ^ hi\n    const t1slo17 = s[34] ^ lo\n    const t1shi17 = s[35] ^ hi\n    const t1slo22 = s[44] ^ lo\n    const t1shi22 = s[45] ^ hi\n    lo = lo2 ^ (lo4 << 1 | hi4 >>> 31)\n    hi = hi2 ^ (hi4 << 1 | lo4 >>> 31)\n    const t1slo3 = s[6] ^ lo\n    const t1shi3 = s[7] ^ hi\n    const t1slo8 = s[16] ^ lo\n    const t1shi8 = s[17] ^ hi\n    const t1slo13 = s[26] ^ lo\n    const t1shi13 = s[27] ^ hi\n    const t1slo18 = s[36] ^ lo\n    const t1shi18 = s[37] ^ hi\n    const t1slo23 = s[46] ^ lo\n    const t1shi23 = s[47] ^ hi\n    lo = lo3 ^ (lo0 << 1 | hi0 >>> 31)\n    hi = hi3 ^ (hi0 << 1 | lo0 >>> 31)\n    const t1slo4 = s[8] ^ lo\n    const t1shi4 = s[9] ^ hi\n    const t1slo9 = s[18] ^ lo\n    const t1shi9 = s[19] ^ hi\n    const t1slo14 = s[28] ^ lo\n    const t1shi14 = s[29] ^ hi\n    const t1slo19 = s[38] ^ lo\n    const t1shi19 = s[39] ^ hi\n    const t1slo24 = s[48] ^ lo\n    const t1shi24 = s[49] ^ hi\n\n    // rho & pi\n    const t2slo0 = t1slo0\n    const t2shi0 = t1shi0\n    const t2slo16 = (t1shi5 << 4 | t1slo5 >>> 28)\n    const t2shi16 = (t1slo5 << 4 | t1shi5 >>> 28)\n    const t2slo7 = (t1slo10 << 3 | t1shi10 >>> 29)\n    const t2shi7 = (t1shi10 << 3 | t1slo10 >>> 29)\n    const t2slo23 = (t1shi15 << 9 | t1slo15 >>> 23)\n    const t2shi23 = (t1slo15 << 9 | t1shi15 >>> 23)\n    const t2slo14 = (t1slo20 << 18 | t1shi20 >>> 14)\n    const t2shi14 = (t1shi20 << 18 | t1slo20 >>> 14)\n    const t2slo10 = (t1slo1 << 1 | t1shi1 >>> 31)\n    const t2shi10 = (t1shi1 << 1 | t1slo1 >>> 31)\n    const t2slo1 = (t1shi6 << 12 | t1slo6 >>> 20)\n    const t2shi1 = (t1slo6 << 12 | t1shi6 >>> 20)\n    const t2slo17 = (t1slo11 << 10 | t1shi11 >>> 22)\n    const t2shi17 = (t1shi11 << 10 | t1slo11 >>> 22)\n    const t2slo8 = (t1shi16 << 13 | t1slo16 >>> 19)\n    const t2shi8 = (t1slo16 << 13 | t1shi16 >>> 19)\n    const t2slo24 = (t1slo21 << 2 | t1shi21 >>> 30)\n    const t2shi24 = (t1shi21 << 2 | t1slo21 >>> 30)\n    const t2slo20 = (t1shi2 << 30 | t1slo2 >>> 2)\n    const t2shi20 = (t1slo2 << 30 | t1shi2 >>> 2)\n    const t2slo11 = (t1slo7 << 6 | t1shi7 >>> 26)\n    const t2shi11 = (t1shi7 << 6 | t1slo7 >>> 26)\n    const t2slo2 = (t1shi12 << 11 | t1slo12 >>> 21)\n    const t2shi2 = (t1slo12 << 11 | t1shi12 >>> 21)\n    const t2slo18 = (t1slo17 << 15 | t1shi17 >>> 17)\n    const t2shi18 = (t1shi17 << 15 | t1slo17 >>> 17)\n    const t2slo9 = (t1shi22 << 29 | t1slo22 >>> 3)\n    const t2shi9 = (t1slo22 << 29 | t1shi22 >>> 3)\n    const t2slo5 = (t1slo3 << 28 | t1shi3 >>> 4)\n    const t2shi5 = (t1shi3 << 28 | t1slo3 >>> 4)\n    const t2slo21 = (t1shi8 << 23 | t1slo8 >>> 9)\n    const t2shi21 = (t1slo8 << 23 | t1shi8 >>> 9)\n    const t2slo12 = (t1slo13 << 25 | t1shi13 >>> 7)\n    const t2shi12 = (t1shi13 << 25 | t1slo13 >>> 7)\n    const t2slo3 = (t1slo18 << 21 | t1shi18 >>> 11)\n    const t2shi3 = (t1shi18 << 21 | t1slo18 >>> 11)\n    const t2slo19 = (t1shi23 << 24 | t1slo23 >>> 8)\n    const t2shi19 = (t1slo23 << 24 | t1shi23 >>> 8)\n    const t2slo15 = (t1slo4 << 27 | t1shi4 >>> 5)\n    const t2shi15 = (t1shi4 << 27 | t1slo4 >>> 5)\n    const t2slo6 = (t1slo9 << 20 | t1shi9 >>> 12)\n    const t2shi6 = (t1shi9 << 20 | t1slo9 >>> 12)\n    const t2slo22 = (t1shi14 << 7 | t1slo14 >>> 25)\n    const t2shi22 = (t1slo14 << 7 | t1shi14 >>> 25)\n    const t2slo13 = (t1slo19 << 8 | t1shi19 >>> 24)\n    const t2shi13 = (t1shi19 << 8 | t1slo19 >>> 24)\n    const t2slo4 = (t1slo24 << 14 | t1shi24 >>> 18)\n    const t2shi4 = (t1shi24 << 14 | t1slo24 >>> 18)\n\n    // chi\n    s[0] = t2slo0 ^ (~t2slo1 & t2slo2)\n    s[1] = t2shi0 ^ (~t2shi1 & t2shi2)\n    s[10] = t2slo5 ^ (~t2slo6 & t2slo7)\n    s[11] = t2shi5 ^ (~t2shi6 & t2shi7)\n    s[20] = t2slo10 ^ (~t2slo11 & t2slo12)\n    s[21] = t2shi10 ^ (~t2shi11 & t2shi12)\n    s[30] = t2slo15 ^ (~t2slo16 & t2slo17)\n    s[31] = t2shi15 ^ (~t2shi16 & t2shi17)\n    s[40] = t2slo20 ^ (~t2slo21 & t2slo22)\n    s[41] = t2shi20 ^ (~t2shi21 & t2shi22)\n    s[2] = t2slo1 ^ (~t2slo2 & t2slo3)\n    s[3] = t2shi1 ^ (~t2shi2 & t2shi3)\n    s[12] = t2slo6 ^ (~t2slo7 & t2slo8)\n    s[13] = t2shi6 ^ (~t2shi7 & t2shi8)\n    s[22] = t2slo11 ^ (~t2slo12 & t2slo13)\n    s[23] = t2shi11 ^ (~t2shi12 & t2shi13)\n    s[32] = t2slo16 ^ (~t2slo17 & t2slo18)\n    s[33] = t2shi16 ^ (~t2shi17 & t2shi18)\n    s[42] = t2slo21 ^ (~t2slo22 & t2slo23)\n    s[43] = t2shi21 ^ (~t2shi22 & t2shi23)\n    s[4] = t2slo2 ^ (~t2slo3 & t2slo4)\n    s[5] = t2shi2 ^ (~t2shi3 & t2shi4)\n    s[14] = t2slo7 ^ (~t2slo8 & t2slo9)\n    s[15] = t2shi7 ^ (~t2shi8 & t2shi9)\n    s[24] = t2slo12 ^ (~t2slo13 & t2slo14)\n    s[25] = t2shi12 ^ (~t2shi13 & t2shi14)\n    s[34] = t2slo17 ^ (~t2slo18 & t2slo19)\n    s[35] = t2shi17 ^ (~t2shi18 & t2shi19)\n    s[44] = t2slo22 ^ (~t2slo23 & t2slo24)\n    s[45] = t2shi22 ^ (~t2shi23 & t2shi24)\n    s[6] = t2slo3 ^ (~t2slo4 & t2slo0)\n    s[7] = t2shi3 ^ (~t2shi4 & t2shi0)\n    s[16] = t2slo8 ^ (~t2slo9 & t2slo5)\n    s[17] = t2shi8 ^ (~t2shi9 & t2shi5)\n    s[26] = t2slo13 ^ (~t2slo14 & t2slo10)\n    s[27] = t2shi13 ^ (~t2shi14 & t2shi10)\n    s[36] = t2slo18 ^ (~t2slo19 & t2slo15)\n    s[37] = t2shi18 ^ (~t2shi19 & t2shi15)\n    s[46] = t2slo23 ^ (~t2slo24 & t2slo20)\n    s[47] = t2shi23 ^ (~t2shi24 & t2shi20)\n    s[8] = t2slo4 ^ (~t2slo0 & t2slo1)\n    s[9] = t2shi4 ^ (~t2shi0 & t2shi1)\n    s[18] = t2slo9 ^ (~t2slo5 & t2slo6)\n    s[19] = t2shi9 ^ (~t2shi5 & t2shi6)\n    s[28] = t2slo14 ^ (~t2slo10 & t2slo11)\n    s[29] = t2shi14 ^ (~t2shi10 & t2shi11)\n    s[38] = t2slo19 ^ (~t2slo15 & t2slo16)\n    s[39] = t2shi19 ^ (~t2shi15 & t2shi16)\n    s[48] = t2slo24 ^ (~t2slo20 & t2slo21)\n    s[49] = t2shi24 ^ (~t2shi20 & t2shi21)\n\n    // iota\n    s[0] ^= P1600_ROUND_CONSTANTS[round * 2]\n    s[1] ^= P1600_ROUND_CONSTANTS[round * 2 + 1]\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar secp256k1 = require('secp256k1');\nvar BN = require(\"bn.js\");\nvar bytes_1 = require(\"./bytes\");\nvar hash_1 = require(\"./hash\");\n/**\n * Returns the ECDSA signature of a message hash.\n */\nexports.ecsign = function (msgHash, privateKey, chainId) {\n    var sig = secp256k1.sign(msgHash, privateKey);\n    var recovery = sig.recovery;\n    var ret = {\n        r: sig.signature.slice(0, 32),\n        s: sig.signature.slice(32, 64),\n        v: chainId ? recovery + (chainId * 2 + 35) : recovery + 27,\n    };\n    return ret;\n};\n/**\n * ECDSA public key recovery from signature.\n * @returns Recovered public key\n */\nexports.ecrecover = function (msgHash, v, r, s, chainId) {\n    var signature = Buffer.concat([bytes_1.setLength(r, 32), bytes_1.setLength(s, 32)], 64);\n    var recovery = calculateSigRecovery(v, chainId);\n    if (!isValidSigRecovery(recovery)) {\n        throw new Error('Invalid signature v value');\n    }\n    var senderPubKey = secp256k1.recover(msgHash, signature, recovery);\n    return secp256k1.publicKeyConvert(senderPubKey, false).slice(1);\n};\n/**\n * Convert signature parameters into the format of `eth_sign` RPC method.\n * @returns Signature\n */\nexports.toRpcSig = function (v, r, s, chainId) {\n    var recovery = calculateSigRecovery(v, chainId);\n    if (!isValidSigRecovery(recovery)) {\n        throw new Error('Invalid signature v value');\n    }\n    // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n    return bytes_1.bufferToHex(Buffer.concat([bytes_1.setLengthLeft(r, 32), bytes_1.setLengthLeft(s, 32), bytes_1.toBuffer(v)]));\n};\n/**\n * Convert signature format of the `eth_sign` RPC method to signature parameters\n * NOTE: all because of a bug in geth: https://github.com/ethereum/go-ethereum/issues/2053\n */\nexports.fromRpcSig = function (sig) {\n    var buf = bytes_1.toBuffer(sig);\n    // NOTE: with potential introduction of chainId this might need to be updated\n    if (buf.length !== 65) {\n        throw new Error('Invalid signature length');\n    }\n    var v = buf[64];\n    // support both versions of `eth_sign` responses\n    if (v < 27) {\n        v += 27;\n    }\n    return {\n        v: v,\n        r: buf.slice(0, 32),\n        s: buf.slice(32, 64),\n    };\n};\n/**\n * Validate a ECDSA signature.\n * @param homesteadOrLater Indicates whether this is being used on either the homestead hardfork or a later one\n */\nexports.isValidSignature = function (v, r, s, homesteadOrLater, chainId) {\n    if (homesteadOrLater === void 0) { homesteadOrLater = true; }\n    var SECP256K1_N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n    var SECP256K1_N = new BN('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141', 16);\n    if (r.length !== 32 || s.length !== 32) {\n        return false;\n    }\n    if (!isValidSigRecovery(calculateSigRecovery(v, chainId))) {\n        return false;\n    }\n    var rBN = new BN(r);\n    var sBN = new BN(s);\n    if (rBN.isZero() || rBN.gt(SECP256K1_N) || sBN.isZero() || sBN.gt(SECP256K1_N)) {\n        return false;\n    }\n    if (homesteadOrLater && sBN.cmp(SECP256K1_N_DIV_2) === 1) {\n        return false;\n    }\n    return true;\n};\n/**\n * Returns the keccak-256 hash of `message`, prefixed with the header used by the `eth_sign` RPC call.\n * The output of this function can be fed into `ecsign` to produce the same signature as the `eth_sign`\n * call for a given `message`, or fed to `ecrecover` along with a signature to recover the public key\n * used to produce the signature.\n */\nexports.hashPersonalMessage = function (message) {\n    var prefix = Buffer.from(\"\\u0019Ethereum Signed Message:\\n\" + message.length.toString(), 'utf-8');\n    return hash_1.keccak(Buffer.concat([prefix, message]));\n};\nfunction calculateSigRecovery(v, chainId) {\n    return chainId ? v - (2 * chainId + 35) : v - 27;\n}\nfunction isValidSigRecovery(recovery) {\n    return recovery === 0 || recovery === 1;\n}\n//# sourceMappingURL=signature.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar assert = require('assert');\nvar ethjsUtil = require('ethjs-util');\nvar rlp = require(\"rlp\");\nvar bytes_1 = require(\"./bytes\");\n/**\n * Defines properties on a `Object`. It make the assumption that underlying data is binary.\n * @param self the `Object` to define properties on\n * @param fields an array fields to define. Fields can contain:\n * * `name` - the name of the properties\n * * `length` - the number of bytes the field can have\n * * `allowLess` - if the field can be less than the length\n * * `allowEmpty`\n * @param data data to be validated against the definitions\n * @deprecated\n */\nexports.defineProperties = function (self, fields, data) {\n    self.raw = [];\n    self._fields = [];\n    // attach the `toJSON`\n    self.toJSON = function (label) {\n        if (label === void 0) { label = false; }\n        if (label) {\n            var obj_1 = {};\n            self._fields.forEach(function (field) {\n                obj_1[field] = \"0x\" + self[field].toString('hex');\n            });\n            return obj_1;\n        }\n        return bytes_1.baToJSON(self.raw);\n    };\n    self.serialize = function serialize() {\n        return rlp.encode(self.raw);\n    };\n    fields.forEach(function (field, i) {\n        self._fields.push(field.name);\n        function getter() {\n            return self.raw[i];\n        }\n        function setter(v) {\n            v = bytes_1.toBuffer(v);\n            if (v.toString('hex') === '00' && !field.allowZero) {\n                v = Buffer.allocUnsafe(0);\n            }\n            if (field.allowLess && field.length) {\n                v = bytes_1.stripZeros(v);\n                assert(field.length >= v.length, \"The field \" + field.name + \" must not have more \" + field.length + \" bytes\");\n            }\n            else if (!(field.allowZero && v.length === 0) && field.length) {\n                assert(field.length === v.length, \"The field \" + field.name + \" must have byte length of \" + field.length);\n            }\n            self.raw[i] = v;\n        }\n        Object.defineProperty(self, field.name, {\n            enumerable: true,\n            configurable: true,\n            get: getter,\n            set: setter,\n        });\n        if (field.default) {\n            self[field.name] = field.default;\n        }\n        // attach alias\n        if (field.alias) {\n            Object.defineProperty(self, field.alias, {\n                enumerable: false,\n                configurable: true,\n                set: setter,\n                get: getter,\n            });\n        }\n    });\n    // if the constuctor is passed data\n    if (data) {\n        if (typeof data === 'string') {\n            data = Buffer.from(ethjsUtil.stripHexPrefix(data), 'hex');\n        }\n        if (Buffer.isBuffer(data)) {\n            data = rlp.decode(data);\n        }\n        if (Array.isArray(data)) {\n            if (data.length > self._fields.length) {\n                throw new Error('wrong number of fields in data');\n            }\n            // make sure all the items are buffers\n            data.forEach(function (d, i) {\n                self[self._fields[i]] = bytes_1.toBuffer(d);\n            });\n        }\n        else if (typeof data === 'object') {\n            var keys_1 = Object.keys(data);\n            fields.forEach(function (field) {\n                if (keys_1.indexOf(field.name) !== -1)\n                    self[field.name] = data[field.name];\n                if (keys_1.indexOf(field.alias) !== -1)\n                    self[field.alias] = data[field.alias];\n            });\n        }\n        else {\n            throw new Error('invalid data');\n        }\n    }\n};\n//# sourceMappingURL=object.js.map",";(function(global) {\n\n'use strict';\n\nvar nextTick = function (fn) { setTimeout(fn, 0); }\nif (typeof process != 'undefined' && process && typeof process.nextTick == 'function') {\n\t// node.js and the like\n\tnextTick = process.nextTick;\n}\n\nfunction semaphore(capacity) {\n\tvar semaphore = {\n\t\tcapacity: capacity || 1,\n\t\tcurrent: 0,\n\t\tqueue: [],\n\t\tfirstHere: false,\n\n\t\ttake: function() {\n\t\t\tif (semaphore.firstHere === false) {\n        \t\t\tsemaphore.current++;\n        \t\t\tsemaphore.firstHere = true;\n        \t\t\tvar isFirst = 1;\n      \t\t\t} else {\n        \t\t\tvar isFirst = 0;\n      \t\t\t}\n\t\t\tvar item = { n: 1 };\n\n\t\t\tif (typeof arguments[0] == 'function') {\n\t\t\t\titem.task = arguments[0];\n\t\t\t} else {\n\t\t\t\titem.n = arguments[0];\n\t\t\t}\n\n\t\t\tif (arguments.length >= 2)  {\n\t\t\t\tif (typeof arguments[1] == 'function') item.task = arguments[1];\n\t\t\t\telse item.n = arguments[1];\n\t\t\t}\n\n\t\t\tvar task = item.task;\n\t\t\titem.task = function() { task(semaphore.leave); };\n\n\t\t\tif (semaphore.current + item.n - isFirst > semaphore.capacity) {\n        \t\t\tif (isFirst === 1) {\n        \t\t\t\tsemaphore.current--;\n        \t\t\t\tsemaphore.firstHere = false;\n        \t\t\t}\n\t\t\t\treturn semaphore.queue.push(item);\n\t\t\t}\n\n\t\t\tsemaphore.current += item.n - isFirst;\n\t\t\titem.task(semaphore.leave);\n      \t\t\tif (isFirst === 1) semaphore.firstHere = false;\n\t\t},\n\n\t\tleave: function(n) {\n\t\t\tn = n || 1;\n\n\t\t\tsemaphore.current -= n;\n\n\t\t\tif (!semaphore.queue.length) {\n\t\t\t\tif (semaphore.current < 0) {\n\t\t\t\t\tthrow new Error('leave called too many times.');\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = semaphore.queue[0];\n\n\t\t\tif (item.n + semaphore.current > semaphore.capacity) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsemaphore.queue.shift();\n\t\t\tsemaphore.current += item.n;\n\n\t\t\tnextTick(item.task);\n\t\t},\n\n\t\tavailable: function(n) {\n\t\t\tn = n || 1;\n\t\t\treturn(semaphore.current + n <= semaphore.capacity);\n\t\t}\n\t};\n\n\treturn semaphore;\n};\n\nif (typeof exports === 'object') {\n    // node export\n    module.exports = semaphore;\n} else if (typeof define === 'function' && define.amd) {\n    // amd export\n    define(function () {\n        return semaphore;\n    });\n} else {\n    // browser global\n    global.semaphore = semaphore;\n}\n}(this));\n","const createPayload = require('./create-payload.js')\n\nmodule.exports = estimateGas\n\n/*\n\nThis is a work around for https://github.com/ethereum/go-ethereum/issues/2577\n\n*/\n\n\nfunction estimateGas(provider, txParams, cb) {\n  provider.sendAsync(createPayload({\n    method: 'eth_estimateGas',\n    params: [txParams]\n  }), function(err, res){\n    if (err) {\n      // handle simple value transfer case\n      if (err.message === 'no contract code at given address') {\n        return cb(null, '0xcf08')\n      } else {\n        return cb(err)        \n      }\n    }\n    cb(null, res.result)\n  })\n}","const xhr = process.browser ? require('xhr') : require('request')\nconst inherits = require('util').inherits\nconst createPayload = require('../util/create-payload.js')\nconst Subprovider = require('./subprovider.js')\nconst { ethErrors, serializeError } = require('eth-json-rpc-errors')\n\n\nmodule.exports = RpcSource\n\ninherits(RpcSource, Subprovider)\n\nfunction RpcSource(opts) {\n  const self = this\n  self.rpcUrl = opts.rpcUrl\n}\n\nRpcSource.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  const targetUrl = self.rpcUrl\n\n  // overwrite id to conflict with other concurrent users\n  let newPayload = createPayload(payload)\n\n  xhr({\n    uri: targetUrl,\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(newPayload),\n    rejectUnauthorized: false,\n    timeout: 20000,\n  }, function(err, res, body) {\n    if (err) return end(serializeError(err))\n\n    // check for error code\n    switch (res.statusCode) {\n      case 405:\n        return end(ethErrors.rpc.methodNotFound())\n      case 504: // Gateway timeout\n        return (function(){\n          let msg = `Gateway timeout. The request took too long to process. `\n          msg += `This can happen when querying logs over too wide a block range.`\n          const err = new Error(msg)\n          return end(serializeError(err))\n        })()\n      case 429: // Too many requests (rate limiting)\n        return (function(){\n          const err = new Error(`Too Many Requests`)\n          return end(serializeError(err))\n        })()\n      default:\n        if (res.statusCode != 200) {\n          const msg = 'Unknown Error: ' + res.body\n          const err = new Error(msg)\n          return end(serializeError(err))\n        }\n    }\n\n    // parse response\n    let data\n    try {\n      data = JSON.parse(body)\n    } catch (err) {\n      console.error(err.stack)\n      return end(serializeError(err))\n    }\n    if (data.error) return end(data.error)\n\n    end(null, data.result)\n  })\n}\n","\nconst { EthereumRpcError, EthereumProviderError } = require('./src/classes')\nconst {\n  serializeError, getMessageFromCode,\n} = require('./src/utils')\nconst ethErrors = require('./src/errors')\nconst ERROR_CODES = require('./src/errorCodes.json')\n\nmodule.exports = {\n  ethErrors,\n  EthereumRpcError,\n  EthereumProviderError,\n  serializeError,\n  getMessageFromCode,\n  /** @type ErrorCodes */\n  ERROR_CODES,\n}\n\n// Types\n\n/**\n * @typedef {Object} EthereumProviderErrorCodes\n * @property {number} userRejectedRequest\n * @property {number} unauthorized\n * @property {number} unsupportedMethod\n */\n\n/**\n * @typedef {Object} EthereumRpcErrorCodes\n * @property {number} parse\n * @property {number} invalidRequest\n * @property {number} invalidParams\n * @property {number} methodNotFound\n * @property {number} internal\n * @property {number} invalidInput\n * @property {number} resourceNotFound\n * @property {number} resourceUnavailable\n * @property {number} transactionRejected\n * @property {number} methodNotSupported\n */\n\n/**\n * @typedef ErrorCodes\n * @property {EthereumRpcErrorCodes} rpc\n * @property {EthereumProviderErrorCodes} provider\n */\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar arr = []\nvar replacerStack = []\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer) {\n  decirc(obj, '', [], undefined)\n  var res\n  if (replacerStack.length === 0) {\n    res = JSON.stringify(obj, replacer, spacer)\n  } else {\n    res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n  }\n  while (arr.length !== 0) {\n    var part = arr.pop()\n    if (part.length === 4) {\n      Object.defineProperty(part[0], part[1], part[3])\n    } else {\n      part[0][part[1]] = part[2]\n    }\n  }\n  return res\n}\nfunction decirc (val, k, stack, parent) {\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n        if (propertyDescriptor.get !== undefined) {\n          if (propertyDescriptor.configurable) {\n            Object.defineProperty(parent, k, { value: '[Circular]' })\n            arr.push([parent, k, val, propertyDescriptor])\n          } else {\n            replacerStack.push([val, k])\n          }\n        } else {\n          parent[k] = '[Circular]'\n          arr.push([parent, k, val])\n        }\n        return\n      }\n    }\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, stack, val)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, stack, val)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer) {\n  var tmp = deterministicDecirc(obj, '', [], undefined) || obj\n  var res\n  if (replacerStack.length === 0) {\n    res = JSON.stringify(tmp, replacer, spacer)\n  } else {\n    res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n  }\n  while (arr.length !== 0) {\n    var part = arr.pop()\n    if (part.length === 4) {\n      Object.defineProperty(part[0], part[1], part[3])\n    } else {\n      part[0][part[1]] = part[2]\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, stack, parent) {\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n        if (propertyDescriptor.get !== undefined) {\n          if (propertyDescriptor.configurable) {\n            Object.defineProperty(parent, k, { value: '[Circular]' })\n            arr.push([parent, k, val, propertyDescriptor])\n          } else {\n            replacerStack.push([val, k])\n          }\n        } else {\n          parent[k] = '[Circular]'\n          arr.push([parent, k, val])\n        }\n        return\n      }\n    }\n    if (typeof val.toJSON === 'function') {\n      return\n    }\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, stack, val)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, stack, val)\n        tmp[key] = val[key]\n      }\n      if (parent !== undefined) {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as [Circular]\nfunction replaceGetterValues (replacer) {\n  replacer = replacer !== undefined ? replacer : function (k, v) { return v }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = '[Circular]'\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","\nconst { EthereumRpcError, EthereumProviderError } = require('./classes')\nconst { getMessageFromCode } = require('./utils')\nconst ERROR_CODES = require('./errorCodes.json')\n\nmodule.exports = {\n  rpc: {\n    /**\n     * Get a JSON RPC 2.0 Parse (-32700) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    parse: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.parse, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    invalidRequest: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.invalidRequest, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    invalidParams: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.invalidParams, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    methodNotFound: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.methodNotFound, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Internal (-32603) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    internal: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.internal, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Server error.\n     * Permits integer error codes in the [ -32099 <= -32005 ] range.\n     * Codes -32000 through -32004 are reserved by EIP 1474.\n     * \n     * @param {Object|string} opts - Options object\n     * @param {number} opts.code - The error code\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    server: (opts) => {\n      if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n        throw new Error('Ethereum RPC Server errors must provide single object argument.')\n      }\n      const { code } = opts\n      if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n        throw new Error(\n          '\"code\" must be an integer such that: -32099 <= code <= -32005'\n        )\n      }\n      return getEthJsonRpcError(code, opts)\n    },\n\n    /**\n     * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    invalidInput: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.invalidInput, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    resourceNotFound: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.resourceNotFound, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    resourceUnavailable: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.resourceUnavailable, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    transactionRejected: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.transactionRejected, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    methodNotSupported: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.methodNotSupported, opts\n    ),\n  },\n\n  provider: {\n    /**\n     * Get an Ethereum Provider User Rejected Request (4001) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    userRejectedRequest: (opts) => {\n      return getEthProviderError(\n        ERROR_CODES.provider.userRejectedRequest, opts\n      )\n    },\n\n    /**\n     * Get an Ethereum Provider Unauthorized (4100) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    unauthorized: (opts) => {\n      return getEthProviderError(\n        ERROR_CODES.provider.unauthorized, opts\n      )\n    },\n\n    /**\n     * Get an Ethereum Provider Unsupported Method (4200) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    unsupportedMethod: (opts) => {\n      return getEthProviderError(\n        ERROR_CODES.provider.unsupportedMethod, opts\n      )\n    },\n\n    /**\n     * Get a custom Ethereum Provider error.\n     * \n     * @param {Object|string} opts - Options object\n     * @param {number} opts.code - The error code\n     * @param {string} opts.message - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    custom: (opts) => {\n      if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n        throw new Error('Ethereum Provider custom errors must provide single object argument.')\n      }\n      const { code, message, data } = opts\n      if (!message || typeof message !== 'string') throw new Error(\n        '\"message\" must be a nonempty string'\n      )\n      return new EthereumProviderError(code, message, data)\n    },\n  },\n}\n\n// Internal\n\nfunction getEthJsonRpcError(code, opts) {\n  const [ message, data ] = validateOpts(opts)\n  return new EthereumRpcError(\n    code,\n    message || getMessageFromCode(code),\n    data\n  )\n}\n\nfunction getEthProviderError(code, opts) {\n  const [ message, data ] = validateOpts(opts)\n  return new EthereumProviderError(\n    code,\n    message || getMessageFromCode(code),\n    data\n  )\n}\n\nfunction validateOpts (opts) {\n  let message, data\n  if (opts) {\n    if (typeof opts === 'string') {\n      message = opts\n    } else if (typeof opts === 'object' && !Array.isArray(opts)) {\n      message = opts.message\n      data = opts.data\n    }\n  }\n  return [ message, data ]\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createSubscriptionManager = require('eth-json-rpc-filters/subscriptionManager')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      const { events, middleware } = createSubscriptionManager({ blockTracker, provider })\n      // forward subscription events on the engine\n      events.on('notification', (data) => engine.emit('data', null, data))\n      // return the subscription install/remove middleware\n      return middleware\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","const SafeEventEmitter = require('safe-event-emitter')\nconst createScaffoldMiddleware = require('eth-json-rpc-middleware/scaffold')\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\nconst createFilterMiddleware = require('./index.js')\nconst { unsafeRandomBytes, incrementHexInt } = require('./hexUtils.js')\nconst getBlocksForRange = require('./getBlocksForRange.js')\n\nmodule.exports = createSubscriptionMiddleware\n\n\nfunction createSubscriptionMiddleware({ blockTracker, provider }) {\n  // state and utilities for handling subscriptions\n  const subscriptions = {}\n  const filterManager = createFilterMiddleware({ blockTracker, provider })\n\n  // internal flag\n  let isDestroyed = false\n\n  // create subscriptionManager api object\n  const events = new SafeEventEmitter()\n  const middleware = createScaffoldMiddleware({\n    eth_subscribe: createAsyncMiddleware(subscribe),\n    eth_unsubscribe: createAsyncMiddleware(unsubscribe),\n  })\n  middleware.destroy = destroy\n  return { events, middleware }\n\n  async function subscribe(req, res) {\n\n    if (isDestroyed) throw new Error(\n      'SubscriptionManager - attempting to use after destroying'\n    )\n\n    const subscriptionType = req.params[0]\n    // subId is 16 byte hex string\n    const subId = unsafeRandomBytes(16)\n\n    // create sub\n    let sub\n    switch (subscriptionType) {\n      case 'newHeads':\n        sub = createSubNewHeads({ subId })\n        break\n      case 'logs':\n        const filterParams = req.params[1]\n        const filter = await filterManager.newLogFilter(filterParams)\n        sub = createSubFromFilter({ subId, filter })\n        break\n      default:\n        throw new Error(`SubscriptionManager - unsupported subscription type \"${subscriptionType}\"`)\n\n    }\n    subscriptions[subId] = sub\n\n    res.result = subId\n    return\n\n    function createSubNewHeads({ subId }) {\n      const sub = {\n        type: subscriptionType,\n        destroy: async () => {\n          blockTracker.removeListener('sync', sub.update)\n        },\n        update: async ({ oldBlock, newBlock }) => {\n          // for newHeads\n          const toBlock = newBlock\n          const fromBlock = incrementHexInt(oldBlock)\n          const rawBlocks = await getBlocksForRange({ provider, fromBlock, toBlock })\n          const results = rawBlocks.map(normalizeBlock)\n          results.forEach((value) => {\n            _emitSubscriptionResult(subId, value)\n          })\n        }\n      }\n      // check for subscription updates on new block\n      blockTracker.on('sync', sub.update)\n      return sub\n    }\n\n    function createSubFromFilter({ subId, filter }){\n      filter.on('update', result => _emitSubscriptionResult(subId, result))\n      const sub = {\n        type: subscriptionType,\n        destroy: async () => {\n          return await filterManager.uninstallFilter(filter.idHex)\n        },\n      }\n      return sub\n    }\n  }\n\n  async function unsubscribe(req, res) {\n\n    if (isDestroyed) throw new Error(\n      'SubscriptionManager - attempting to use after destroying'\n    )\n\n    const id = req.params[0]\n    const subscription = subscriptions[id]\n    // if missing, return \"false\" to indicate it was not removed\n    if (!subscription) {\n      res.result = false\n      return\n    }\n    // cleanup subscription\n    delete subscriptions[id]\n    await subscription.destroy()\n    res.result = true\n  }\n\n  function _emitSubscriptionResult(filterIdHex, value) {\n    events.emit('notification', {\n      jsonrpc: '2.0',\n      method: 'eth_subscription',\n      params: {\n        subscription: filterIdHex,\n        result: value,\n      },\n    })\n  }\n\n  function destroy () {\n    events.removeAllListeners()\n    for (const id in subscriptions) {\n      subscriptions[id].destroy()\n      delete subscriptions[id]\n    }\n    isDestroyed = true\n  }\n}\n\nfunction normalizeBlock(block) {\n  return {\n    hash: block.hash,\n    parentHash: block.parentHash,\n    sha3Uncles: block.sha3Uncles,\n    miner: block.miner,\n    stateRoot: block.stateRoot,\n    transactionsRoot: block.transactionsRoot,\n    receiptsRoot: block.receiptsRoot,\n    logsBloom: block.logsBloom,\n    difficulty: block.difficulty,\n    number: block.number,\n    gasLimit: block.gasLimit,\n    gasUsed: block.gasUsed,\n    nonce: block.nonce,\n    mixHash: block.mixHash,\n    timestamp: block.timestamp,\n    extraData: block.extraData,\n  }\n}\n","module.exports = createScaffoldMiddleware\n\nfunction createScaffoldMiddleware (handlers) {\n  return (req, res, next, end) => {\n    const handler = handlers[req.method]\n    // if no handler, return\n    if (handler === undefined) {\n      return next()\n    }\n    // if handler is fn, call as middleware\n    if (typeof handler === 'function') {\n      return handler(req, res, next, end)\n    }\n    // if handler is some other value, use as result\n    res.result = handler\n    end()\n  }\n}\n","\"use strict\";\nclass Semaphore {\n    constructor(count) {\n        this.tasks = [];\n        this.count = count;\n    }\n    sched() {\n        if (this.count > 0 && this.tasks.length > 0) {\n            this.count--;\n            let next = this.tasks.shift();\n            if (next === undefined) {\n                throw \"Unexpected undefined value in tasks list\";\n            }\n            next();\n        }\n    }\n    acquire() {\n        return new Promise((res, rej) => {\n            var task = () => {\n                var released = false;\n                res(() => {\n                    if (!released) {\n                        released = true;\n                        this.count++;\n                        this.sched();\n                    }\n                });\n            };\n            this.tasks.push(task);\n            if (process && process.nextTick) {\n                process.nextTick(this.sched.bind(this));\n            }\n            else {\n                setImmediate(this.sched.bind(this));\n            }\n        });\n    }\n    use(f) {\n        return this.acquire()\n            .then(release => {\n            return f()\n                .then((res) => {\n                release();\n                return res;\n            })\n                .catch((err) => {\n                release();\n                throw err;\n            });\n        });\n    }\n}\nexports.Semaphore = Semaphore;\nclass Mutex extends Semaphore {\n    constructor() {\n        super(1);\n    }\n}\nexports.Mutex = Mutex;\n//# sourceMappingURL=index.js.map","const EthQuery = require('eth-query')\nconst pify = require('pify')\nconst BaseFilterWithHistory = require('./base-filter-history')\nconst { bnToHex, hexToInt, incrementHexInt, minBlockRef, blockRefIsNumber } = require('./hexUtils')\n\nclass LogFilter extends BaseFilterWithHistory {\n\n  constructor ({ provider, params }) {\n    super()\n    this.type = 'log'\n    this.ethQuery = new EthQuery(provider)\n    this.params = Object.assign({\n      fromBlock: 'latest',\n      toBlock: 'latest',\n      address: undefined,\n      topics: [],\n    }, params)\n    // normalize address parameter\n    if (this.params.address) {\n      // ensure array\n      if (!Array.isArray(this.params.address)) {\n        this.params.address = [this.params.address]\n      }\n      // ensure lowercase\n      this.params.address = this.params.address.map(address => address.toLowerCase())\n    }\n  }\n\n  async initialize({ currentBlock }) {\n    // resolve params.fromBlock\n    let fromBlock = this.params.fromBlock\n    if (['latest', 'pending'].includes(fromBlock)) fromBlock = currentBlock\n    if ('earliest' === fromBlock) fromBlock = '0x0'\n    this.params.fromBlock = fromBlock\n    // set toBlock for initial lookup\n    const toBlock = minBlockRef(this.params.toBlock, currentBlock)\n    const params = Object.assign({}, this.params, { toBlock })\n    // fetch logs and add to results\n    const newLogs = await this._fetchLogs(params)\n    this.addInitialResults(newLogs)\n  }\n\n  async update ({ oldBlock, newBlock }) {\n    // configure params for this update\n    const toBlock = newBlock\n    let fromBlock\n    // oldBlock is empty on first sync\n    if (oldBlock) {\n      fromBlock = incrementHexInt(oldBlock)\n    } else {\n      fromBlock = newBlock\n    }\n    // fetch logs\n    const params = Object.assign({}, this.params, { fromBlock, toBlock })\n    const newLogs = await this._fetchLogs(params)\n    const matchingLogs = newLogs.filter(log => this.matchLog(log))\n\n    // add to results\n    this.addResults(matchingLogs)\n  }\n\n  async _fetchLogs (params) {\n    const newLogs = await pify(cb => this.ethQuery.getLogs(params, cb))()\n    // add to results\n    return newLogs\n  }\n\n  matchLog(log) {\n    // check if block number in bounds:\n    if (hexToInt(this.params.fromBlock) >= hexToInt(log.blockNumber)) return false\n    if (blockRefIsNumber(this.params.toBlock) && hexToInt(this.params.toBlock) <= hexToInt(log.blockNumber)) return false\n\n    // address is correct:\n    const normalizedLogAddress = log.address && log.address.toLowerCase()\n    if (this.params.address && normalizedLogAddress && !this.params.address.includes(normalizedLogAddress)) return false\n\n    // topics match:\n    // topics are position-dependant\n    // topics can be nested to represent `or` [[a || b], c]\n    // topics can be null, representing a wild card for that position\n    const topicsMatch = this.params.topics.every((topicPattern, index) => {\n      // pattern is longer than actual topics\n      let logTopic = log.topics[index]\n      if (!logTopic) return false\n      logTopic = logTopic.toLowerCase()\n      // normalize subTopics\n      let subtopicsToMatch = Array.isArray(topicPattern) ? topicPattern : [topicPattern]\n      // check for wild card\n      const subtopicsIncludeWildcard = subtopicsToMatch.includes(null)\n      if (subtopicsIncludeWildcard) return true\n      subtopicsToMatch = subtopicsToMatch.map(topic => topic.toLowerCase())\n      // check each possible matching topic\n      const topicDoesMatch = subtopicsToMatch.includes(logTopic)\n      return topicDoesMatch\n    })\n\n    return topicsMatch\n  }\n\n}\n\nmodule.exports = LogFilter\n","const BaseFilter = require('./base-filter')\n\n// tracks all results ever recorded\nclass BaseFilterWithHistory extends BaseFilter {\n\n  constructor () {\n    super()\n    this.allResults = []\n  }\n\n  async update () {\n    throw new Error('BaseFilterWithHistory - no update method specified')\n  }\n\n  addResults (newResults) {\n    this.allResults = this.allResults.concat(newResults)\n    super.addResults(newResults)\n  }\n\n  addInitialResults (newResults) {\n    this.allResults = this.allResults.concat(newResults)\n    super.addInitialResults(newResults)\n  }\n\n  getAllResults () {\n    return this.allResults\n  }\n\n}\n\nmodule.exports = BaseFilterWithHistory","const BaseFilter = require('./base-filter')\nconst getBlocksForRange = require('./getBlocksForRange')\nconst { incrementHexInt } = require('./hexUtils')\n\nclass BlockFilter extends BaseFilter {\n\n  constructor ({ provider, params }) {\n    super()\n    this.type = 'block'\n    this.provider = provider\n  }\n\n  async update ({ oldBlock, newBlock }) {\n    const toBlock = newBlock\n    const fromBlock = incrementHexInt(oldBlock)\n    const blockBodies = await getBlocksForRange({ provider: this.provider, fromBlock, toBlock })\n    const blockHashes = blockBodies.map((block) => block.hash)\n    this.addResults(blockHashes)\n  }\n\n}\n\nmodule.exports = BlockFilter\n","const flatMap = require('lodash.flatmap')\nconst BaseFilter = require('./base-filter')\nconst getBlocksForRange = require('./getBlocksForRange')\nconst { incrementHexInt } = require('./hexUtils')\n\nclass TxFilter extends BaseFilter {\n\n  constructor ({ provider }) {\n    super()\n    this.type = 'tx'\n    this.provider = provider\n  }\n\n  async update ({ oldBlock }) {\n    const toBlock = oldBlock\n    const fromBlock = incrementHexInt(oldBlock)\n    const blocks = await getBlocksForRange({ provider: this.provider, fromBlock, toBlock })\n    const blockTxHashes = flatMap(blocks, (block) => block.transactions)\n    // add to results\n    this.addResults(blockTxHashes)\n  }\n\n}\n\nmodule.exports = TxFilter\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {boolean} [bitmask] The bitmask of comparison flags.\n *  The bitmask may be composed of the following flags:\n *     1 - Unordered comparison\n *     2 - Partial comparison\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, bitmask, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = getTag(object);\n    objTag = objTag == argsTag ? objectTag : objTag;\n  }\n  if (!othIsArr) {\n    othTag = getTag(other);\n    othTag = othTag == argsTag ? objectTag : othTag;\n  }\n  var objIsObj = objTag == objectTag && !isHostObject(object),\n      othIsObj = othTag == objectTag && !isHostObject(other),\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)\n      : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n  }\n  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n}\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n  };\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & UNORDERED_COMPARE_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!seen.has(othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n              return seen.add(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, customizer, bitmask, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= UNORDERED_COMPARE_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var result,\n      index = -1,\n      length = path.length;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result) {\n    return result;\n  }\n  var length = object ? object.length : 0;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = flatMap;\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createFilterMiddleware = require('eth-json-rpc-filters')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      return createFilterMiddleware({ blockTracker, provider })\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","const privateKeyToPublicKey = require('ethereum-private-key-to-public-key')\nconst publicKeyToAddress  = require('ethereum-public-key-to-address')\n\nfunction privateKeyToAddress (privateKey) {\n  if (!Buffer.isBuffer(privateKey)) {\n    if (typeof privateKey !== 'string') {\n      throw new Error('Expected Buffer or string as argument')\n    }\n\n    privateKey = privateKey.slice(0, 2) === '0x' ? privateKey.slice(2) : privateKey\n    privateKey = Buffer.from(privateKey, 'hex')\n  }\n\n  return publicKeyToAddress(privateKeyToPublicKey(privateKey))\n}\n\nmodule.exports = privateKeyToAddress\n","const { publicKeyCreate } = require('secp256k1')\n\nfunction privateKeyToPublicKey (privateKey) {\n  if (!Buffer.isBuffer(privateKey)) {\n    if (typeof privateKey !== 'string') {\n      throw new Error('Expected Buffer or string as argument')\n    }\n\n    privateKey = privateKey.slice(0, 2) === '0x' ? privateKey.slice(2) : privateKey\n    privateKey = Buffer.from(privateKey, 'hex')\n  }\n\n  return publicKeyCreate(privateKey, false)\n}\n\nmodule.exports = privateKeyToPublicKey\n","const { publicKeyConvert } = require('secp256k1')\nconst keccak256 = require('keccak256')\nconst { toChecksumAddress } = require('ethereum-checksum-address')\n\nfunction publicKeyToAddress (publicKey) {\n  if (!Buffer.isBuffer(publicKey)) {\n    if (typeof publicKey !== 'string') {\n      throw new Error('Expected Buffer or string as argument')\n    }\n\n    publicKey = publicKey.slice(0, 2) === '0x' ? publicKey.slice(2) : publicKey\n    publicKey = Buffer.from(publicKey, 'hex')\n  }\n\n  publicKey = publicKeyConvert(publicKey, false).slice(1)\n  return toChecksumAddress(keccak256(publicKey).slice(-20).toString('hex'))\n}\n\nmodule.exports = publicKeyToAddress\n","const keccak256 = require('keccak256')\n\nfunction toChecksumAddress (address, chainId = null) {\n  if (typeof address !== 'string') {\n    return ''\n  }\n\n  if (!/^(0x)?[0-9a-f]{40}$/i.test(address)) { throw new Error(`Given address \"${address}\" is not a valid Ethereum address.`) }\n\n  const stripAddress = stripHexPrefix(address).toLowerCase()\n  const prefix = chainId != null ? chainId.toString() + '0x' : ''\n  const keccakHash = keccak256(prefix + stripAddress)\n    .toString('hex')\n    .replace(/^0x/i, '')\n  let checksumAddress = '0x'\n\n  for (let i = 0; i < stripAddress.length; i++) { checksumAddress += parseInt(keccakHash[i], 16) >= 8 ? stripAddress[i].toUpperCase() : stripAddress[i] }\n\n  return checksumAddress\n}\n\nfunction checkAddressChecksum (address, chainId = null) {\n  const stripAddress = stripHexPrefix(address).toLowerCase()\n  const prefix = chainId != null ? chainId.toString() + '0x' : ''\n  const keccakHash = keccak256(prefix + stripAddress)\n    .toString('hex')\n    .replace(/^0x/i, '')\n\n  for (let i = 0; i < stripAddress.length; i++) {\n    let output = parseInt(keccakHash[i], 16) >= 8 ? stripAddress[i].toUpperCase() : stripAddress[i]\n    if (stripHexPrefix(address)[i] !== output) {\n      return false\n    }\n  }\n  return true\n};\n\nfunction stripHexPrefix (string) {\n  return string.slice(0, 2) === '0x' ? string.slice(2) : string\n};\n\nmodule.exports = {\n  toChecksumAddress,\n  checkAddressChecksum\n}\n","const normalizeHex = require('normalize-hex')\n\nfunction toHex (value, opts = {}) {\n  opts = {\n    size: 0,\n    addPrefix: false,\n    evenLength: false,\n    default: '',\n    ...opts\n  }\n\n  var result = ''\n\n  if (opts.default !== '') {\n    result = opts.default\n  }\n\n  if (value === '' || value === undefined || value === null) {\n    value = result\n  }\n\n  if (value === '0') {\n    value = 0\n  }\n\n  if (value === undefined || value === null) {\n      // noop\n  } else if (typeof value === 'number') {\n    result = value.toString(16)\n  } else if (typeof value === 'string') {\n    value = value.trim()\n    if (value.startsWith('0x')) {\n      result = normalizeHex(value)\n    } else if (value !== '' && Number.isFinite(+value)) {\n      result = Number(value).toString(16)\n    }\n\n    if (result === opts.default) {\n      result = Buffer.from(value, 'utf8').toString('hex')\n    }\n  } else if (typeof value === 'boolean') {\n    result = value ? '1' : '0'\n  } else if (typeof value === 'object' && value !== null) {\n    if (Buffer.isBuffer(value)) {\n      result = value.toString('hex')\n    } else if (/(BN|BigNumber|Big|Decimal)/.test(value.constructor.name)) {\n      result = value.toString(16)\n    } else if (value instanceof Uint8Array) {\n      result = Buffer.from([\n        ...value\n      ]).toString('hex')\n    } else if (value.toString && typeof value.toString === 'function') {\n      try {\n        const h = value.toString(16)\n        if (/^[a-fA-F0-9]+$/.test(h)) {\n          result = h\n        }\n      } catch (err) {\n        // noop\n      }\n    }\n  }\n\n  if (typeof result === 'string') {\n    result = result.toLowerCase()\n\n    if (opts.size > result.length) {\n      result = `${'0'.repeat(opts.size - result.length)}${result}`\n    }\n\n    if (opts.evenLength && result.length % 2) {\n      result = `0${result}`\n    }\n\n    if (opts.addPrefix) {\n      result = `0x${result}`\n    }\n  }\n\n  return result\n}\n\nmodule.exports = toHex\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function normalizeHex (hex, opts) {\n  opts = {\n    evenLength: false,\n    addPrefix: false,\n    ...opts\n  }\n\n  let value = ''\n\n  if (Buffer.isBuffer(hex)) {\n    hex = hex.toString('hex')\n  }\n\n  if (typeof hex === 'number') {\n    hex = hex.toString()\n  }\n\n  if (typeof hex === 'string') {\n    value = hex.toLowerCase()\n  }\n\n  if (value.startsWith('0x')) {\n    value = value.slice(2)\n  }\n\n  const data = (value.length % 2) ? `0${value}` : value\n  if (Buffer.from(data, 'hex')) {\n    value = opts.evenLength ? data : value\n  }\n\n  if (opts.addPrefix) {\n    value = `0x${value}`\n  }\n\n  return value\n}\n\nmodule.exports = normalizeHex\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uuid_1 = require(\"uuid\");\nconst uuidv4 = function () {\n    return uuid_1.v4();\n};\nexports.uuid = uuidv4;\nconst regex = {\n    v4: /(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,\n    v5: /(?:^[a-f0-9]{8}-[a-f0-9]{4}-5[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u\n};\nexports.regex = regex;\nconst isUuid = function (value) {\n    return regex.v4.test(value) || regex.v5.test(value);\n};\nexports.isUuid = isUuid;\nconst empty = function () {\n    return '00000000-0000-0000-0000-000000000000';\n};\nexports.empty = empty;\nconst fromString = function (text) {\n    const namespace = 'bb5d0ffa-9a4c-4d7c-8fc2-0a7d2220ba45';\n    const uuidFromString = uuid_1.v5(text, namespace);\n    return uuidFromString;\n};\nexports.fromString = fromString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tld = 'authereum.com';\nexports.defaultConfig = {\n    xsUri(network) {\n        const s = network === 'mainnet' ? '' : `${network}.`;\n        return `https://${s}x.${tld}`;\n    }\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ethers = __importStar(require(\"ethers\"));\nconst AuthereumSDK_1 = __importDefault(require(\"./AuthereumSDK\"));\nclass AuthereumSigner extends ethers.Signer {\n    constructor(config) {\n        super();\n        this.config = config || {};\n        this.authereum = new AuthereumSDK_1.default(this.config);\n        this.provider = this.authereum.getProvider();\n    }\n    getAddress() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.authereum.getAccountAddress();\n        });\n    }\n    signMessage(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.provider.sign(message);\n        });\n    }\n    sign(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.provider.sign(transaction);\n        });\n    }\n    sendTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.provider.sendTransaction(transaction);\n        });\n    }\n    sendTransactionBatch(transactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.provider.sendTransactionBatch(transactions);\n        });\n    }\n}\nexports.default = AuthereumSigner;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nexport default v1;","import bytesToUuid from './bytesToUuid.js';\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  var bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = new Array(str.length);\n\n  for (var i = 0; i < str.length; i++) {\n    bytes[i] = str.charCodeAt(i);\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  var generateUUID = function generateUUID(value, namespace, buf, offset) {\n    var off = buf && offset || 0;\n    if (typeof value == 'string') value = stringToBytes(value);\n    if (typeof namespace == 'string') namespace = uuidToBytes(namespace);\n    if (!Array.isArray(value)) throw TypeError('value must be an array of bytes');\n    if (!Array.isArray(namespace) || namespace.length !== 16) throw TypeError('namespace must be uuid string or an Array of 16 byte values'); // Per 4.3\n\n    var bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (var idx = 0; idx < 16; ++idx) {\n        buf[off + idx] = bytes[idx];\n      }\n    }\n\n    return buf || bytesToUuid(bytes);\n  }; // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name;\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var i;\n  var x;\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n  var hex;\n\n  for (i = 0; i < length32; i += 8) {\n    x = input[i >> 5] >>> i % 32 & 0xff;\n    hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[(len + 64 >>> 9 << 4) + 14] = len;\n  var i;\n  var olda;\n  var oldb;\n  var oldc;\n  var oldd;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (i = 0; i < x.length; i += 16) {\n    olda = a;\n    oldb = b;\n    oldc = c;\n    oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  var i;\n  var output = [];\n  output[(input.length >> 2) - 1] = undefined;\n\n  for (i = 0; i < output.length; i += 1) {\n    output[i] = 0;\n  }\n\n  var length8 = input.length * 8;\n\n  for (i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var i = 0; i < N; i++) {\n    M[i] = new Array(16);\n\n    for (var j = 0; j < 16; j++) {\n      M[i][j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var i = 0; i < N; i++) {\n    var W = new Array(80);\n\n    for (var t = 0; t < 16; t++) {\n      W[t] = M[i][t];\n    }\n\n    for (var t = 16; t < 80; t++) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var t = 0; t < 80; t++) {\n      var s = Math.floor(t / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ethjsUtil = require('ethjs-util');\nvar BN = require(\"bn.js\");\n/**\n * Returns a buffer filled with 0s.\n * @param bytes the number of bytes the buffer should be\n */\nexports.zeros = function (bytes) {\n    return Buffer.allocUnsafe(bytes).fill(0);\n};\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param msg the value to pad (Buffer|Array)\n * @param length the number of bytes the output should be\n * @param right whether to start padding form the left or right\n * @return (Buffer|Array)\n */\nexports.setLengthLeft = function (msg, length, right) {\n    if (right === void 0) { right = false; }\n    var buf = exports.zeros(length);\n    msg = exports.toBuffer(msg);\n    if (right) {\n        if (msg.length < length) {\n            msg.copy(buf);\n            return buf;\n        }\n        return msg.slice(0, length);\n    }\n    else {\n        if (msg.length < length) {\n            msg.copy(buf, length - msg.length);\n            return buf;\n        }\n        return msg.slice(-length);\n    }\n};\nexports.setLength = exports.setLengthLeft;\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param msg the value to pad (Buffer|Array)\n * @param length the number of bytes the output should be\n * @return (Buffer|Array)\n */\nexports.setLengthRight = function (msg, length) {\n    return exports.setLength(msg, length, true);\n};\n/**\n * Trims leading zeros from a `Buffer` or an `Array`.\n * @param a (Buffer|Array|String)\n * @return (Buffer|Array|String)\n */\nexports.unpad = function (a) {\n    a = ethjsUtil.stripHexPrefix(a);\n    var first = a[0];\n    while (a.length > 0 && first.toString() === '0') {\n        a = a.slice(1);\n        first = a[0];\n    }\n    return a;\n};\nexports.stripZeros = exports.unpad;\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param v the value\n */\nexports.toBuffer = function (v) {\n    if (!Buffer.isBuffer(v)) {\n        if (Array.isArray(v)) {\n            v = Buffer.from(v);\n        }\n        else if (typeof v === 'string') {\n            if (ethjsUtil.isHexString(v)) {\n                v = Buffer.from(ethjsUtil.padToEven(ethjsUtil.stripHexPrefix(v)), 'hex');\n            }\n            else {\n                throw new Error(\"Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: \" + v);\n            }\n        }\n        else if (typeof v === 'number') {\n            v = ethjsUtil.intToBuffer(v);\n        }\n        else if (v === null || v === undefined) {\n            v = Buffer.allocUnsafe(0);\n        }\n        else if (BN.isBN(v)) {\n            v = v.toArrayLike(Buffer);\n        }\n        else if (v.toArray) {\n            // converts a BN to a Buffer\n            v = Buffer.from(v.toArray());\n        }\n        else {\n            throw new Error('invalid type');\n        }\n    }\n    return v;\n};\n/**\n * Converts a `Buffer` to a `Number`.\n * @param buf `Buffer` object to convert\n * @throws If the input number exceeds 53 bits.\n */\nexports.bufferToInt = function (buf) {\n    return new BN(exports.toBuffer(buf)).toNumber();\n};\n/**\n * Converts a `Buffer` into a `0x`-prefixed hex `String`.\n * @param buf `Buffer` object to convert\n */\nexports.bufferToHex = function (buf) {\n    buf = exports.toBuffer(buf);\n    return '0x' + buf.toString('hex');\n};\n/**\n * Interprets a `Buffer` as a signed integer and returns a `BN`. Assumes 256-bit numbers.\n * @param num Signed integer value\n */\nexports.fromSigned = function (num) {\n    return new BN(num).fromTwos(256);\n};\n/**\n * Converts a `BN` to an unsigned integer and returns it as a `Buffer`. Assumes 256-bit numbers.\n * @param num\n */\nexports.toUnsigned = function (num) {\n    return Buffer.from(num.toTwos(256).toArray());\n};\n/**\n * Adds \"0x\" to a given `String` if it does not already start with \"0x\".\n */\nexports.addHexPrefix = function (str) {\n    if (typeof str !== 'string') {\n        return str;\n    }\n    return ethjsUtil.isHexPrefixed(str) ? str : '0x' + str;\n};\n/**\n * Converts a `Buffer` or `Array` to JSON.\n * @param ba (Buffer|Array)\n * @return (Array|String|null)\n */\nexports.baToJSON = function (ba) {\n    if (Buffer.isBuffer(ba)) {\n        return \"0x\" + ba.toString('hex');\n    }\n    else if (ba instanceof Array) {\n        var array = [];\n        for (var i = 0; i < ba.length; i++) {\n            array.push(exports.baToJSON(ba[i]));\n        }\n        return array;\n    }\n};\n//# sourceMappingURL=bytes.js.map","\nmodule.exports = {\n  minBlockRef,\n  maxBlockRef,\n  sortBlockRefs,\n  bnToHex,\n  blockRefIsNumber,\n  hexToInt,\n  incrementHexInt,\n  intToHex,\n  unsafeRandomBytes,\n}\n\nfunction minBlockRef(...refs) {\n  const sortedRefs = sortBlockRefs(refs)\n  return sortedRefs[0]\n}\n\nfunction maxBlockRef(...refs) {\n  const sortedRefs = sortBlockRefs(refs)\n  return sortedRefs[sortedRefs.length-1]\n}\n\nfunction sortBlockRefs(refs) {\n  return refs.sort((refA, refB) => {\n    if (refA === 'latest' || refB === 'earliest') return 1\n    if (refB === 'latest' || refA === 'earliest') return -1\n    return hexToInt(refA) - hexToInt(refB)\n  })\n}\n\nfunction bnToHex(bn) {\n  return '0x' + bn.toString(16)\n}\n\nfunction blockRefIsNumber(blockRef){\n  return blockRef && !['earliest', 'latest', 'pending'].includes(blockRef)\n}\n\nfunction hexToInt(hexString) {\n  if (hexString === undefined || hexString === null) return hexString\n  return Number.parseInt(hexString, 16)\n}\n\nfunction incrementHexInt(hexString){\n  if (hexString === undefined || hexString === null) return hexString\n  const value = hexToInt(hexString)\n  return intToHex(value + 1)\n}\n\nfunction intToHex(int) {\n  if (int === undefined || int === null) return int\n  let hexString = int.toString(16)\n  const needsLeftPad = hexString.length % 2\n  if (needsLeftPad) hexString = '0' + hexString\n  return '0x' + hexString\n}\n\nfunction unsafeRandomBytes(byteCount) {\n  let result = '0x'\n  for (let i = 0; i < byteCount; i++) {\n    result += unsafeRandomNibble()\n    result += unsafeRandomNibble()\n  }\n  return result\n}\n\nfunction unsafeRandomNibble() {\n  return Math.floor(Math.random() * 16).toString(16)\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DATA_CLONE_ERROR = exports.MESSAGE = exports.REJECTED = exports.FULFILLED = exports.REPLY = exports.CALL = exports.HANDSHAKE_REPLY = exports.HANDSHAKE = void 0;\nconst HANDSHAKE = 'handshake';\nexports.HANDSHAKE = HANDSHAKE;\nconst HANDSHAKE_REPLY = 'handshake-reply';\nexports.HANDSHAKE_REPLY = HANDSHAKE_REPLY;\nconst CALL = 'call';\nexports.CALL = CALL;\nconst REPLY = 'reply';\nexports.REPLY = REPLY;\nconst FULFILLED = 'fulfilled';\nexports.FULFILLED = FULFILLED;\nconst REJECTED = 'rejected';\nexports.REJECTED = REJECTED;\nconst MESSAGE = 'message';\nexports.MESSAGE = MESSAGE;\nconst DATA_CLONE_ERROR = 'DataCloneError';\nexports.DATA_CLONE_ERROR = DATA_CLONE_ERROR;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ERR_NO_IFRAME_SRC = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nconst ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nconst ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nconst ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nconst ERR_NO_IFRAME_SRC = 'NoIframeSrc';\nexports.ERR_NO_IFRAME_SRC = ERR_NO_IFRAME_SRC;","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst penpal_1 = __importDefault(require(\"penpal\"));\nconst eventemitter3_1 = __importDefault(require(\"eventemitter3\"));\nconst moment_1 = __importDefault(require(\"moment\"));\nconst is_buffer_1 = __importDefault(require(\"is-buffer\"));\nconst version_1 = __importDefault(require(\"./version\"));\nconst AuthereumProvider_1 = __importDefault(require(\"./AuthereumProvider\"));\nconst config_1 = require(\"./config\");\nconst utils_1 = require(\"./utils\");\n// Serialize object for postMessage to iframe.\n// Converts references to values.\nconst serializeMessageObj = (obj) => {\n    const tx = {};\n    for (let k in obj) {\n        let v = obj[k];\n        if (typeof v === 'object' && v.toString === 'function') {\n            v = v.toString('hex');\n        }\n        tx[k] = v;\n    }\n    return tx;\n};\nconst defaultIframeStyle = {\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0\n};\n// This is a placeholder notify object stub until notifier script url is\n// injected into page after iframe is loaded.\nconst defaultNotifier = {\n    notify: (type, message) => {\n        console.log(type, message);\n        return {\n            dismiss: () => {\n                // noop\n            }\n        };\n    }\n};\nclass Authereum extends eventemitter3_1.default {\n    constructor(config) {\n        super();\n        this.notifier = defaultNotifier;\n        this.iframeReady = false;\n        this._configReady = false;\n        this.iframeConnecting = null;\n        this.cacheReady = false;\n        this.readyEmitted = false;\n        this._widgetEnabled = false;\n        this.iframeStyle = defaultIframeStyle;\n        this.blockedPopupRedirect = true;\n        this.notificationsMap = {};\n        this._heartbeatStarted = false;\n        this._backoffTimeout = 1;\n        this._userConfig = null;\n        this._asymmetricEncryptionKey = null;\n        this._authereumQueryParams = {};\n        this._injectedElements = [];\n        this._destroyed = false;\n        // NOTE: keep this sync\n        this._init = (config) => {\n            if (typeof config === 'string') {\n                let network = config;\n                this.networkName = (network || '').trim().toLowerCase();\n                if (['mainnet', 'ropsten', 'rinkeby', 'kovan', 'goerli'].includes(this.networkName)) {\n                    this.xsUri = config_1.defaultConfig.xsUri(this.networkName);\n                }\n                else if (config === 'localhost') {\n                    this.xsUri = 'http://localhost:3002';\n                    this.networkName = 'kovan';\n                }\n                else {\n                    throw new Error('Unsupported network');\n                }\n            }\n            else {\n                config = config || {};\n                this.networkName = config.networkName || 'mainnet';\n                this.xsUri = config.xsUri || config_1.defaultConfig.xsUri(this.networkName);\n            }\n            if (config.redirectUri) {\n                this.redirectUri = config.redirectUri;\n            }\n            else {\n                this.redirectUri = window.location.href;\n            }\n            this.iframeStyle = {\n                width: 0,\n                height: 0,\n                top: 0,\n                left: 0\n            };\n            this.redirectUri = this.redirectUri || window.location.href;\n            this.provider = new AuthereumProvider_1.default(this);\n            this._setupNotifier();\n            this._connectToChildIframe()\n                .catch(() => {\n                this._startHeartbeat(true);\n            });\n            this._setupCache();\n            this._cacheAuthereumQueryParams();\n            this._setupSigningKey();\n            this._setupResizeListener();\n            this._emitReadyEvent();\n            window.addEventListener('focus', this._handleWindowFocus, false);\n        };\n        // NOTE: keep this sync\n        this._setConfig = (config) => {\n            if (typeof this._userConfig === 'string') {\n                let networkName = this._userConfig;\n                this.networkName = (networkName || '').trim().toLowerCase();\n                this._userConfig = {\n                    networkName,\n                    xsUri: config_1.defaultConfig.xsUri(networkName)\n                };\n            }\n            const { apiUri, rpcUri, webUri, notifierUri, networkName, networkId, disableNotifications, blockedPopupRedirect } = this._userConfig || {};\n            // userConfig overrides regular config\n            if (apiUri) {\n                this.apiUri = apiUri;\n            }\n            else if (config.apiUri) {\n                this.apiUri = config.apiUri;\n            }\n            if (rpcUri) {\n                this.rpcUri = rpcUri;\n            }\n            else {\n                this.rpcUri = config.rpcUri;\n            }\n            if (webUri) {\n                this.webUri = webUri;\n            }\n            else if (config.webUri) {\n                this.webUri = config.webUri;\n            }\n            if (notifierUri) {\n                this.notifierUri = notifierUri;\n            }\n            else if (config.notifierUri) {\n                this.notifierUri = config.notifierUri;\n            }\n            if (networkName) {\n                this.networkName = networkName;\n            }\n            else if (config.networkName) {\n                this.networkName = config.networkName;\n            }\n            if (networkId) {\n                this.networkId = networkId;\n            }\n            else if (config.networkId) {\n                this.networkId = config.networkId;\n            }\n            if (typeof disableNotifications === 'boolean') {\n                this.disableNotifications = disableNotifications;\n            }\n            else if (typeof config.disableNotifications === 'boolean') {\n                this.disableNotifications = config.disableNotifications;\n            }\n            if (typeof blockedPopupRedirect === 'boolean') {\n                this.blockedPopupRedirect = blockedPopupRedirect;\n            }\n            else if (typeof config.blockedPopupRedirect === 'boolean') {\n                this.blockedPopupRedirect = config.blockedPopupRedirect;\n            }\n        };\n        this._setupCache = () => __awaiter(this, void 0, void 0, function* () {\n            yield Promise.all([\n                this._cacheLoginKeyAddress(),\n                this._cacheIsAuthenticated(),\n                this._cacheAccountAddress()\n            ]);\n            this.cacheReady = true;\n        });\n        this._handleWindowFocus = () => {\n            return this._postMessageToChild({\n                method: 'onWindowFocus'\n            });\n        };\n        this._resetCache = () => __awaiter(this, void 0, void 0, function* () {\n            return this._setupCache();\n        });\n        this._setupNotifier = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilConfigReady();\n            if (!this.notifierUri) {\n                return;\n            }\n            yield this._injectScript(this.notifierUri, 'authereum-notifier');\n            if (window.AuthereumNotifier) {\n                this.notifier = new window.AuthereumNotifier({\n                    networkId: this.networkId,\n                    disableNotifications: this.disableNotifications,\n                    context: this\n                });\n            }\n        });\n        this._injectScript = (sourceUrl, id = '') => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilDomReady();\n            return new Promise((resolve, reject) => {\n                if (!sourceUrl) {\n                    throw new Error('sourceUrl is required');\n                }\n                if (document.getElementById(id)) {\n                    resolve();\n                    return;\n                }\n                const script = document.createElement('script');\n                script.id = id;\n                script.type = 'text/javascript';\n                script.async = true;\n                script.onload = () => {\n                    resolve();\n                };\n                script.onerror = (err) => {\n                    reject(err);\n                };\n                script.src = sourceUrl;\n                this._injectedElements.push(script);\n                document.getElementsByTagName('head')[0].appendChild(script);\n            });\n        });\n        this._setupResizeListener = () => __awaiter(this, void 0, void 0, function* () {\n            window.addEventListener('resize', utils_1.debounce((event) => __awaiter(this, void 0, void 0, function* () {\n                const size = yield this._getWindowSize();\n                return this._postMessageToChild({\n                    method: 'onResize',\n                    params: size\n                });\n            }), 100));\n        });\n        this._cacheLoginKeyAddress = () => __awaiter(this, void 0, void 0, function* () {\n            const loginKey = yield this._postMessageToChild({\n                method: 'getOrCreateLoginKey'\n            });\n            this.cachedLoginKeyAddress = loginKey.publicAddress;\n        });\n        this._cacheAccountAddress = () => __awaiter(this, void 0, void 0, function* () {\n            const accountAddress = yield this._postMessageToChild({\n                method: 'getAccountAddress'\n            });\n            this.cachedAccountAddress = accountAddress;\n        });\n        this._cacheIsAuthenticated = () => __awaiter(this, void 0, void 0, function* () {\n            const isAuthenticated = yield this._postMessageToChild({\n                method: 'isAuthenticated'\n            });\n            this.cachedIsAuthenticated = isAuthenticated;\n        });\n        // NOTE: to prevent pop-ups from being blocked, there must be no awaits from\n        // click to window.open, meaning value lookups must be cached before the\n        // login method is called.\n        this.login = utils_1.throttle(() => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilConfigReady();\n            yield this._tilReady();\n            if (!this.cachedIsAuthenticated) {\n                // NOTE: if not logged in to dapp, then proceed to login\n                yield this._signLoginKeyRequest(this.cachedLoginKeyAddress);\n                return this.getAuthenticatedAccount();\n            }\n            else {\n                // only show one already logged in notification at a time\n                if (!this.notificationsMap['loggedIn']) {\n                    const notification = this.notifier.notify({\n                        type: 'success',\n                        message: 'You are logged into Authereum',\n                        timeout: 5000\n                    });\n                    this.notificationsMap['loggedIn'] = notification;\n                    setTimeout(() => {\n                        this.notificationsMap['loggedIn'] = null;\n                    }, 5e3);\n                }\n            }\n            // await first\n            const account = yield this.getAuthenticatedAccount();\n            return account;\n        }), 250);\n        this.authenticate = () => __awaiter(this, void 0, void 0, function* () {\n            console.warn('Deprecation notice: `authereum.authenticate()` is deprecated. Use `authereum.login()` instead.');\n            return this.login();\n        });\n        this.isAuthenticated = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'isAuthenticated'\n            }));\n        });\n        this.logout = () => __awaiter(this, void 0, void 0, function* () {\n            const res = yield this._postMessageToChild({\n                method: 'logout'\n            });\n            yield this._resetCache();\n            this.emit('logout', {});\n            return res;\n        });\n        this.getAuthenticatedAccount = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getAuthenticatedAccount'\n            }));\n        });\n        this.getDappKey = () => {\n            return this._handleError(this._postMessageToChild({\n                method: 'getLoginKey'\n            }));\n        };\n        this.getLoginKey = () => {\n            console.warn('Deprecation notice: `authereum.getLoginKey()` is deprecated. Use `authereum.getDappKey()` instead.');\n            return this.getDappKey();\n        };\n        this.signWithDappKey = utils_1.throttle((message) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'signWithLoginKey',\n                params: message\n            }));\n        }), 250);\n        this.signWithLoginKey = utils_1.throttle((message) => __awaiter(this, void 0, void 0, function* () {\n            console.warn('Deprecation notice: `authereum.signWithLoginKey()` is deprecated. Use `authereum.signWithDappKey()` instead.');\n            return this.signWithDappKey(message);\n        }), 250);\n        this.signTypedMessageWithDappKey = utils_1.throttle((message) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'signTypedMessageWithLoginKey',\n                params: message\n            }));\n        }), 250);\n        this.signMessageWithAdminKey = utils_1.throttle((message) => __awaiter(this, void 0, void 0, function* () {\n            console.warn('Deprecated: `authereum.signMessageWithAdminKey()` is deprecated. Use `authereum.signMessageWithSigningKey()` instead.');\n            return null;\n        }), 250);\n        this.signMessageWithSigningKey = utils_1.throttle((message) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'signMessageWithSigningKey',\n                params: message\n            }));\n        }), 250);\n        this.getLoginKeyAuthSignature = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getLoginKeyAuthSignature'\n            }));\n        });\n        this.getLoginKeyRestrictionsData = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getLoginKeyRestrictionsData'\n            }));\n        });\n        this.getAccountAddress = () => __awaiter(this, void 0, void 0, function* () {\n            // required so it waits for login key to be set\n            yield this._tilReady();\n            return this._handleError(this._postMessageToChild({\n                method: 'getAccountAddress'\n            }));\n        });\n        this.getBalance = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getBalance'\n            }));\n        });\n        this.getRpcUri = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilConfigReady();\n            return this.rpcUri;\n        });\n        this.getNetworkId = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getNetworkId'\n            }));\n        });\n        this.getNetworkName = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getNetworkName'\n            }));\n        });\n        this.getProvider = () => {\n            return this.provider;\n        };\n        this._handleError = (promise) => __awaiter(this, void 0, void 0, function* () {\n            return promise\n                .catch((err) => {\n                // NOTE: emit errors but don't throw notification here.\n                this.emit('error', err);\n                // NOTE: rethrow error to let dapps handle error\n                throw err;\n            });\n        });\n        this.signTransactionWithLoginKey = utils_1.throttle((tx) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'signTransactionWithLoginKey',\n                params: serializeMessageObj(tx)\n            }));\n        }), 250);\n        this.sendTransaction = utils_1.throttle((userTransaction) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'sendTransaction',\n                params: serializeMessageObj(userTransaction)\n            }));\n        }), 250);\n        this.sendTransactionBatch = utils_1.throttle((userTransactions) => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            return this._handleError(this._postMessageToChild({\n                method: 'sendTransactionBatch',\n                params: userTransactions.map(serializeMessageObj)\n            }));\n        }), 250);\n        this.isReady = () => {\n            return this.iframeReady && this.cacheReady;\n        };\n        this.updateConfig = (config) => {\n            this._userConfig = config;\n            this._setConfig(config);\n        };\n        this.getConfig = () => {\n            return {\n                apiUri: this.apiUri,\n                rpcUri: this.rpcUri,\n                webUri: this.webUri,\n                xsUri: this.xsUri,\n                networkName: this.networkName,\n                networkId: this.networkId,\n                disableNotifications: this.disableNotifications\n            };\n        };\n        this.showWidget = (enabled = true) => {\n            if (!enabled) {\n                return this.hideWidget();\n            }\n            this._widgetEnabled = true;\n            this._refreshWidget();\n            return true;\n        };\n        this.hideWidget = () => {\n            this._widgetEnabled = false;\n            // this.setIframePositionTop(this._getWindowHeight())\n            // this.setIframePositionLeft(this._getWindowWidth())\n            this.setIframeWidth(0);\n            this.setIframeHeight(0);\n            return true;\n        };\n        this.widgetEnabled = () => {\n            return this._widgetEnabled;\n        };\n        this._tilIframeReady = () => __awaiter(this, void 0, void 0, function* () {\n            if (!this.iframeReady) {\n                yield utils_1.wait(100);\n                return this._tilIframeReady();\n            }\n            yield utils_1.wait(100);\n            return true;\n        });\n        this._tilConfigReady = () => __awaiter(this, void 0, void 0, function* () {\n            if (!this._configReady) {\n                yield utils_1.wait(100);\n                return this._tilConfigReady();\n            }\n            yield utils_1.wait(100);\n            return true;\n        });\n        this._tilReady = () => __awaiter(this, void 0, void 0, function* () {\n            if (!this.isReady()) {\n                yield utils_1.wait(100);\n                return this._tilReady();\n            }\n            yield utils_1.wait(100);\n            return true;\n        });\n        this._emitReadyEvent = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            if (this.readyEmitted)\n                return;\n            this.readyEmitted = true;\n            this.emit('ready', {});\n        });\n        this._connectToChildIframe = () => __awaiter(this, void 0, void 0, function* () {\n            if (this.iframeConnecting) {\n                return this.iframeConnecting;\n            }\n            this.iframeReady = false;\n            this.iframeConnecting = true;\n            const iframe = yield this._getOrCreateIframe();\n            this.iframeConnection = penpal_1.default.connectToChild({\n                iframe,\n                timeout: 60e3,\n                methods: {\n                    // NOTE: the postMessage penpal method should be the only method that\n                    // exists.\n                    postMessage: (data) => {\n                        return this._handlePostMessage(data);\n                    }\n                }\n            });\n            this.iframeConnecting = new Promise((resolve, reject) => {\n                let timedout = false;\n                const timer = setTimeout(() => {\n                    if (!this.iframeReady) {\n                        timedout = true;\n                        this.iframeConnecting = null;\n                        reject(new Error('timedout'));\n                    }\n                }, 3e3);\n                this.iframeConnection.promise.then((child) => {\n                    clearTimeout(timer);\n                    if (timedout) {\n                        return;\n                    }\n                    this.iframeReady = true;\n                    this.childIframeConnection = child;\n                    this._startHeartbeat();\n                    this.iframeConnecting = null;\n                    resolve();\n                })\n                    .catch((err) => {\n                    clearTimeout(timer);\n                    if (timedout) {\n                        return;\n                    }\n                    reject(err);\n                });\n            });\n            return this.iframeConnecting;\n        });\n        this._startHeartbeat = (reconnect = false) => {\n            if (!this._heartbeatStarted) {\n                this._heartbeat(reconnect);\n                this._heartbeatStarted = true;\n            }\n        };\n        this._heartbeat = (reconnect = false) => __awaiter(this, void 0, void 0, function* () {\n            if (this._destroyed) {\n                return;\n            }\n            yield utils_1.wait(2e3);\n            try {\n                if (reconnect) {\n                    yield this._connectToChildIframe();\n                    this._backoffTimeout = 1;\n                    return this._heartbeat();\n                }\n                yield this._ping();\n            }\n            catch (err) {\n                // reconnect on destroyed connection error or ping timeout error\n                if (/destroy|timedout/gi.test(err.message)) {\n                    yield utils_1.wait(this._backoffTimeout * 1e3);\n                    // exponential backoff\n                    this._backoffTimeout = this._backoffTimeout << 1;\n                    return this._heartbeat(true);\n                }\n            }\n            return this._heartbeat();\n        });\n        this._ping = () => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                let timedout = false;\n                const timer = setTimeout(() => {\n                    timedout = true;\n                }, 5e3);\n                this._postMessageToChild({\n                    method: 'ping'\n                }).then((pong) => {\n                    clearTimeout(timer);\n                    if (timedout) {\n                        reject(new Error('timedout'));\n                        return;\n                    }\n                    if (pong !== 'pong') {\n                        reject(new Error('Invalid response'));\n                        return;\n                    }\n                    resolve(pong);\n                })\n                    .catch(err => {\n                    reject(err);\n                });\n            });\n        });\n        this._getConfigFromChild = () => __awaiter(this, void 0, void 0, function* () {\n            return this._postMessageToChild({\n                method: 'getConfig'\n            });\n        });\n        this._postVersionToChild = () => __awaiter(this, void 0, void 0, function* () {\n            return this._postMessageToChild({\n                method: 'version',\n                params: this.version()\n            });\n        });\n        this._loadAsymmetricEncryptionKeyFromChild = () => __awaiter(this, void 0, void 0, function* () {\n            this._asymmetricEncryptionKey = yield this._postMessageToChild({\n                method: 'getAsymmetricEncryptionKey'\n            });\n        });\n        this._postMessageToChild = (data) => __awaiter(this, void 0, void 0, function* () {\n            if (this._destroyed) {\n                throw new Error('Authereum instance destroyed.');\n            }\n            yield this._tilIframeReady();\n            return this._handleError(this.childIframeConnection.postMessage(data));\n        });\n        this._handleChildLogoutEvent = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._resetCache();\n            this.emit('logout', {});\n        });\n        this._handleChildDappKeyExpired = (loginKeyAddress) => __awaiter(this, void 0, void 0, function* () {\n            if (loginKeyAddress === this.cachedLoginKeyAddress) {\n                yield this._resetCache();\n                this.emit('dappKeyExpired', loginKeyAddress);\n                this.emit('logout');\n            }\n        });\n        this._handlePostMessage = (data) => {\n            try {\n                const { method, params } = data;\n                switch (method) {\n                    case 'onError':\n                        const err = params;\n                        this.emit('error', err);\n                        this.notifier.notify({\n                            type: 'error',\n                            message: err.message\n                        });\n                        return;\n                    case 'onLogout':\n                        return this._handleChildLogoutEvent();\n                    case 'onDappKeyExpired':\n                        return this._handleChildDappKeyExpired(params);\n                    case 'login':\n                        return this.login();\n                    case 'setWidgetPosition':\n                        /*\n                        const position = params\n                        const { x, y } = position\n                        this.iframeStyle.left = x\n                        this.iframeStyle.top = y\n                        // this._refreshWidget()\n                       */\n                        return;\n                    case 'setWidgetSize':\n                        const size = params;\n                        const { width, height } = size;\n                        this.iframeStyle.width = width;\n                        this.iframeStyle.height = height;\n                        return this._refreshWidget();\n                    case 'getWindowSize':\n                        return this._getWindowSize();\n                    case 'hideWidget':\n                        return this.hideWidget();\n                    case 'notification':\n                        return this._handlePostMessageNotification(params);\n                    case 'updateNotificationId':\n                        return this._handlePostMessageUpdateNotificationId(params);\n                    case 'updateNotification':\n                        return this._handlePostMessageUpdateNotification(params);\n                    case 'dismissNotification':\n                        return this._handlePostMessageDismissNotification(params);\n                    case 'log':\n                        return this._handlePostMessageLog(params);\n                    default:\n                        break;\n                }\n            }\n            catch (err) {\n                // noop\n            }\n        };\n        this._handlePostMessageNotification = (input) => {\n            const notification = this.notifier.notify(input);\n            if (input.id) {\n                this.notificationsMap[input.id] = notification;\n            }\n        };\n        this._handlePostMessageUpdateNotificationId = (input) => {\n            let { id, newId } = input;\n            this.notificationsMap[newId] = this.notificationsMap[id];\n            this.notificationsMap[id] = null;\n        };\n        this._handlePostMessageUpdateNotification = (input) => {\n            const notification = this.notificationsMap[input.id];\n            if (notification) {\n                notification.update(input);\n            }\n        };\n        this._handlePostMessageDismissNotification = (input) => {\n            const notification = this.notificationsMap[input.id];\n            if (notification) {\n                notification.dismiss();\n            }\n        };\n        this._handlePostMessageLog = (data) => {\n            let { type, message } = data;\n            if (!type) {\n                type = 'log';\n            }\n            console[type](message);\n        };\n        this._getWindowSize = () => {\n            return {\n                width: this._getWindowWidth(),\n                height: this._getWindowHeight()\n            };\n        };\n        this._getWindowWidth = () => {\n            return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n        };\n        this._getWindowHeight = () => {\n            return window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n        };\n        /*\n      public setIframePositionTop = (y: number) => {\n        if (!this.iframe) return\n        this.iframe.style.top = `${y}px`\n      }\n         */\n        this.setIframePositionLeft = (x) => {\n            if (!this.iframe)\n                return;\n            this.iframe.style.left = `${x}px`;\n        };\n        this.setIframeWidth = (width) => {\n            if (!this.iframe)\n                return;\n            this.iframe.style.width = `${width}px`;\n        };\n        this.setIframeHeight = (height) => {\n            if (!this.iframe)\n                return;\n            this.iframe.style.height = `${height}px`;\n        };\n        this._refreshWidget = () => {\n            if (!this._widgetEnabled)\n                return;\n            const { top, left, width, height } = this.iframeStyle;\n            // this.setIframePositionTop(top)\n            // this.setIframePositionLeft(left)\n            this.setIframeWidth(width);\n            this.setIframeHeight(height);\n        };\n        this._loginKeyExists = () => __awaiter(this, void 0, void 0, function* () {\n            return !!(yield this.getLoginKey());\n        });\n        this._accountAddressExists = () => __awaiter(this, void 0, void 0, function* () {\n            return !!(yield this.getAccountAddress());\n        });\n        this._getAccountAdminKeyNonce = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getAccountAuthKeyNonce'\n            }));\n        });\n        this._getAccountAuthKeyNonce = () => __awaiter(this, void 0, void 0, function* () {\n            console.warn('Deprecation notice: `authereum._getAccountAuthKeyNonce()` is deprecated. Use `authereum._getAccountAdminKeyNonce()` instead.');\n            return this._getAccountAdminKeyNonce();\n        });\n        this._executeLoginKeyMetaTx = (tx) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'executeLoginKeyMetaTx',\n                params: serializeMessageObj(tx)\n            }));\n        });\n        this._loadLoginKey = (loginKey) => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            return this._handleError(this._postMessageToChild({\n                method: 'loadLoginKey',\n                params: loginKey\n            }));\n        });\n        this._getOrCreateLoginKey = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            return this._handleError(this._postMessageToChild({\n                method: 'getOrCreateLoginKey'\n            }));\n        });\n        this._getAuthenticateUri = (loginKeyAddress) => {\n            const encryptionKey = this._asymmetricEncryptionKey;\n            // NOTE: slk = sign login key\n            return this.webUri + '/?slk=' + encodeURIComponent(JSON.stringify({\n                loginKey: {\n                    publicAddress: loginKeyAddress,\n                    // Convert to UTC to avoid local machine timezones\n                    expiresAt: moment_1.default().add(1, 'month').utc().unix()\n                },\n                encryptionKey\n            })) + '&redirect_uri=' + this.redirectUri;\n        };\n        this._getSignWithAdminKeyUri = (message) => {\n            if (is_buffer_1.default(message)) {\n                message = `0x${message.toString('hex')}`;\n            }\n            // NOTE: sm = sign message\n            return this.webUri + '/?sm=' + encodeURIComponent(JSON.stringify({\n                message\n            })) + '&redirect_uri=' + this.redirectUri;\n        };\n        this._openPopupOrRedirect = (url) => __awaiter(this, void 0, void 0, function* () {\n            this.emit('openPopup', {});\n            const child = window.open(url, 'Authereum', `toolbar=no,\n      location=no,\n      status=no,\n      menubar=no,\n      scrollbars=no,\n      resizable=no,\n      width=470,\n      height=640`);\n            const isBlocked = (child === null || child === undefined);\n            if (isBlocked && !this.blockedPopupRedirect) {\n                const err = new Error('Disable popup blocker and try again');\n                this.notifier.notify({\n                    type: 'error',\n                    message: err.message,\n                    timeout: 5000\n                });\n                throw err;\n            }\n            else if (isBlocked) {\n                this.emit('popupBlocked');\n                // NOTE: if window is blocked then resort to redirect\n                window.location.href = url;\n                return;\n            }\n            child.focus();\n            return new Promise((resolve, reject) => {\n                const interval = setInterval(() => __awaiter(this, void 0, void 0, function* () {\n                    if (child.closed) {\n                        cleanUp();\n                        const err = new Error('Window closed');\n                        this.emit('error', err);\n                        this.emit('closePopup', {});\n                        reject(err);\n                    }\n                }), 250);\n                const timeout = setTimeout(() => {\n                    cleanUp();\n                    child.close();\n                    doneWithError(new Error('Timedout'));\n                }, 10 * 60 * 1000);\n                const cleanUp = () => {\n                    clearInterval(interval);\n                    clearTimeout(timeout);\n                    this.emit('closePopup', {});\n                };\n                const doneWithError = (err) => {\n                    cleanUp();\n                    this.emit('error', err);\n                    reject(err);\n                };\n                const done = (result = {}) => {\n                    cleanUp();\n                    resolve(result);\n                };\n                window.addEventListener('message', (event) => __awaiter(this, void 0, void 0, function* () {\n                    if (event.origin.includes(this.webUri)) {\n                        // this event tells parent to close child popup\n                        if (event.data.close) {\n                            child.close();\n                            done();\n                        }\n                        if (event.data.login) {\n                            done({ success: true });\n                            this.emit('login', {});\n                            this.cachedIsAuthenticated = true;\n                            if (event.data.encryptedSigningKey) {\n                                yield this._loadSigningKey(event.data.encryptedSigningKey);\n                            }\n                            this._logAnalyticsEvent({ eventType: 'logged_in_dapp', properties: { dapp_url: window.location.href } });\n                            if (this.redirectUri !== window.location.href) {\n                                window.location.href = this.redirectUri;\n                            }\n                        }\n                        if (event.data.result) {\n                            done(event.data.result);\n                            if (this.redirectUri !== window.location.href) {\n                                window.location.href = this.redirectUri;\n                            }\n                        }\n                        if (event.data.error) {\n                            doneWithError(new Error(event.data.error));\n                            if (this.redirectUri !== window.location.href) {\n                                window.location.href = this.redirectUri;\n                            }\n                        }\n                    }\n                }));\n            });\n        });\n        this._signLoginKeyRequest = (publicAddress) => __awaiter(this, void 0, void 0, function* () {\n            const url = this._getAuthenticateUri(publicAddress);\n            return this._openPopupOrRedirect(url);\n        });\n        this._tilDomReady = () => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve) => {\n                if (document.readyState !== 'loading') {\n                    resolve();\n                }\n                else {\n                    document.addEventListener('DOMContentLoaded', () => resolve());\n                }\n            });\n        });\n        // keep both static and normal version methods\n        this.version = () => {\n            return version_1.default;\n        };\n        this.isAuthenticatedSync = () => {\n            return this.cachedIsAuthenticated;\n        };\n        this.getTransactionReceipt = (txHash) => {\n            return this._handleError(this._postMessageToChild({\n                method: 'getTransactionReceipt',\n                params: txHash\n            }));\n        };\n        this.waitForTransactionReceipt = (txHash) => {\n            return this._handleError(this._postMessageToChild({\n                method: 'waitForTransactionReceipt',\n                params: txHash\n            }));\n        };\n        this.hasRecoveryEnabled = () => {\n            return this._handleError(this._postMessageToChild({\n                method: 'hasRecoveryEnabled'\n            }));\n        };\n        this.isContractDeployed = (accountAddress) => {\n            return this._handleError(this._postMessageToChild({\n                method: 'isContractDeployed',\n                params: accountAddress\n            }));\n        };\n        this._loadSigningKey = (signingKey) => __awaiter(this, void 0, void 0, function* () {\n            return this._postMessageToChild({\n                method: 'loadSigningKey',\n                params: signingKey\n            });\n        });\n        this._logAnalyticsEvent = (input) => __awaiter(this, void 0, void 0, function* () {\n            return this._postMessageToChild({\n                method: 'logAnalyticsEvent',\n                params: input\n            });\n        });\n        this._setupSigningKey = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            const encryptedSigningKey = this._authereumQueryParams['encryptedSigningKey'];\n            if (encryptedSigningKey) {\n                yield this._loadSigningKey(encryptedSigningKey);\n            }\n        });\n        this._cacheAuthereumQueryParams = () => __awaiter(this, void 0, void 0, function* () {\n            try {\n                const param = utils_1.getQueryParamValue('_authereum');\n                if (param) {\n                    this._authereumQueryParams = JSON.parse(param);\n                    const newUrl = utils_1.removeQueryParam('_authereum');\n                    utils_1.replaceWindowUrl(newUrl);\n                }\n            }\n            catch (err) {\n                // noop\n            }\n        });\n        this.destroy = () => __awaiter(this, void 0, void 0, function* () {\n            if (this._destroyed) {\n                console.warn('Authereum instance already destroyed.');\n                return true;\n            }\n            try {\n                if (this.iframeReady) {\n                    yield this._postMessageToChild({\n                        method: 'destroy'\n                    });\n                }\n            }\n            catch (err) {\n                console.error(err);\n            }\n            for (let i = 0; i < this._injectedElements.length; i++) {\n                const element = this._injectedElements[i];\n                try {\n                    element.remove();\n                }\n                catch (err) {\n                    console.error(err);\n                }\n            }\n            const elements = document.querySelectorAll('[id*=\"authereum\"]');\n            for (let i = 0; i < elements.length; i++) {\n                const element = elements[i];\n                try {\n                    element.remove();\n                }\n                catch (err) {\n                    console.error(err);\n                }\n            }\n            this.iframeReady = false;\n            this._destroyed = true;\n            console.warn('Authereum instance destroyed.');\n            this.emit('destroy', {});\n            return true;\n        });\n        this.isDestroyed = () => {\n            return this._destroyed;\n        };\n        this._userConfig = config;\n        this._init(config);\n    }\n    _getOrCreateIframe() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.iframe) {\n                if (this.iframeConnection) {\n                    this.iframeConnection.destroy();\n                }\n                this.iframe.remove();\n            }\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                const id = `authereum__x-iframe--${utils_1.uuidv4()}`;\n                const iframe = document.createElement('iframe');\n                iframe.id = id;\n                iframe.src = this.xsUri;\n                iframe.style.position = 'fixed';\n                iframe.style.bottom = '0';\n                iframe.style.right = '0';\n                iframe.style.width = '0';\n                iframe.style.height = '0';\n                iframe.style.border = '0';\n                iframe.style.background = 'transparent';\n                iframe.style.zIndex = '1';\n                iframe.setAttribute('frameborder', '0');\n                iframe.setAttribute('scrolling', 'no');\n                // iframe.style.outline = '1px solid red' // debug\n                this.iframe = iframe;\n                resolve(this.iframe);\n                yield this._tilDomReady();\n                document.body.appendChild(iframe);\n                this._injectedElements.push(iframe);\n                iframe.onload = () => {\n                    this._postVersionToChild();\n                    this._loadAsymmetricEncryptionKeyFromChild();\n                    this._getConfigFromChild()\n                        .then((config) => {\n                        this._setConfig(config);\n                        this._configReady = true;\n                        this.emit('iframeReady', {});\n                    });\n                };\n            }));\n        });\n    }\n}\nexports.default = Authereum;\n// keep both static and normal version methods\nAuthereum.version = () => {\n    return version_1.default;\n};\nif (typeof window !== 'undefined') {\n    window.Authereum = Authereum;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar createKeccakHash = require('keccak');\nvar createHash = require('create-hash');\nvar ethjsUtil = require('ethjs-util');\nvar rlp = require(\"rlp\");\nvar bytes_1 = require(\"./bytes\");\n/**\n * Creates Keccak hash of the input\n * @param a The input data (Buffer|Array|String|Number) If the string is a 0x-prefixed hex value\n * it's interpreted as hexadecimal, otherwise as utf8.\n * @param bits The Keccak width\n */\nexports.keccak = function (a, bits) {\n    if (bits === void 0) { bits = 256; }\n    if (typeof a === 'string' && !ethjsUtil.isHexString(a)) {\n        a = Buffer.from(a, 'utf8');\n    }\n    else {\n        a = bytes_1.toBuffer(a);\n    }\n    if (!bits)\n        bits = 256;\n    return createKeccakHash(\"keccak\" + bits)\n        .update(a)\n        .digest();\n};\n/**\n * Creates Keccak-256 hash of the input, alias for keccak(a, 256).\n * @param a The input data (Buffer|Array|String|Number)\n */\nexports.keccak256 = function (a) {\n    return exports.keccak(a);\n};\n/**\n * Creates SHA256 hash of the input.\n * @param a The input data (Buffer|Array|String|Number)\n */\nexports.sha256 = function (a) {\n    a = bytes_1.toBuffer(a);\n    return createHash('sha256')\n        .update(a)\n        .digest();\n};\n/**\n * Creates RIPEMD160 hash of the input.\n * @param a The input data (Buffer|Array|String|Number)\n * @param padded Whether it should be padded to 256 bits or not\n */\nexports.ripemd160 = function (a, padded) {\n    a = bytes_1.toBuffer(a);\n    var hash = createHash('rmd160')\n        .update(a)\n        .digest();\n    if (padded === true) {\n        return bytes_1.setLength(hash, 32);\n    }\n    else {\n        return hash;\n    }\n};\n/**\n * Creates SHA-3 hash of the RLP encoded version of the input.\n * @param a The input data\n */\nexports.rlphash = function (a) {\n    return exports.keccak(rlp.encode(a));\n};\n//# sourceMappingURL=hash.js.map","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","\nconst safeStringify = require('fast-safe-stringify')\n\n/**\n * @class JsonRpcError\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP 1474.\n * Permits any integer error code.\n */\nclass EthereumRpcError extends Error {\n\n  /**\n   * Create an Ethereum JSON RPC error.\n   * \n   * @param {number} code - The integer error code.\n   * @param {string} message - The string message.\n   * @param {any} [data] - The error data.\n   */\n  constructor (code, message, data) {\n\n    if (!Number.isInteger(code)) throw new Error(\n      '\"code\" must be an integer.'\n    )\n    if (!message || typeof message !== 'string') throw new Error(\n      '\"message\" must be a nonempty string.'\n    )\n\n    super(message)\n    this.code = code\n    if (data !== undefined) this.data = data\n  }\n\n  /**\n   * Returns a plain object with all public class properties.\n   * \n   * @returns {object} The serialized error. \n   */\n  serialize() {\n    const serialized = {\n      code: this.code,\n      message: this.message,\n    }\n    if (this.data !== undefined) serialized.data = this.data\n    if (this.stack) serialized.stack = this.stack\n    return serialized\n  }\n\n  /**\n   * Return a string representation of the serialized error, omitting\n   * any circular references.\n   * \n   * @returns {string} The serialized error as a string.\n   */\n  toString() {\n    return safeStringify(\n      this.serialize(),\n      stringifyReplacer,\n      2\n    )\n  }\n}\n\n/**\n * @class EthereumRpcError\n * Error subclass implementing Ethereum Provider errors per EIP 1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\nclass EthereumProviderError extends EthereumRpcError {\n\n  /**\n   * Create an Ethereum JSON RPC error.\n   * \n   * @param {number} code - The integer error code, in the [ 1000 <= 4999 ] range.\n   * @param {string} message - The string message.\n   * @param {any} [data] - The error data.\n   */\n  constructor(code, message, data) {\n\n    if (!isValidEthProviderCode(code)) {\n      throw new Error(\n        '\"code\" must be an integer such that: 1000 <= code <= 4999'\n      )\n    }\n\n    super(code, message, data)\n  }\n}\n\n// Internal\n\nfunction isValidEthProviderCode(code) {\n  return Number.isInteger(code) && code >= 1000 && code <= 4999\n}\n\nfunction stringifyReplacer(_, value) {\n  if (value === '[Circular]') {\n    return\n  }\n  return value\n}\n\n// Exports\n\nmodule.exports =  {\n  EthereumRpcError,\n  EthereumProviderError\n}\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","const SafeEventEmitter = require('safe-event-emitter')\n\nclass BaseFilter extends SafeEventEmitter {\n\n  constructor () {\n    super()\n    this.updates = []\n  }\n\n  async initialize () {}\n\n  async update () {\n    throw new Error('BaseFilter - no update method specified')\n  }\n\n  addResults (newResults) {\n    this.updates = this.updates.concat(newResults)\n    newResults.forEach(result => this.emit('update', result))\n  }\n\n  addInitialResults (newResults) {}\n\n  getChangesAndClear () {\n    const updates = this.updates\n    this.updates = []\n    return updates\n  }\n  \n}\n\nmodule.exports = BaseFilter\n","module.exports = getBlocksForRange\n\nasync function getBlocksForRange({ provider, fromBlock, toBlock }) {\n  if (!fromBlock) fromBlock = toBlock\n\n  const fromBlockNumber = hexToInt(fromBlock)\n  const toBlockNumber = hexToInt(toBlock)\n  const blockCountToQuery = toBlockNumber - fromBlockNumber + 1\n  // load all blocks from old to new (inclusive)\n  const missingBlockNumbers = Array(blockCountToQuery).fill()\n                              .map((_,index) => fromBlockNumber + index)\n                              .map(intToHex)\n  const blockBodies = await Promise.all(\n    missingBlockNumbers.map(blockNum => query(provider, 'eth_getBlockByNumber', [blockNum, false]))\n  )\n  return blockBodies\n}\n\nfunction hexToInt(hexString) {\n  if (hexString === undefined || hexString === null) return hexString\n  return Number.parseInt(hexString, 16)\n}\n\nfunction incrementHexInt(hexString){\n  if (hexString === undefined || hexString === null) return hexString\n  const value = hexToInt(hexString)\n  return intToHex(value + 1)\n}\n\nfunction intToHex(int) {\n  if (int === undefined || int === null) return int\n  const hexString = int.toString(16)\n  return '0x' + hexString\n}\n\nfunction query(provider, method, params) {\n  return new Promise((resolve, reject) => {\n    provider.sendAsync({ id: 1, jsonrpc: '2.0', method, params }, (err, res) => {\n      if (err) return reject(err)\n      resolve(res.result)\n    })\n  })\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = () => {\n  const callbacks = [];\n  let destroyed = false;\n  return {\n    destroy() {\n      destroyed = true;\n      callbacks.forEach(callback => {\n        callback();\n      });\n    },\n\n    onDestroy(callback) {\n      destroyed ? callback() : callbacks.push(callback);\n    }\n\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = debug => {\n  return function () {\n    if (debug) {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      console.log('[Penpal]', ...args); // eslint-disable-line no-console\n    }\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _errorSerialization = require(\"./errorSerialization\");\n\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\nvar _default = (info, methods, log) => {\n  const localName = info.localName,\n        local = info.local,\n        remote = info.remote,\n        originForSending = info.originForSending,\n        originForReceiving = info.originForReceiving;\n  let destroyed = false;\n  log(`${localName}: Connecting call receiver`);\n\n  const handleMessageEvent = event => {\n    if (event.source !== remote || event.data.penpal !== _constants.CALL) {\n      return;\n    }\n\n    if (event.origin !== originForReceiving) {\n      log(`${localName} received message from origin ${event.origin} which did not match expected origin ${originForReceiving}`);\n      return;\n    }\n\n    const _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n    log(`${localName}: Received ${methodName}() call`);\n\n    const createPromiseHandler = resolution => {\n      return returnValue => {\n        log(`${localName}: Sending ${methodName}() reply`);\n\n        if (destroyed) {\n          // It's possible to throw an error here, but it would need to be thrown asynchronously\n          // and would only be catchable using window.onerror. This is because the consumer\n          // is merely returning a value from their method and not calling any function\n          // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n          // the value of doing so is questionable. Instead, we'll just log a message.\n          log(`${localName}: Unable to send ${methodName}() reply due to destroyed connection`);\n          return;\n        }\n\n        const message = {\n          penpal: _constants.REPLY,\n          id,\n          resolution,\n          returnValue\n        };\n\n        if (resolution === _constants.REJECTED && returnValue instanceof Error) {\n          message.returnValue = (0, _errorSerialization.serializeError)(returnValue);\n          message.returnValueIsError = true;\n        }\n\n        try {\n          remote.postMessage(message, originForSending);\n        } catch (err) {\n          // If a consumer attempts to send an object that's not cloneable (e.g., window),\n          // we want to ensure the receiver's promise gets rejected.\n          if (err.name === _constants.DATA_CLONE_ERROR) {\n            remote.postMessage({\n              penpal: _constants.REPLY,\n              id,\n              resolution: _constants.REJECTED,\n              returnValue: (0, _errorSerialization.serializeError)(err),\n              returnValueIsError: true\n            }, originForSending);\n          }\n\n          throw err;\n        }\n      };\n    };\n\n    new Promise(resolve => resolve(methods[methodName].apply(methods, args))).then(createPromiseHandler(_constants.FULFILLED), createPromiseHandler(_constants.REJECTED));\n  };\n\n  local.addEventListener(_constants.MESSAGE, handleMessageEvent);\n  return () => {\n    destroyed = true;\n    local.removeEventListener(_constants.MESSAGE, handleMessageEvent);\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deserializeError = exports.serializeError = void 0;\n\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\nconst serializeError = (_ref) => {\n  let name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name,\n    message,\n    stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nexports.serializeError = serializeError;\n\nconst deserializeError = obj => {\n  const deserializedError = new Error();\n  Object.keys(obj).forEach(key => deserializedError[key] = obj[key]);\n  return deserializedError;\n};\n\nexports.deserializeError = deserializeError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _errorCodes = require(\"./errorCodes\");\n\nvar _generateId = _interopRequireDefault(require(\"./generateId\"));\n\nvar _errorSerialization = require(\"./errorSerialization\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\nvar _default = (callSender, info, methodNames, destroyConnection, log) => {\n  const localName = info.localName,\n        local = info.local,\n        remote = info.remote,\n        originForSending = info.originForSending,\n        originForReceiving = info.originForReceiving;\n  let destroyed = false;\n  log(`${localName}: Connecting call sender`);\n\n  const createMethodProxy = methodName => {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      log(`${localName}: Sending ${methodName}() call`); // This handles the case where the iframe has been removed from the DOM\n      // (and therefore its window closed), the consumer has not yet\n      // called destroy(), and the user calls a method exposed by\n      // the remote. We detect the iframe has been removed and force\n      // a destroy() immediately so that the consumer sees the error saying\n      // the connection has been destroyed. We wrap this check in a try catch\n      // because Edge throws an \"Object expected\" error when accessing\n      // contentWindow.closed on a contentWindow from an iframe that's been\n      // removed from the DOM.\n\n      let iframeRemoved;\n\n      try {\n        if (remote.closed) {\n          iframeRemoved = true;\n        }\n      } catch (e) {\n        iframeRemoved = true;\n      }\n\n      if (iframeRemoved) {\n        destroyConnection();\n      }\n\n      if (destroyed) {\n        const error = new Error(`Unable to send ${methodName}() call due ` + `to destroyed connection`);\n        error.code = _errorCodes.ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Promise((resolve, reject) => {\n        const id = (0, _generateId.default)();\n\n        const handleMessageEvent = event => {\n          if (event.source !== remote || event.data.penpal !== _constants.REPLY || event.data.id !== id) {\n            return;\n          }\n\n          if (event.origin !== originForReceiving) {\n            log(`${localName} received message from origin ${event.origin} which did not match expected origin ${originForReceiving}`);\n            return;\n          }\n\n          log(`${localName}: Received ${methodName}() reply`);\n          local.removeEventListener(_constants.MESSAGE, handleMessageEvent);\n          let returnValue = event.data.returnValue;\n\n          if (event.data.returnValueIsError) {\n            returnValue = (0, _errorSerialization.deserializeError)(returnValue);\n          }\n\n          (event.data.resolution === _constants.FULFILLED ? resolve : reject)(returnValue);\n        };\n\n        local.addEventListener(_constants.MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: _constants.CALL,\n          id,\n          methodName,\n          args\n        }, originForSending);\n      });\n    };\n  };\n\n  methodNames.reduce((api, methodName) => {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n  return () => {\n    destroyed = true;\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst package_json_1 = __importDefault(require(\"./package.json\"));\nconst version = package_json_1.default.version;\nexports.default = version;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst waterfall_1 = __importDefault(require(\"async/waterfall\"));\nconst ethereumjs_util_1 = __importDefault(require(\"ethereumjs-util\"));\nconst xtend_1 = __importDefault(require(\"xtend\"));\nconst web3_provider_engine_1 = __importDefault(require(\"web3-provider-engine\"));\nconst hooked_wallet_1 = __importDefault(require(\"web3-provider-engine/subproviders/hooked-wallet\"));\nconst rpc_1 = __importDefault(require(\"web3-provider-engine/subproviders/rpc\"));\nconst subscriptions_1 = __importDefault(require(\"web3-provider-engine/subproviders/subscriptions\"));\nconst filters_1 = __importDefault(require(\"web3-provider-engine/subproviders/filters\"));\nconst pify_1 = __importDefault(require(\"pify\"));\nconst web3Utils = __importStar(require(\"web3-utils\"));\nconst AuthereumSDK_1 = __importDefault(require(\"./AuthereumSDK\"));\nconst utils_1 = require(\"./utils\");\nclass AuthereumProvider extends web3_provider_engine_1.default {\n    constructor(config) {\n        super();\n        this.isAuthereum = true;\n        this.lastSignTx = '';\n        this.lastSignTxTimeout = null;\n        this.lastTx = '';\n        this.lastTxTimeout = null;\n        this.lastMsg = '';\n        this.lastMsgTimeout = null;\n        this.lastTypedMsg = '';\n        this.lastTypedMsgTimeout = null;\n        this.concatAuthKeySig = (sig) => __awaiter(this, void 0, void 0, function* () {\n            let authKeySig = yield this.authereum.getLoginKeyAuthSignature();\n            // Combines two hex strings into one hex string\n            authKeySig = authKeySig.slice(2);\n            return sig.concat(authKeySig);\n        });\n        let authereumClient = null;\n        if (config instanceof AuthereumSDK_1.default) {\n            authereumClient = config;\n            config = authereumClient.config;\n        }\n        this.config = config || {};\n        this.authereum = authereumClient || new AuthereumSDK_1.default(this.config);\n        this.initSubprovider();\n        this.isAuthereum = true;\n    }\n    initSubprovider() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.authereum._tilReady();\n            this.rpcUri = this.config.rpcUri || (yield this.authereum.getRpcUri());\n            const throttleTimeout = 2e3;\n            const walletSubprovider = new hooked_wallet_1.default({\n                getAccounts: (cb) => __awaiter(this, void 0, void 0, function* () {\n                    const loggedIn = yield this.authereum.isAuthenticated();\n                    if (!loggedIn) {\n                        if (cb) {\n                            cb(null, []);\n                        }\n                        return [];\n                    }\n                    const accountAddress = yield this.authereum.getAccountAddress();\n                    if (!accountAddress) {\n                        if (cb) {\n                            cb(null, []);\n                        }\n                        return [];\n                    }\n                    if (cb) {\n                        cb(null, [accountAddress]);\n                    }\n                    return [accountAddress];\n                }),\n                approveTransaction: (txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    if (cb) {\n                        cb(null, true);\n                    }\n                    return true;\n                }),\n                approveMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    if (cb) {\n                        cb(null, true);\n                    }\n                    return true;\n                }),\n                approveTypedMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    if (cb) {\n                        cb(null, true);\n                    }\n                    return true;\n                }),\n                signMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    let currentMsg = msgParams;\n                    try {\n                        currentMsg = JSON.stringify(msgParams);\n                    }\n                    catch (err) {\n                        // noop\n                    }\n                    // Throttle if the tx is identical\n                    clearTimeout(this.lastMsgTimeout);\n                    if (this.lastMsg === currentMsg) {\n                        return this._throttledSignMessage(msgParams, cb);\n                    }\n                    // Check if this is the first one. If so, run it through the throttling function\n                    const isFirst = !this.lastMsg;\n                    this.lastMsg = currentMsg;\n                    this.lastMsgTimeout = setTimeout(() => {\n                        this.lastMsg = '';\n                    }, throttleTimeout);\n                    if (isFirst) {\n                        return this._throttledSignMessage(msgParams, cb);\n                    }\n                    return this._signMessage(msgParams, cb);\n                }),\n                signTransaction: (txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    const t = Object.assign({}, txParams);\n                    t.nonce = null;\n                    // Throttle if the tx is identical\n                    const currentTx = JSON.stringify(t);\n                    clearTimeout(this.lastSignTxTimeout);\n                    if (this.lastSignTx === currentTx) {\n                        return this._throttledSignTransaction(txParams, cb);\n                    }\n                    // Check if this is the first one. If so, run it through the throttling function\n                    const isFirst = !this.lastSignTx;\n                    this.lastSignTx = currentTx;\n                    this.lastSignTxTimeout = setTimeout(() => {\n                        this.lastSignTx = '';\n                    }, throttleTimeout);\n                    if (isFirst) {\n                        return this._throttledSignTransaction(txParams, cb);\n                    }\n                    return this._signTransaction(txParams, cb);\n                }),\n                processTransaction: (txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    const t = Object.assign({}, txParams);\n                    t.nonce = null;\n                    // Throttle if the tx is identical\n                    const currentTx = JSON.stringify(t);\n                    clearTimeout(this.lastTxTimeout);\n                    if (this.lastTx === currentTx) {\n                        return this._throttledProcessTransaction(txParams, cb);\n                    }\n                    // Check if this is the first one. If so, run it through the throttling function\n                    const isFirst = !this.lastTx;\n                    this.lastTx = currentTx;\n                    this.lastTxTimeout = setTimeout(() => {\n                        this.lastTx = '';\n                    }, throttleTimeout);\n                    if (isFirst) {\n                        return this._throttledProcessTransaction(txParams, cb);\n                    }\n                    return this._processTransaction(txParams, cb);\n                }),\n                approvePersonalMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    if (cb) {\n                        cb(null, true);\n                    }\n                    return true;\n                }),\n                signPersonalMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    return walletSubprovider.signMessage(msgParams, cb);\n                }),\n                signTypedMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    let currentTypedMsg = msgParams;\n                    try {\n                        currentTypedMsg = JSON.stringify(msgParams);\n                    }\n                    catch (err) {\n                        // noop\n                    }\n                    // Throttle if the tx is identical\n                    clearTimeout(this.lastTypedMsgTimeout);\n                    if (this.lastTypedMsg === currentTypedMsg) {\n                        return this._throttledSignTypedMessage(msgParams, cb);\n                    }\n                    // Check if this is the first one. If so, run it through the throttling function\n                    const isFirst = !this.lastTypedMsg;\n                    this.lastTypedMsg = currentTypedMsg;\n                    this.lastTypedMsgTimeout = setTimeout(() => {\n                        this.lastTypedMsg = '';\n                    }, throttleTimeout);\n                    if (isFirst) {\n                        return this._throttledSignTypedMessage(msgParams, cb);\n                    }\n                    return this._signTypedMessage(msgParams, cb);\n                })\n            });\n            this.walletSubprovider = walletSubprovider;\n            this._processTransaction = (txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const signedTransaction = yield pify_1.default(walletSubprovider.signTransaction.bind(walletSubprovider))(txParams);\n                    const transactionHash = web3Utils.sha3(signedTransaction);\n                    if (cb) {\n                        cb(null, transactionHash);\n                    }\n                    return transactionHash;\n                }\n                catch (err) {\n                    if (cb) {\n                        cb(err);\n                        return;\n                    }\n                    throw err;\n                }\n            });\n            this._throttledProcessTransaction = utils_1.throttle((txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                return this._processTransaction(txParams, cb);\n            }), throttleTimeout);\n            this._signMessage = (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const sig = yield this.authereum.signWithDappKey(msgParams.data);\n                    let authKeySig = yield this.authereum.getLoginKeyAuthSignature();\n                    let loginKeyRestrictionsData = yield this.authereum.getLoginKeyRestrictionsData();\n                    // Combines three hex strings into one hex string\n                    authKeySig = authKeySig.slice(2);\n                    loginKeyRestrictionsData = loginKeyRestrictionsData.slice(2);\n                    const combinedSig = sig.concat(authKeySig, loginKeyRestrictionsData);\n                    if (cb) {\n                        cb(null, combinedSig);\n                    }\n                    return combinedSig;\n                }\n                catch (err) {\n                    if (cb) {\n                        cb(err);\n                    }\n                }\n            });\n            this._throttledSignMessage = utils_1.throttle((msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                return this._signMessage(msgParams, cb);\n            }), throttleTimeout);\n            this._signTypedMessage = (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const sig = yield this.authereum.signTypedMessageWithDappKey(msgParams.data);\n                    const combinedSig = yield this.concatAuthKeySig(sig);\n                    if (cb) {\n                        cb(null, combinedSig);\n                    }\n                    return combinedSig;\n                }\n                catch (err) {\n                    if (cb) {\n                        cb(err);\n                    }\n                }\n            });\n            this._throttledSignTypedMessage = utils_1.throttle((msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                return this._signTypedMessage(msgParams, cb);\n            }), throttleTimeout);\n            this._signTransaction = (txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const res = yield this.authereum.signTransactionWithLoginKey(txParams);\n                    if (!res) {\n                        throw new Error('Error signing transaction');\n                    }\n                    if (cb) {\n                        cb(null, res.signedTransactionData);\n                    }\n                    return res.signedTransactionData;\n                }\n                catch (err) {\n                    cb(err);\n                }\n            });\n            this._throttledSignTransaction = utils_1.throttle((txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                return this._signTransaction(txParams, cb);\n            }), throttleTimeout);\n            // keep reference to original ssendAsync\n            this._sendAsync = this.sendAsync;\n            this.sendAsync = (payload, callback) => __awaiter(this, void 0, void 0, function* () {\n                return new Promise((resolve, reject) => {\n                    if (!callback) {\n                        callback = (err, response) => {\n                            if (err) {\n                                reject(err);\n                                return;\n                            }\n                            resolve(response);\n                        };\n                    }\n                    this._sendAsync(payload, callback);\n                });\n            });\n            this.send = (payload, callback) => {\n                // Web3 >=1.0-beta.38 calls `send` with method and parameters\n                if (typeof payload === 'string') {\n                    return new Promise((resolve, reject) => {\n                        this.sendAsync({\n                            jsonrpc: '2.0',\n                            id: 42,\n                            method: payload,\n                            params: callback || []\n                        }, (error, response) => {\n                            if (error) {\n                                reject(error);\n                            }\n                            else {\n                                resolve(response.result);\n                            }\n                        });\n                    });\n                }\n                // Web3 <=1.0 beta.37 uses `send` with a callback for async queries\n                if (callback) {\n                    this.sendAsync(payload, callback);\n                    return;\n                }\n                let result = null;\n                switch (payload.method) {\n                    case 'eth_uninstallFilter':\n                        this.sendAsync(payload, () => {\n                            // noop\n                        });\n                        result = true;\n                        break;\n                    default:\n                        let message = `The Authereum Web3 object does not support synchronous methods like ${payload.method} without a callback parameter.`;\n                        throw new Error(message);\n                }\n                return {\n                    id: payload.id,\n                    jsonrpc: payload.jsonrpc,\n                    result: result\n                };\n            };\n            walletSubprovider.handleRequest = function (payload, next, end) {\n                const self = this;\n                self._parityRequests = {};\n                self._parityRequestCount = 0;\n                // switch statement is not block scoped\n                // sp we cant repeat var declarations\n                let txParams;\n                let msgParams;\n                let extraParams;\n                let message;\n                let address;\n                switch (payload.method) {\n                    case 'eth_coinbase':\n                        // process normally\n                        self.getAccounts(function (err, accounts) {\n                            if (err)\n                                return end(err);\n                            let result = accounts[0] || null;\n                            end(null, result);\n                        });\n                        return;\n                    case 'eth_accounts':\n                        // process normally\n                        self.getAccounts(function (err, accounts) {\n                            if (err)\n                                return end(err);\n                            end(null, accounts);\n                        });\n                        return;\n                    case 'eth_sendTransaction':\n                        txParams = payload.params[0];\n                        waterfall_1.default([\n                            (cb) => self.processTransaction(txParams, cb)\n                        ], end);\n                        return;\n                    case 'eth_signTransaction':\n                        txParams = payload.params[0];\n                        waterfall_1.default([\n                            (cb) => self.processSignTransaction(txParams, cb)\n                        ], end);\n                        return;\n                    case 'eth_sign':\n                        // process normally\n                        address = payload.params[0];\n                        message = payload.params[1];\n                        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n                        // good place for metadata\n                        extraParams = payload.params[2] || {};\n                        msgParams = xtend_1.default(extraParams, {\n                            from: address,\n                            data: message\n                        });\n                        waterfall_1.default([\n                            (cb) => self.processMessage(msgParams, cb)\n                        ], end);\n                        return;\n                    case 'personal_sign':\n                        return (function () {\n                            // process normally\n                            const first = payload.params[0];\n                            const second = payload.params[1];\n                            // We initially incorrectly ordered these parameters.\n                            // To gracefully respect users who adopted this API early,\n                            // we are currently gracefully recovering from the wrong param order\n                            // when it is clearly identifiable.\n                            //\n                            // That means when the first param is definitely an address,\n                            // and the second param is definitely not, but is hex.\n                            if (resemblesData(second) && resemblesAddress(first)) {\n                                let warning = `The eth_personalSign method requires params ordered `;\n                                warning += `[message, address]. This was previously handled incorrectly, `;\n                                warning += `and has been corrected automatically. `;\n                                warning += `Please switch this param order for smooth behavior in the future.`;\n                                console.warn(warning);\n                                address = payload.params[0];\n                                message = payload.params[1];\n                            }\n                            else {\n                                message = payload.params[0];\n                                address = payload.params[1];\n                            }\n                            // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n                            // good place for metadata\n                            extraParams = payload.params[2] || {};\n                            msgParams = xtend_1.default(extraParams, {\n                                from: address,\n                                data: message\n                            });\n                            waterfall_1.default([\n                                (cb) => self.processPersonalMessage(msgParams, cb)\n                            ], end);\n                        })();\n                    case 'eth_decryptMessage':\n                        return (function () {\n                            // process normally\n                            const first = payload.params[0];\n                            const second = payload.params[1];\n                            // We initially incorrectly ordered these parameters.\n                            // To gracefully respect users who adopted this API early,\n                            // we are currently gracefully recovering from the wrong param order\n                            // when it is clearly identifiable.\n                            //\n                            // That means when the first param is definitely an address,\n                            // and the second param is definitely not, but is hex.\n                            if (resemblesData(second) && resemblesAddress(first)) {\n                                let warning = `The eth_decryptMessage method requires params ordered `;\n                                warning += `[message, address]. This was previously handled incorrectly, `;\n                                warning += `and has been corrected automatically. `;\n                                warning += `Please switch this param order for smooth behavior in the future.`;\n                                console.warn(warning);\n                                address = payload.params[0];\n                                message = payload.params[1];\n                            }\n                            else {\n                                message = payload.params[0];\n                                address = payload.params[1];\n                            }\n                            // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n                            // good place for metadata\n                            extraParams = payload.params[2] || {};\n                            msgParams = xtend_1.default(extraParams, {\n                                from: address,\n                                data: message\n                            });\n                            waterfall_1.default([\n                                (cb) => self.validateDecryptMessage(msgParams, cb),\n                                (cb) => self.processDecryptMessage(msgParams, cb)\n                            ], end);\n                        })();\n                    case 'encryption_public_key':\n                        return (function () {\n                            const address = payload.params[0];\n                            waterfall_1.default([\n                                (cb) => self.validateEncryptionPublicKey(address, cb),\n                                (cb) => self.processEncryptionPublicKey(address, cb)\n                            ], end);\n                        })();\n                    case 'personal_ecRecover':\n                        return (function () {\n                            message = payload.params[0];\n                            let signature = payload.params[1];\n                            // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n                            // good place for metadata\n                            extraParams = payload.params[2] || {};\n                            msgParams = xtend_1.default(extraParams, {\n                                sig: signature,\n                                data: message\n                            });\n                            self.recoverPersonalSignature(msgParams, end);\n                        })();\n                    case 'eth_signTypedData':\n                        // process normally\n                        message = payload.params[0];\n                        address = payload.params[1];\n                        extraParams = payload.params[2] || {};\n                        msgParams = xtend_1.default(extraParams, {\n                            from: address,\n                            data: message\n                        });\n                        waterfall_1.default([\n                            (cb) => self.processTypedMessage(msgParams, cb)\n                        ], end);\n                        return;\n                    case 'eth_signTypedData_v3':\n                        // process normally\n                        address = payload.params[0];\n                        message = payload.params[1];\n                        extraParams = payload.params[2] || {};\n                        msgParams = xtend_1.default(extraParams, {\n                            from: address,\n                            data: message\n                        });\n                        waterfall_1.default([\n                            (cb) => self.processTypedMessage(msgParams, cb)\n                        ], end);\n                        return;\n                    case 'parity_postTransaction':\n                        txParams = payload.params[0];\n                        self.parityPostTransaction(txParams, end);\n                        return;\n                    case 'parity_postSign':\n                        address = payload.params[0];\n                        message = payload.params[1];\n                        self.parityPostSign(address, message, end);\n                        return;\n                    case 'parity_checkRequest':\n                        return (function () {\n                            const requestId = payload.params[0];\n                            self.parityCheckRequest(requestId, end);\n                        })();\n                    case 'parity_defaultAccount':\n                        self.getAccounts(function (err, accounts) {\n                            if (err)\n                                return end(err);\n                            const account = accounts[0] || null;\n                            end(null, account);\n                        });\n                        return;\n                    default:\n                        next();\n                        return;\n                }\n            };\n            walletSubprovider.validatePersonalMessage = (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                if (cb) {\n                    cb(null, true);\n                }\n                return true;\n            });\n            walletSubprovider.validateMessage = (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                if (cb) {\n                    cb(null, true);\n                }\n                return true;\n            });\n            walletSubprovider.validateTypedMessage = (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                if (cb) {\n                    cb(null, true);\n                }\n                return true;\n            });\n            this.addProvider(walletSubprovider);\n            this.rpcSubProvider = new rpc_1.default({\n                rpcUrl: this.rpcUri\n            });\n            this.addProvider(new subscriptions_1.default());\n            this.addProvider(new filters_1.default());\n            this.addProvider({\n                setEngine: _ => _,\n                handleRequest: (payload, next, end) => __awaiter(this, void 0, void 0, function* () {\n                    this.rpcSubProvider.handleRequest(payload, next, end);\n                })\n            });\n            // network connectivity error\n            this.on('error', (err) => {\n                console.error(err.stack);\n            });\n            // start polling\n            this.start();\n            this._blockTracker.removeAllListeners();\n        });\n    }\n    getAccounts(cb) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const loggedIn = yield this.authereum.isAuthenticated();\n            if (!loggedIn) {\n                if (cb) {\n                    cb(null, []);\n                }\n                return [];\n            }\n            const accountAddress = yield this.authereum.getAccountAddress();\n            if (!accountAddress) {\n                if (cb) {\n                    cb(null, []);\n                }\n                return [];\n            }\n            if (cb) {\n                cb(null, [accountAddress]);\n            }\n            return [accountAddress];\n        });\n    }\n    isConnected() {\n        return this.authereum.isAuthenticatedSync();\n    }\n    enable() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.authereum.login();\n            const accountAddress = yield this.authereum.getAccountAddress();\n            if (accountAddress) {\n                return [accountAddress];\n            }\n            return [];\n        });\n    }\n    disable() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.authereum.logout();\n        });\n    }\n    tilDomReady() {\n        return new Promise((resolve) => {\n            if (document.readyState !== 'loading') {\n                resolve();\n            }\n            else {\n                document.addEventListener('DOMContentLoaded', () => resolve());\n            }\n        });\n    }\n    sendTransaction(tx) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.sendTransactionBatch([tx]);\n        });\n    }\n    sendTransactionBatch(txs) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.authereum.sendTransactionBatch(txs);\n        });\n    }\n    sign(msgParams) {\n        return this._signMessage(msgParams);\n    }\n    signMessageWithAdminKey(message) {\n        return this.authereum.signMessageWithAdminKey(message);\n    }\n    signMessageWithSigningKey(message) {\n        return this.authereum.signMessageWithSigningKey(message);\n    }\n    showWidget(enabled = true) {\n        return this.authereum.showWidget(enabled);\n    }\n    widgetEnabled() {\n        return this.authereum.widgetEnabled();\n    }\n    getTransactionReceipt(txHash) {\n        return this.authereum.getTransactionReceipt(txHash);\n    }\n    waitForTransactionReceipt(txHash) {\n        return this.authereum.waitForTransactionReceipt(txHash);\n    }\n    isContractDeployed(accountAddress) {\n        return this.authereum.isContractDeployed(accountAddress);\n    }\n}\nexports.default = AuthereumProvider;\nfunction resemblesAddress(str) {\n    const fixed = ethereumjs_util_1.default.addHexPrefix(str);\n    const isValid = ethereumjs_util_1.default.isValidAddress(fixed);\n    return isValid;\n}\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData(str) {\n    const fixed = ethereumjs_util_1.default.addHexPrefix(str);\n    const isValidAddress = ethereumjs_util_1.default.isValidAddress(fixed);\n    return !isValidAddress && isValidHex(str);\n}\nfunction isValidHex(data) {\n    const isString = typeof data === 'string';\n    if (!isString)\n        return false;\n    const isHexPrefixed = data.slice(0, 2) === '0x';\n    if (!isHexPrefixed)\n        return false;\n    const nonPrefixed = data.slice(2);\n    const hexRegex = /^[0-9A-Fa-f]+$/g;\n    const isValid = nonPrefixed.match(hexRegex);\n    return isValid;\n}\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isAsyncIterable = exports.isAsyncGenerator = exports.isAsync = undefined;\n\nvar _asyncify = require('../asyncify');\n\nvar _asyncify2 = _interopRequireDefault(_asyncify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAsync(fn) {\n    return fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction isAsyncGenerator(fn) {\n    return fn[Symbol.toStringTag] === 'AsyncGenerator';\n}\n\nfunction isAsyncIterable(obj) {\n    return typeof obj[Symbol.asyncIterator] === 'function';\n}\n\nfunction wrapAsync(asyncFn) {\n    if (typeof asyncFn !== 'function') throw new Error('expected a function');\n    return isAsync(asyncFn) ? (0, _asyncify2.default)(asyncFn) : asyncFn;\n}\n\nexports.default = wrapAsync;\nexports.isAsync = isAsync;\nexports.isAsyncGenerator = isAsyncGenerator;\nexports.isAsyncIterable = isAsyncIterable;","\nconst errorValues = require('./errorValues.json')\nconst FALLBACK_ERROR_CODE = require('./errorCodes.json').rpc.internal\nconst { EthereumRpcError } = require('./classes')\n\nconst JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.'\n\nconst FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.'\n\nconst FALLBACK_ERROR = {\n  code: FALLBACK_ERROR_CODE,\n  message: getMessageFromCode(FALLBACK_ERROR_CODE)\n}\n\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n * \n * @param {number} code - The integer error code\n * @param {string} fallbackMessage - The fallback message\n * @return {string} The corresponding message or the fallback message\n */\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n\n  if (Number.isInteger(code)) {\n\n    const codeString = code.toString()\n    if (errorValues[codeString]) return errorValues[codeString].message\n\n    if (isJsonRpcServerError(code)) return JSON_RPC_SERVER_ERROR_MESSAGE\n\n    // TODO: allow valid codes and messages to be extended\n    // // EIP 1193 Status Codes\n    // if (code >= 4000 && code <= 4999) return Something?\n  }\n  return fallbackMessage\n}\n\n/**\n * Returns whether the given code is valid.\n * A code is only valid if it has a message.\n * \n * @param {number} code - The code to check\n * @return {boolean} true if the code is valid, false otherwise.\n */\nfunction isValidCode(code) {\n\n  if (!Number.isInteger(code)) return false\n\n  const codeString = code.toString()\n  if (errorValues[codeString]) return true\n\n  if (isJsonRpcServerError(code)) return true\n\n  // TODO: allow valid codes and messages to be extended\n  // // EIP 1193 Status Codes\n  // if (code >= 4000 && code <= 4999) return true\n\n  return false\n}\n\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * Merely copies the given error's values if it is already compatible.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.originalError property.\n * Adds a 'stack' property if it exists on the given error.\n *\n * @param {any} error - The error to serialize.\n * @param {object} fallbackError - The custom fallback error values if the\n * given error is invalid.\n * @return {object} A standardized error object.\n */\nfunction serializeError (error, fallbackError = FALLBACK_ERROR) {\n\n  if (\n    !fallbackError || \n    !Number.isInteger(fallbackError.code) ||\n    typeof fallbackError.message !== 'string'\n  ) {\n    throw new Error(\n      'fallbackError must contain integer number code and string message.'\n    )\n  }\n\n  if (error instanceof EthereumRpcError) {\n    return error.serialize()\n  }\n\n  const serialized = {}\n\n  if (error && isValidCode(error.code)) {\n\n    serialized.code = error.code\n\n    if (error.message && typeof error.message === 'string') {\n      serialized.message = error.message\n      if (error.hasOwnProperty('data')) serialized.data = error.data\n    } else {\n      serialized.message = getMessageFromCode(serialized.code)\n      serialized.data = { originalError: assignOriginalError(error) }\n    }\n\n  } else {\n    serialized.code = fallbackError.code\n    serialized.message = (\n      error && error.message\n        ? error.message\n        : fallbackError.message\n    )\n    serialized.data = { originalError: assignOriginalError(error) }\n  }\n\n  if (error && error.stack) serialized.stack = error.stack\n  return serialized\n}\n\n// Internal\n\nfunction isJsonRpcServerError (code) {\n  return code >= -32099 && code <= -32000\n}\n\nfunction assignOriginalError (error) {\n  if (error && typeof error === 'object' && !Array.isArray(error)) {\n    return Object.assign({}, error)\n  }\n  return error\n}\n\n// Exports\n\nmodule.exports = {\n  getMessageFromCode,\n  isValidCode,\n  serializeError,\n  JSON_RPC_SERVER_ERROR_MESSAGE,\n}\n","// for backwards compat\nmodule.exports = require('json-rpc-engine/src/createScaffoldMiddleware')\n","const Mutex = require('await-semaphore').Mutex\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\nconst createJsonRpcMiddleware = require('eth-json-rpc-middleware/scaffold')\nconst LogFilter = require('./log-filter.js')\nconst BlockFilter = require('./block-filter.js')\nconst TxFilter = require('./tx-filter.js')\nconst { intToHex, hexToInt } = require('./hexUtils')\n\nmodule.exports = createEthFilterMiddleware\n\nfunction createEthFilterMiddleware({ blockTracker, provider }) {\n\n  // create filter collection\n  let filterIndex = 0\n  let filters = {}\n  // create update mutex\n  const mutex = new Mutex()\n  const waitForFree = mutexMiddlewareWrapper({ mutex })\n\n  const middleware = createJsonRpcMiddleware({\n    // install filters\n    eth_newFilter:                   waitForFree(toFilterCreationMiddleware(newLogFilter)),\n    eth_newBlockFilter:              waitForFree(toFilterCreationMiddleware(newBlockFilter)),\n    eth_newPendingTransactionFilter: waitForFree(toFilterCreationMiddleware(newPendingTransactionFilter)),\n    // uninstall filters\n    eth_uninstallFilter:             waitForFree(toAsyncRpcMiddleware(uninstallFilterHandler)),\n    // checking filter changes\n    eth_getFilterChanges:            waitForFree(toAsyncRpcMiddleware(getFilterChanges)),\n    eth_getFilterLogs:               waitForFree(toAsyncRpcMiddleware(getFilterLogs)),\n  })\n\n  // setup filter updating and destroy handler\n  const filterUpdater = async ({ oldBlock, newBlock }) => {\n    if (filters.length === 0) return\n    // lock update reads\n    const releaseLock = await mutex.acquire()\n    try {\n      // process all filters in parallel\n      await Promise.all(objValues(filters).map(async (filter) => {\n        try {\n         await filter.update({ oldBlock, newBlock })\n        } catch (err) {\n          // handle each error individually so filter update errors don't affect other filters\n          console.error(err)\n        }\n      }))\n    } catch (err) {\n      // log error so we don't skip the releaseLock\n      console.error(err)\n    }\n    // unlock update reads\n    releaseLock()\n  }\n\n  // expose filter methods directly\n  middleware.newLogFilter = newLogFilter\n  middleware.newBlockFilter = newBlockFilter\n  middleware.newPendingTransactionFilter = newPendingTransactionFilter\n  middleware.uninstallFilter = uninstallFilterHandler\n  middleware.getFilterChanges = getFilterChanges\n  middleware.getFilterLogs = getFilterLogs\n\n  // expose destroy method for cleanup\n  middleware.destroy = () => {\n    uninstallAllFilters()\n  }\n\n  return middleware\n\n  //\n  // new filters\n  //\n\n  async function newLogFilter(params) {\n    const filter = new LogFilter({ provider, params })\n    const filterIndex = await installFilter(filter)\n    return filter\n  }\n\n  async function newBlockFilter() {\n    const filter = new BlockFilter({ provider })\n    const filterIndex = await installFilter(filter)\n    return filter\n  }\n\n  async function newPendingTransactionFilter() {\n    const filter = new TxFilter({ provider })\n    const filterIndex = await installFilter(filter)\n    return filter\n  }\n\n  //\n  // get filter changes\n  //\n\n  async function getFilterChanges(filterIndexHex) {\n    const filterIndex = hexToInt(filterIndexHex)\n    const filter = filters[filterIndex]\n    if (!filter) {\n      throw new Error(`No filter for index \"${filterIndex}\"`)\n    }\n    const results = filter.getChangesAndClear()\n    return results\n  }\n\n  async function getFilterLogs(filterIndexHex) {\n    const filterIndex = hexToInt(filterIndexHex)\n    const filter = filters[filterIndex]\n    if (!filter) {\n      throw new Error(`No filter for index \"${filterIndex}\"`)\n    }\n    // only return results for log filters\n    if (filter.type === 'log') {\n      results = filter.getAllResults()\n    } else {\n      results = []\n    }\n    return results\n  }\n\n\n  //\n  // remove filters\n  //\n\n\n  async function uninstallFilterHandler(filterIndexHex) {\n    // check filter exists\n    const filterIndex = hexToInt(filterIndexHex)\n    const filter = filters[filterIndex]\n    const result = Boolean(filter)\n    // uninstall filter\n    if (result) {\n      await uninstallFilter(filterIndex)\n    }\n    return result\n  }\n\n  //\n  // utils\n  //\n\n  async function installFilter(filter) {\n    const prevFilterCount = objValues(filters).length\n    // install filter\n    const currentBlock = await blockTracker.getLatestBlock()\n    await filter.initialize({ currentBlock })\n    filterIndex++\n    filters[filterIndex] = filter\n    filter.id = filterIndex\n    filter.idHex = intToHex(filterIndex)\n    // update block tracker subs\n    const newFilterCount = objValues(filters).length\n    updateBlockTrackerSubs({ prevFilterCount, newFilterCount })\n    return filterIndex\n  }\n\n  async function uninstallFilter(filterIndex) {\n    const prevFilterCount = objValues(filters).length\n    delete filters[filterIndex]\n    // update block tracker subs\n    const newFilterCount = objValues(filters).length\n    updateBlockTrackerSubs({ prevFilterCount, newFilterCount })\n  }\n\n  async function uninstallAllFilters() {\n    const prevFilterCount = objValues(filters).length\n    filters = {}\n    // update block tracker subs\n    updateBlockTrackerSubs({ prevFilterCount, newFilterCount: 0 })\n  }\n\n  function updateBlockTrackerSubs({ prevFilterCount, newFilterCount }) {\n    // subscribe\n    if (prevFilterCount === 0 && newFilterCount > 0) {\n      blockTracker.on('sync', filterUpdater)\n      return\n    }\n    // unsubscribe\n    if (prevFilterCount > 0 && newFilterCount === 0) {\n      blockTracker.removeListener('sync', filterUpdater)\n      return\n    }\n  }\n\n}\n\n// helper for turning filter constructors into rpc middleware\nfunction toFilterCreationMiddleware(createFilterFn) {\n  return toAsyncRpcMiddleware(async (...args) => {\n    const filter = await createFilterFn(...args)\n    const result = intToHex(filter.id)\n    return result\n  })\n}\n\n// helper for pulling out req.params and setting res.result\nfunction toAsyncRpcMiddleware(asyncFn) {\n  return createAsyncMiddleware(async (req, res) => {\n    const result = await asyncFn.apply(null, req.params)\n    res.result = result\n  })\n}\n\nfunction mutexMiddlewareWrapper({ mutex }) {\n  return (middleware) => {\n    return async (req, res, next, end) => {\n      // wait for mutex available\n      // we can release immediately because\n      // we just need to make sure updates aren't active\n      const releaseLock = await mutex.acquire()\n      releaseLock()\n      middleware(req, res, next, end)\n    }\n  }\n}\n\nfunction objValues(obj, fn){\n  const values = []\n  for (let key in obj) {\n    values.push(obj[key])\n  }\n  return values\n}\n","'use strict';\n\nconst processFn = (fn, options) => function (...args) {\n\tconst P = options.promiseModule;\n\n\treturn new P((resolve, reject) => {\n\t\tif (options.multiArgs) {\n\t\t\targs.push((...result) => {\n\t\t\t\tif (options.errorFirst) {\n\t\t\t\t\tif (result[0]) {\n\t\t\t\t\t\treject(result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.shift();\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (options.errorFirst) {\n\t\t\targs.push((error, result) => {\n\t\t\t\tif (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\targs.push(resolve);\n\t\t}\n\n\t\tfn.apply(this, args);\n\t});\n};\n\nmodule.exports = (input, options) => {\n\toptions = Object.assign({\n\t\texclude: [/.+(Sync|Stream)$/],\n\t\terrorFirst: true,\n\t\tpromiseModule: Promise\n\t}, options);\n\n\tconst objType = typeof input;\n\tif (!(input !== null && (objType === 'object' || objType === 'function'))) {\n\t\tthrow new TypeError(`Expected \\`input\\` to be a \\`Function\\` or \\`Object\\`, got \\`${input === null ? 'null' : objType}\\``);\n\t}\n\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\t\treturn options.include ? options.include.some(match) : !options.exclude.some(match);\n\t};\n\n\tlet ret;\n\tif (objType === 'function') {\n\t\tret = function (...args) {\n\t\t\treturn options.excludeMain ? input(...args) : processFn(input, options).apply(this, args);\n\t\t};\n\t} else {\n\t\tret = Object.create(Object.getPrototypeOf(input));\n\t}\n\n\tfor (const key in input) { // eslint-disable-line guard-for-in\n\t\tconst property = input[key];\n\t\tret[key] = typeof property === 'function' && filter(key) ? processFn(property, options) : property;\n\t}\n\n\treturn ret;\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ethereum_private_key_to_address_1 = __importDefault(require(\"ethereum-private-key-to-address\"));\nconst ethers = __importStar(require(\"ethers\"));\nconst to_hex_1 = __importDefault(require(\"to-hex\"));\nconst uuidv4_1 = require(\"uuidv4\");\nconst querystring_1 = __importDefault(require(\"querystring\"));\nexports.uuidv4 = uuidv4_1.uuid;\nexports.privateKeyToAddress = ethereum_private_key_to_address_1.default;\nexports.wait = (t) => __awaiter(void 0, void 0, void 0, function* () {\n    return new Promise(resolve => setTimeout(() => resolve(), t));\n});\nexports.toHex = (value, opts = {}) => {\n    if (opts.addPrefix === undefined) {\n        opts.addPrefix = true;\n    }\n    opts.default = 0;\n    return to_hex_1.default(value, opts);\n};\nexports.signWithPrivateKey = (message, privateKey, providerUri) => __awaiter(void 0, void 0, void 0, function* () {\n    if (!privateKey) {\n        throw new Error('private key is required');\n    }\n    const provider = new ethers.providers.JsonRpcProvider(providerUri);\n    const wallet = new ethers.Wallet(privateKey, provider);\n    let data = message;\n    if (message.startsWith('0x')) {\n        data = ethers.utils.arrayify(message);\n    }\n    const signature = yield wallet.signMessage(data);\n    const address = exports.privateKeyToAddress(privateKey);\n    /*\n    const verified = verifySignature(message, signature, address)\n  \n    if (!verified) {\n      throw new Error('signature produced is invalid')\n    }\n     */\n    return signature;\n});\nexports.debounce = (callback, time) => {\n    let interval;\n    return (...args) => {\n        clearTimeout(interval);\n        interval = setTimeout(() => {\n            interval = null;\n            callback(...args);\n        }, time);\n    };\n};\nexports.throttle = (fn, interval, limit = 1) => {\n    const queue = new Map();\n    let currentTick = 0;\n    let activeCount = 0;\n    const throttled = function (...args) {\n        let timeout;\n        return new Promise((resolve, reject) => {\n            const execute = () => {\n                resolve(fn.apply(this, args));\n                queue.delete(timeout);\n            };\n            const now = Date.now();\n            if ((now - currentTick) > interval) {\n                activeCount = 1;\n                currentTick = now;\n                timeout = setTimeout(execute, currentTick - now);\n            }\n            else if (activeCount < limit) {\n                activeCount++;\n            }\n            else {\n                activeCount = 1;\n            }\n            queue.set(timeout, reject);\n        });\n    };\n    return throttled;\n};\nexports.getQueryParamValue = (name) => {\n    const query = window.location.search.substr(1);\n    const params = querystring_1.default.parse(query);\n    if (params[name]) {\n        return params[name];\n    }\n    return null;\n};\nexports.removeQueryParam = (key, url = window.location.href) => {\n    try {\n        const u = new URL(url);\n        if ('URLSearchParams' in window) {\n            const searchParams = new URLSearchParams(u.search);\n            searchParams.delete(key);\n            u.search = searchParams.toString();\n            return u.toString();\n        }\n    }\n    catch (err) {\n        // noop\n    }\n    return url;\n};\nexports.replaceWindowUrl = (newUrl) => {\n    try {\n        window.history.replaceState({}, document.title, newUrl);\n    }\n    catch (err) {\n        // noop\n    }\n};\n","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar createKeccakHash = require('keccak');\nvar BN = require('bn.js');\n\nmodule.exports = function (a) {\n  a = toBuffer(a);\n\n  return createKeccakHash('keccak256').update(a).digest();\n};\n\nfunction toBuffer(v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v);\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex');\n      } else {\n        v = Buffer.from(v);\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v);\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0);\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer);\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray());\n    } else {\n      throw new Error('invalid type');\n    }\n  }\n  return v;\n}\n\nfunction isHexString(value, length) {\n  if (typeof value !== 'string' || !value.match(/^0x[0-9A-Fa-f]*$/)) {\n    return false;\n  }\n\n  if (length && value.length !== 2 + 2 * length) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction padToEven(value) {\n  var a = value; // eslint-disable-line\n\n  if (typeof a !== 'string') {\n    throw new Error('while padding to even, value must be string, is currently ' + (typeof a === 'undefined' ? 'undefined' : _typeof(a)) + ', while padToEven.');\n  }\n\n  if (a.length % 2) {\n    a = '0' + a;\n  }\n\n  return a;\n}\n\nfunction stripHexPrefix(str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return isHexPrefixed(str) ? str.slice(2) : str;\n}\n\nfunction isHexPrefixed(str) {\n  if (typeof str !== 'string') {\n    throw new Error(\"value must be type 'string', is currently type \" + (typeof str === 'undefined' ? 'undefined' : _typeof(str)) + ', while checking isHexPrefixed.');\n  }\n\n  return str.slice(0, 2) === '0x';\n}\n\nfunction intToBuffer(i) {\n  var hex = intToHex(i);\n\n  return Buffer.from(padToEven(hex.slice(2)), 'hex');\n}\n\nfunction intToHex(i) {\n  var hex = i.toString(16); // eslint-disable-line\n\n  return '0x' + hex;\n}","var defineProperty = require(\"./defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2;"],"sourceRoot":""}