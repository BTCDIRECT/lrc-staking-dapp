{"version":3,"sources":["../node_modules/authereum/dist/index.js","../node_modules/penpal/lib/index.js","../node_modules/penpal/lib/connectToChild.js","../node_modules/penpal/lib/getOriginFromSrc.js","../node_modules/penpal/lib/generateId.js","../node_modules/penpal/lib/connectToParent.js","../node_modules/authereum/node_modules/moment/moment.js","../node_modules/is-buffer/index.js","../node_modules/async/waterfall.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/async/internal/once.js","../node_modules/async/internal/onlyOnce.js","../node_modules/async/asyncify.js","../node_modules/async/internal/initialParams.js","../node_modules/async/internal/setImmediate.js","../node_modules/async/internal/awaitify.js","../node_modules/web3-provider-engine/subproviders/hooked-wallet.js","../node_modules/web3-provider-engine/node_modules/async/waterfall.js","../node_modules/web3-provider-engine/node_modules/async/parallel.js","../node_modules/web3-provider-engine/node_modules/async/internal/parallel.js","../node_modules/eth-sig-util/index.js","../node_modules/ethereumjs-abi/index.js","../node_modules/ethereumjs-abi/lib/index.js","../../src/index.ts","../../src/constants.ts","../../src/account.ts","../node_modules/ethereumjs-abi/node_modules/keccak/js.js","../node_modules/ethereumjs-abi/node_modules/keccak/lib/api/index.js","../node_modules/ethereumjs-abi/node_modules/keccak/lib/api/keccak.js","../node_modules/ethereumjs-abi/node_modules/keccak/lib/api/shake.js","../node_modules/ethereumjs-abi/node_modules/keccak/lib/keccak.js","../node_modules/ethereumjs-abi/node_modules/keccak/lib/keccak-state-unroll.js","../../src/signature.ts","../../src/object.ts","../node_modules/semaphore/lib/semaphore.js","../node_modules/web3-provider-engine/util/estimate-gas.js","../node_modules/web3-provider-engine/subproviders/rpc.js","../node_modules/eth-json-rpc-errors/index.js","../node_modules/fast-safe-stringify/index.js","../node_modules/eth-json-rpc-errors/src/errors.js","../node_modules/web3-provider-engine/subproviders/subscriptions.js","../node_modules/eth-json-rpc-filters/subscriptionManager.js","../node_modules/json-rpc-engine/src/createScaffoldMiddleware.js","../index.ts","../node_modules/eth-json-rpc-filters/log-filter.js","../node_modules/eth-json-rpc-filters/base-filter-history.js","../node_modules/eth-json-rpc-filters/block-filter.js","../node_modules/eth-json-rpc-filters/tx-filter.js","../node_modules/lodash.flatmap/index.js","../node_modules/web3-provider-engine/subproviders/filters.js","../node_modules/ethereum-private-key-to-address/index.js","../node_modules/ethereum-private-key-to-public-key/index.js","../node_modules/ethereum-public-key-to-address/index.js","../node_modules/ethereum-checksum-address/index.js","../node_modules/to-hex/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/normalize-hex/index.js","../node_modules/uuidv4/build/lib/uuidv4.js","../node_modules/authereum/dist/config.js","../node_modules/authereum/dist/AuthereumSigner.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/bytesToUuid.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/v1.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/v35.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/md5.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/v3.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/v4.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/sha1.js","../node_modules/uuidv4/node_modules/uuid/dist/esm-browser/v5.js","../../src/bytes.ts","../node_modules/eth-json-rpc-filters/hexUtils.js","../node_modules/penpal/lib/constants.js","../node_modules/penpal/lib/errorCodes.js","../node_modules/authereum/dist/AuthereumSDK.js","../../src/hash.ts","../node_modules/ethereumjs-abi/node_modules/safe-buffer/index.js","../node_modules/eth-json-rpc-errors/src/classes.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeFunction.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/construct.js","../node_modules/eth-json-rpc-filters/base-filter.js","../node_modules/eth-json-rpc-filters/getBlocksForRange.js","../node_modules/penpal/lib/createDestructor.js","../node_modules/penpal/lib/createLogger.js","../node_modules/penpal/lib/connectCallReceiver.js","../node_modules/penpal/lib/errorSerialization.js","../node_modules/penpal/lib/connectCallSender.js","../node_modules/authereum/dist/version.js","../node_modules/authereum/dist/AuthereumProvider.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/async/internal/wrapAsync.js","../node_modules/eth-json-rpc-errors/src/utils.js","../node_modules/eth-json-rpc-middleware/scaffold.js","../node_modules/eth-json-rpc-filters/index.js","../node_modules/pify/index.js","../node_modules/authereum/dist/utils.js","../node_modules/keccak256/dist/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","AuthereumSDK_1","require","Authereum","default","AuthereumProvider_1","AuthereumProvider","AuthereumSigner_1","AuthereumSigner","version_1","version","_connectToChild","_interopRequireDefault","_connectToParent","_errorCodes","obj","_default","ERR_CONNECTION_DESTROYED","ERR_CONNECTION_TIMEOUT","ERR_NOT_IN_IFRAME","ERR_NO_IFRAME_SRC","connectToChild","connectToParent","module","_constants","_createDestructor2","_getOriginFromSrc","_createLogger","_connectCallReceiver","_connectCallSender","_ref","iframe","_ref$methods","methods","childOrigin","timeout","debug","log","parent","window","_createDestructor","destroy","onDestroy","src","srcdoc","error","Error","code","originForSending","promise","Promise","resolveConnectionPromise","reject","connectionTimeoutId","undefined","setTimeout","receiverMethodNames","destroyCallReceiver","callSender","handleMessage","event","child","contentWindow","source","data","penpal","HANDSHAKE","origin","postMessage","HANDSHAKE_REPLY","methodNames","keys","info","localName","local","remote","originForReceiving","forEach","receiverMethodName","destroyCallSender","clearTimeout","addEventListener","MESSAGE","checkIframeInDocIntervalId","setInterval","document","contains","clearInterval","removeEventListener","DEFAULT_PORTS","URL_REGEX","opaqueOriginSchemes","find","scheme","startsWith","protocol","hostname","port","location","regexResult","exec","portSuffix","id","arguments","length","_ref$parentOrigin","parentOrigin","top","handleMessageEvent","e","hookCallback","some","hooks","apply","isArray","input","Array","prototype","toString","call","isObject","isUndefined","isNumber","isDate","Date","map","arr","fn","i","res","push","hasOwnProp","a","b","hasOwnProperty","extend","valueOf","createUTC","format","locale","strict","createLocalOrUTC","utc","getParsingFlags","m","_pf","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","isValid","_isValid","flags","parsedParts","isNowValid","isNaN","_d","getTime","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","NaN","fun","t","len","momentProperties","copyConfig","to","from","prop","val","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","updateInProgress","Moment","config","updateOffset","isMoment","absFloor","number","Math","ceil","floor","toInt","argumentForCoercion","coercedNumber","isFinite","compareArrays","array1","array2","dontConvert","min","lengthDiff","abs","diffs","warn","msg","suppressDeprecationWarnings","console","deprecate","firstTime","deprecationHandler","arg","args","key","slice","join","stack","deprecations","deprecateSimple","name","isFunction","Function","mergeConfigs","parentConfig","childConfig","Locale","set","aliases","addUnitAlias","unit","shorthand","lowerCase","toLowerCase","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","priorities","addUnitPriority","priority","zeroFill","targetLength","forceSign","absNumber","zerosToFill","pow","max","substr","formattingTokens","localFormattingTokens","formatFunctions","formatTokenFunctions","addFormatToken","token","padded","ordinal","callback","func","localeData","formatMoment","expandFormat","array","match","replace","mom","output","makeFormatFunction","invalidDate","replaceLongDateFormatTokens","longDateFormat","lastIndex","test","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchWord","regexes","addRegexToken","regex","strictRegex","isStrict","getParseRegexForToken","RegExp","regexEscape","matched","p1","p2","p3","p4","s","tokens","addParseToken","addWeekParseToken","_w","addTimeToArrayFromToken","_a","daysInYear","year","isLeapYear","y","parseTwoDigitYear","parseInt","indexOf","getSetYear","makeGetSet","keepTime","set$1","get","month","date","daysInMonth","x","modMonth","o","monthsShort","months","monthsShortRegex","monthsRegex","monthsParse","MONTHS_IN_FORMAT","defaultLocaleMonths","split","defaultLocaleMonthsShort","handleStrictParse","monthName","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","setMonth","dayOfMonth","getSetMonth","defaultMonthsShortRegex","defaultMonthsRegex","computeMonthsParse","cmpLenRev","shortPieces","longPieces","mixedPieces","sort","_monthsRegex","_monthsShortRegex","_monthsStrictRegex","_monthsShortStrictRegex","createDate","d","h","M","ms","getFullYear","setFullYear","createUTCDate","UTC","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","resDayOfYear","dayOfYear","weekOfYear","resWeek","weekOffset","weeksInYear","weekOffsetNext","shiftWeekdays","ws","n","concat","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","weekdaysParse","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","handleStrictParse$1","weekdayName","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","day","defaultWeekdaysRegex","defaultWeekdaysShortRegex","defaultWeekdaysMinRegex","computeWeekdaysParse","minp","shortp","longp","minPieces","_weekdaysRegex","_weekdaysShortRegex","_weekdaysMinRegex","_weekdaysStrictRegex","_weekdaysShortStrictRegex","_weekdaysMinStrictRegex","hFormat","hours","lowercase","minutes","matchMeridiem","_meridiemParse","seconds","kInput","_isPm","isPM","_meridiem","pos","pos1","pos2","globalLocale","getSetHour","baseConfig","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","LTS","LT","L","LL","LLL","LLLL","dayOfMonthOrdinalParse","relativeTime","future","past","ss","mm","hh","dd","MM","yy","meridiemParse","locales","localeFamilies","normalizeLocale","loadLocale","oldLocale","_abbr","aliasedRequire","getSetGlobalLocale","values","getLocale","defineLocale","abbr","_config","parentLocale","names","j","next","chooseLocale","checkOverflow","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","defaults","c","configFromArray","currentDate","expectedWeekday","yearToUse","nowValue","now","_useUTC","getUTCMonth","getUTCDate","getMonth","getDate","currentDateArray","w","weekYear","temp","weekdayOverflow","GG","W","E","createLocal","_week","curWeek","gg","_dayOfYear","dayOfYearFromWeekInfo","_nextDay","getDay","setUTCMinutes","getUTCMinutes","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","configFromISO","l","allowTime","dateFormat","timeFormat","tzFormat","string","configFromStringAndFormat","untruncateYear","yearStr","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromRFC2822","parsedArray","monthStr","dayStr","hourStr","minuteStr","secondStr","result","extractFromRFC2822Strings","weekdayStr","parsedInput","checkWeekday","obsOffset","militaryOffset","numOffset","hm","calculateOffset","ISO_8601","RFC_2822","skipped","stringLength","totalParsedInputLength","hour","isPm","meridiemHour","meridiemFixWrap","prepareConfig","preparse","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromStringAndArray","createFromInputFallback","configFromString","minute","second","millisecond","configFromObject","configFromInput","isUTC","getOwnPropertyNames","k","isObjectEmpty","add","createFromConfig","prototypeMin","other","prototypeMax","pickBy","moments","ordering","Duration","duration","years","quarters","quarter","weeks","isoWeek","days","milliseconds","unitHasDecimal","parseFloat","isDurationValid","_milliseconds","_days","_months","_data","_bubble","isDuration","absRound","round","offset","separator","utcOffset","sign","offsetFromString","chunkOffset","matcher","matches","parts","cloneWithOffset","model","diff","clone","setTime","getDateOffset","getTimezoneOffset","isUtc","aspNetRegex","isoRegex","createDuration","ret","diffRes","parseIso","base","isBefore","positiveMomentsDifference","momentsDifference","inp","isAfter","createAdder","direction","period","tmp","addSubtract","isAdding","invalid","subtract","monthDiff","wholeMonthDiff","anchor","newLocaleData","defaultFormat","defaultFormatUtc","lang","mod$1","dividend","divisor","localStartOfDate","utcStartOfDate","addWeekYearFormatToken","getter","getSetWeekYearHelper","weeksTarget","setWeekAll","dayOfYearData","isoWeekYear","_dayOfMonthOrdinalParse","_ordinalParse","_dayOfMonthOrdinalParseLenient","getSetDayOfMonth","getSetMinute","getSetSecond","parseMs","getSetMillisecond","proto","preParsePostFormat","time","formats","sod","startOf","calendarFormat","asFloat","that","zoneDelta","endOf","startOfDate","isoWeekday","inputString","postformat","withoutSuffix","humanize","fromNow","toNow","invalidAt","localInput","isBetween","inclusivity","localFrom","localTo","isSame","inputMs","isSameOrAfter","isSameOrBefore","parsingFlags","prioritized","unitsObj","u","getPrioritizedUnits","toArray","toObject","toDate","toISOString","keepOffset","inspect","zone","isLocal","prefix","suffix","toJSON","unix","creationData","isoWeeks","weekInfo","isoWeeksInYear","parseWeekday","parseIsoWeekday","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","parseZone","tZone","hasAlignedHourOffset","isDST","isUtcOffset","zoneAbbr","zoneName","dates","isDSTShifted","_isDSTShifted","proto$1","get$1","index","field","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","shift","_calendar","_longDateFormat","formatUpper","toUpperCase","_invalidDate","_ordinal","isFuture","_relativeTime","pastFuture","isFormat","_monthsShort","_monthsParseExact","firstDayOfYear","firstDayOfWeek","_weekdays","_weekdaysMin","_weekdaysShort","_weekdaysParseExact","_fullWeekdaysParse","charAt","isLower","langData","mathAbs","addSubtract$1","absCeil","daysToMonths","monthsToDays","makeAs","alias","as","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asQuarters","asYears","makeGetter","thresholds","substituteTimeAgo","abs$1","toISOString$1","Y","D","toFixed","total","totalSign","ymSign","daysSign","hmsSign","proto$2","monthsFromDays","withSuffix","posNegDuration","relativeTime$1","toIsoString","updateLocale","tmpLocale","relativeTimeRounding","roundingFunction","relativeTimeThreshold","threshold","limit","myMoment","HTML5_FMT","DATETIME_LOCAL","DATETIME_LOCAL_SECONDS","DATETIME_LOCAL_MS","DATE","TIME","TIME_SECONDS","TIME_MS","WEEK","MONTH","factory","constructor","isBuffer","_once2","_onlyOnce2","_wrapAsync2","_awaitify2","tasks","taskIndex","nextTask","err","arrayLikeToArray","iter","Symbol","iterator","TypeError","wrapper","callFn","assign","_wrapAsync","isAsync","pop","handlePromise","_initialParams2","then","_setImmediate2","invokeCallback","message","fallback","wrap","_defer","hasSetImmediate","setImmediate","hasNextTick","process","nextTick","defer","asyncFn","arity","awaitable","resolve","cbArgs","waterfall","parallel","inherits","ethUtil","sigUtil","Semaphore","Subprovider","estimateGas","hexRegex","HookedWalletSubprovider","opts","nonceLock","getAccounts","processTransaction","processMessage","processPersonalMessage","processTypedMessage","approveTransaction","autoApprove","approveMessage","approvePersonalMessage","approveDecryptMessage","approveEncryptionPublicKey","approveTypedMessage","signTransaction","mustProvideInConstructor","signMessage","signPersonalMessage","decryptMessage","encryptionPublicKey","signTypedMessage","recoverPersonalSignature","publishTransaction","getGasPrice","resemblesAddress","fixed","addHexPrefix","isValidAddress","resemblesData","isValidHex","methodName","params","cb","handleRequest","payload","end","txParams","msgParams","extraParams","address","self","_parityRequests","_parityRequestCount","method","accounts","validateTransaction","processSignTransaction","validateMessage","first","warning","validatePersonalMessage","validateDecryptMessage","processDecryptMessage","validateEncryptionPublicKey","processEncryptionPublicKey","signature","sig","validateTypedMessage","parityPostTransaction","parityPostSign","requestId","parityCheckRequest","account","didApprove","checkApproval","finalizeAndSubmitTx","finalizeTx","type","count","reqId","emitPayload","txHash","senderHex","validateSender","senderIsValid","senderAddress","take","fillInTxExtras","bind","leave","signedTx","raw","tx","rawTx","engine","gasPrice","nonce","gas","cloneTxParams","taskResults","_noop2","_isArray2","task","_slice2","_parallel2","_eachOf2","eachfn","results","_isArrayLike2","ethAbi","typedSignatureHash","typedData","toBuffer","types","schema","soliditySHA3","fill","recoverPublicKey","hash","sigParams","fromRpcSig","ecrecover","v","r","getPublicKeyFor","hashPersonalMessage","padWithZeroes","myString","concatSig","rSig","fromSigned","sSig","vSig","bufferToInt","rStr","toUnsigned","sStr","vStr","stripHexPrefix","intToHex","normalize","buffer","bufferToHex","personalSign","privateKey","msgHash","ecsign","publicKey","sender","publicToAddress","extractPublicKey","hashBuffer","signTypedData","recoverTypedSignature","utils","BN","ABI","elementaryName","parseTypeN","parseTypeNxM","parseTypeArray","parseNumber","isHexPrefixed","parseSignature","retargs","encodeSingle","size","num","Buffer","lastIndexOf","JSON","parse","unshift","zeros","setLengthRight","bitLength","toArrayLike","toTwos","mul","decodeSingle","parsedType","parseType","rawType","bytes","toNumber","decoded","subArray","memoryUsage","fromTwos","isZero","div","isDynamic","stringify","eventID","keccak256","methodID","rawEncode","headLength","cur","rawDecode","parsed","simpleEncode","simpleDecode","item","solidityHexValue","bitsize","subType","arraySize","arrayValues","padding","bytesize","setLengthLeft","solidityPack","soliditySHA256","sha256","solidityRIPEMD160","ripemd160","fromSerpent","toSerpent","__export","addr","createKeccak","createShake","KeccakState","Keccak","Shake","algorithm","options","Transform","rate","capacity","delimitedSuffix","hashBitLength","_rate","_capacity","_delimitedSuffix","_hashBitLength","_options","_state","initialize","_finalized","_transform","chunk","encoding","update","_flush","digest","absorb","absorbLastFewBits","squeeze","_resetState","_clone","copy","_read","dataByteLength","keccakState","state","blockSize","squeezing","p1600","bits","alloc","dest","P1600_ROUND_CONSTANTS","lo0","hi0","lo1","hi1","lo2","hi2","lo3","hi3","lo4","hi4","lo","hi","t1slo0","t1shi0","t1slo5","t1shi5","t1slo10","t1shi10","t1slo15","t1shi15","t1slo20","t1shi20","t1slo1","t1shi1","t1slo6","t1shi6","t1slo11","t1shi11","t1slo16","t1shi16","t1slo21","t1shi21","t1slo2","t1shi2","t1slo7","t1shi7","t1slo12","t1shi12","t1slo17","t1shi17","t1slo22","t1shi22","t1slo3","t1shi3","t1slo8","t1shi8","t1slo13","t1shi13","t1slo18","t1shi18","t1slo23","t1shi23","t1slo4","t1shi4","t1slo9","t1shi9","t1slo14","t1shi14","t1slo19","t1shi19","t1slo24","t1shi24","t2slo0","t2shi0","t2slo16","t2shi16","t2slo7","t2shi7","t2slo23","t2shi23","t2slo14","t2shi14","t2slo10","t2shi10","t2slo1","t2shi1","t2slo17","t2shi17","t2slo8","t2shi8","t2slo24","t2shi24","t2slo20","t2shi20","t2slo11","t2shi11","t2slo2","t2shi2","t2slo18","t2shi18","t2slo9","t2shi9","t2slo5","t2shi5","t2slo21","t2shi21","t2slo12","t2shi12","t2slo3","t2shi3","t2slo19","t2shi19","t2slo15","t2shi15","t2slo6","t2shi6","t2slo22","t2shi22","t2slo13","t2shi13","t2slo4","t2shi4","obj_1","global","semaphore","current","queue","firstHere","isFirst","available","createPayload","provider","sendAsync","xhr","browser","ethErrors","serializeError","RpcSource","rpcUrl","targetUrl","newPayload","uri","headers","body","rejectUnauthorized","statusCode","rpc","methodNotFound","EthereumRpcError","EthereumProviderError","getMessageFromCode","ERROR_CODES","stable","deterministicStringify","stableStringify","replacerStack","replacer","spacer","decirc","propertyDescriptor","getOwnPropertyDescriptor","configurable","replaceGetterValues","part","compareFunction","deterministicDecirc","splice","getEthJsonRpcError","validateOpts","getEthProviderError","invalidRequest","invalidParams","internal","server","Number","isInteger","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","userRejectedRequest","unauthorized","unsupportedMethod","custom","ProviderSubprovider","createSubscriptionManager","SubscriptionsSubprovider","blockTracker","events","middleware","on","emit","SafeEventEmitter","createScaffoldMiddleware","createAsyncMiddleware","createFilterMiddleware","unsafeRandomBytes","incrementHexInt","getBlocksForRange","normalizeBlock","block","parentHash","sha3Uncles","miner","stateRoot","transactionsRoot","receiptsRoot","logsBloom","difficulty","gasLimit","gasUsed","mixHash","timestamp","extraData","subscriptions","filterManager","isDestroyed","eth_subscribe","eth_unsubscribe","removeAllListeners","req","createSubNewHeads","createSubFromFilter","subId","filter","_emitSubscriptionResult","subscriptionType","uninstallFilter","idHex","sub","removeListener","oldBlock","newBlock","toBlock","fromBlock","rawBlocks","filterParams","newLogFilter","subscription","filterIdHex","jsonrpc","handlers","handler","release","EthQuery","pify","BaseFilterWithHistory","hexToInt","bnToHex","minBlockRef","blockRefIsNumber","LogFilter","ethQuery","topics","currentBlock","includes","_fetchLogs","newLogs","addInitialResults","matchingLogs","matchLog","addResults","getLogs","blockNumber","normalizedLogAddress","every","topicPattern","logTopic","subtopicsToMatch","topic","allResults","newResults","BaseFilter","BlockFilter","blockBodies","blockHashes","flatMap","TxFilter","blocks","blockTxHashes","transactions","argsTag","mapTag","objectTag","setTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","freeSelf","root","freeExports","nodeType","freeModule","freeProcess","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arrayMap","iteratee","arrayPush","arraySome","predicate","isHostObject","mapToArray","setToArray","transform","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","IE_PROTO","funcToString","objectToString","reIsNative","Uint8Array","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","nativeKeys","DataView","getNative","Map","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","symbolToString","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArguments","baseTimes","String","skipIndexes","isIndex","assocIndexOf","eq","has","getMapData","cache","pairs","LARGE_ARRAY_SIZE","eachFunc","fromRight","baseEach","object","baseFor","collection","isArrayLike","iterable","keysFunc","props","createBaseFor","baseGet","path","isKey","castPath","toKey","baseHasIn","baseIsEqual","customizer","bitmask","isObjectLike","equalFunc","objIsArr","othIsArr","objTag","othTag","getTag","objIsObj","othIsObj","isSameTag","equalArrays","tag","byteLength","byteOffset","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isMasked","baseIteratee","identity","srcValue","isStrictComparable","matchesStrictComparable","defaultValue","hasFunc","isLength","hasPath","hasIn","UNORDERED_COMPARE_FLAG","baseMatchesProperty","matchData","getMatchData","noCustomizer","baseIsMatch","baseMatches","basePropertyDeep","property","baseKeys","Ctor","isPrototype","baseMap","stringToPath","arrLength","seen","arrValue","othIndex","isKeyable","getValue","isFlattenable","isSymbol","ArrayBuffer","ctorString","memoize","baseToString","quote","resolver","memoized","Cache","isArrayLikeObject","baseUnary","baseFlatten","depth","privateKeyToPublicKey","publicKeyToAddress","publicKeyCreate","publicKeyConvert","toChecksumAddress","chainId","stripAddress","keccakHash","checksumAddress","checkAddressChecksum","normalizeHex","addPrefix","evenLength","trim","repeat","enumerable","writable","hex","uuid_1","uuid","v4","v5","isUuid","fromString","text","defaultConfig","xsUri","network","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","__importStar","ethers","authereum","getProvider","getAccountAddress","transaction","sendTransaction","sendTransactionBatch","estimateGasBatch","Signer","getRandomValues","crypto","msCrypto","rnds8","rng","byteToHex","bytesToUuid","_nodeId","_clockseq","buf","bth","_lastMSecs","_lastNSecs","v1","node","clockseq","seedBytes","random","msecs","nsecs","dt","tl","tmh","hashfunc","generateUUID","namespace","off","str","unescape","encodeURIComponent","charCodeAt","stringToBytes","uuidToBytes","idx","DNS","URL","safeAdd","lsw","md5cmn","q","cnt","md5ff","md5gg","md5hh","md5ii","md5","v3","v35","length32","md5ToHexEncodedArray","olda","oldb","oldc","oldd","wordsToMd5","length8","bytesToWords","rnds","f","z","ROTL","sha1","K","H","N","T","sortBlockRefs","refs","refA","refB","hexString","int","unsafeRandomNibble","sortedRefs","maxBlockRef","bn","blockRef","byteCount","DATA_CLONE_ERROR","REJECTED","FULFILLED","REPLY","CALL","penpal_1","eventemitter3_1","moment_1","is_buffer_1","config_1","utils_1","serializeMessageObj","defaultIframeStyle","width","height","left","defaultNotifier","notify","dismiss","notifier","iframeReady","_configReady","iframeConnecting","cacheReady","readyEmitted","_widgetEnabled","iframeStyle","blockedPopupRedirect","notificationsMap","_heartbeatStarted","_backoffTimeout","_userConfig","_asymmetricEncryptionKey","_authereumQueryParams","_injectedElements","_destroyed","_init","networkName","_apiKey","apiKey","redirectUri","href","_setupNotifier","_connectToChildIframe","catch","_startHeartbeat","_setupCache","_cacheAuthereumQueryParams","_setupSigningKey","_setupResizeListener","_emitReadyEvent","_handleWindowFocus","_setConfig","apiUri","rpcUri","webUri","notifierUri","networkId","disableNotifications","all","_cacheLoginKeyAddress","_cacheIsAuthenticated","_cacheAccountAddress","_postMessageToChild","_resetCache","_tilConfigReady","_injectScript","AuthereumNotifier","context","sourceUrl","_tilDomReady","getElementById","script","createElement","async","onload","onerror","getElementsByTagName","appendChild","debounce","_getWindowSize","loginKey","cachedLoginKeyAddress","publicAddress","accountAddress","cachedAccountAddress","isAuthenticated","cachedIsAuthenticated","login","throttle","_tilReady","_signLoginKeyRequest","getAuthenticatedAccount","notification","authenticate","_handleError","logout","getDappKey","getLoginKey","signWithDappKey","signWithLoginKey","signTypedMessageWithDappKey","signMessageWithAdminKey","signMessageWithSigningKey","getLoginKeyAuthSignature","getLoginKeyRestrictionsData","getBalance","getRpcUri","getNetworkId","getNetworkName","signTransactionWithLoginKey","userTransaction","userTransactions","isReady","updateConfig","getConfig","showWidget","enabled","_refreshWidget","hideWidget","setIframeWidth","setIframeHeight","widgetEnabled","_tilIframeReady","wait","_getOrCreateIframe","iframeConnection","_handlePostMessage","timedout","timer","childIframeConnection","reconnect","_heartbeat","_ping","pong","_getConfigFromChild","_postVersionToChild","_postApiKeyToChild","_loadAsymmetricEncryptionKeyFromChild","_handleChildLogoutEvent","_handleChildDappKeyExpired","loginKeyAddress","_handlePostMessageNotification","_handlePostMessageUpdateNotificationId","_handlePostMessageUpdateNotification","_handlePostMessageDismissNotification","_handlePostMessageLog","newId","_getWindowWidth","_getWindowHeight","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","setIframePositionLeft","style","_loginKeyExists","_accountAddressExists","_getAccountAdminKeyNonce","_getAccountAuthKeyNonce","_executeLoginKeyMetaTx","_loadLoginKey","_getOrCreateLoginKey","_getAuthenticateUri","encryptionKey","expiresAt","_getSignWithAdminKeyUri","_openPopupOrRedirect","url","open","isBlocked","focus","interval","closed","cleanUp","close","doneWithError","success","encryptedSigningKey","_loadSigningKey","_logAnalyticsEvent","eventType","properties","dapp_url","readyState","isAuthenticatedSync","getTransactionReceipt","waitForTransactionReceipt","hasRecoveryEnabled","isContractDeployed","signingKey","param","getQueryParamValue","newUrl","removeQueryParam","replaceWindowUrl","element","remove","elements","querySelectorAll","getAddressQrCodeDataUri","uuidv4","setAttribute","position","bottom","right","border","background","zIndex","copyProps","dst","SafeBuffer","encodingOrOffset","allocUnsafe","allocUnsafeSlow","create","SlowBuffer","safeStringify","serialized","serialize","stringifyReplacer","isValidEthProviderCode","_","getPrototypeOf","setPrototypeOf","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Wrapper","isNativeReflectConstruct","_construct","Parent","Reflect","instance","updates","fromBlockNumber","toBlockNumber","missingBlockNumbers","blockNum","query","callbacks","destroyed","_len","_key","_errorSerialization","_event$data","createPromiseHandler","resolution","returnValue","returnValueIsError","deserializeError","deserializedError","_generateId","destroyConnection","reduce","api","iframeRemoved","createMethodProxy","waterfall_1","ethereumjs_util_1","xtend_1","web3_provider_engine_1","hooked_wallet_1","rpc_1","subscriptions_1","filters_1","pify_1","web3Utils","isAuthereum","lastSignTx","lastSignTxTimeout","lastTx","lastTxTimeout","lastMsg","lastMsgTimeout","lastTypedMsg","lastTypedMsgTimeout","concatAuthKeySig","authKeySig","authereumClient","initSubprovider","walletSubprovider","currentMsg","_throttledSignMessage","_signMessage","currentTx","_throttledSignTransaction","_signTransaction","_throttledProcessTransaction","_processTransaction","currentTypedMsg","_throttledSignTypedMessage","_signTypedMessage","signedTransaction","transactionHash","sha3","loginKeyRestrictionsData","combinedSig","signedTransactionData","_sendAsync","response","send","addProvider","rpcSubProvider","setEngine","start","_blockTracker","txs","nonPrefixed","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","isAsyncIterable","isAsyncGenerator","_asyncify","_asyncify2","toStringTag","asyncIterator","errorValues","FALLBACK_ERROR_CODE","FALLBACK_MESSAGE","FALLBACK_ERROR","fallbackMessage","codeString","isJsonRpcServerError","isValidCode","assignOriginalError","fallbackError","originalError","JSON_RPC_SERVER_ERROR_MESSAGE","Mutex","createJsonRpcMiddleware","toFilterCreationMiddleware","createFilterFn","toAsyncRpcMiddleware","objValues","filterIndex","filters","mutex","waitForFree","acquire","releaseLock","mutexMiddlewareWrapper","eth_newFilter","eth_newBlockFilter","newBlockFilter","eth_newPendingTransactionFilter","newPendingTransactionFilter","eth_uninstallFilter","uninstallFilterHandler","eth_getFilterChanges","getFilterChanges","eth_getFilterLogs","getFilterLogs","filterUpdater","uninstallAllFilters","installFilter","filterIndexHex","getChangesAndClear","getAllResults","Boolean","prevFilterCount","getLatestBlock","newFilterCount","updateBlockTrackerSubs","processFn","promiseModule","multiArgs","errorFirst","exclude","objType","pattern","include","excludeMain","ethereum_private_key_to_address_1","to_hex_1","uuidv4_1","querystring_1","privateKeyToAddress","toHex","signWithPrivateKey","providerUri","providers","JsonRpcProvider","wallet","Wallet","arrayify","currentTick","activeCount","throttled","delete","search","searchParams","URLSearchParams","history","replaceState","title","_typeof","createKeccakHash","padToEven","isHexString","intToBuffer","isBN","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","target","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/4.d6e163d0.chunk.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst AuthereumSDK_1 = __importDefault(require(\"./AuthereumSDK\"));\nexports.Authereum = AuthereumSDK_1.default;\nconst AuthereumProvider_1 = __importDefault(require(\"./AuthereumProvider\"));\nexports.AuthereumProvider = AuthereumProvider_1.default;\nconst AuthereumSigner_1 = __importDefault(require(\"./AuthereumSigner\"));\nexports.AuthereumSigner = AuthereumSigner_1.default;\nconst version_1 = __importDefault(require(\"./version\"));\nexports.version = version_1.default;\nexports.default = AuthereumSDK_1.default;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _connectToChild = _interopRequireDefault(require(\"./connectToChild\"));\n\nvar _connectToParent = _interopRequireDefault(require(\"./connectToParent\"));\n\nvar _errorCodes = require(\"./errorCodes\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  ERR_CONNECTION_DESTROYED: _errorCodes.ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: _errorCodes.ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: _errorCodes.ERR_NOT_IN_IFRAME,\n  ERR_NO_IFRAME_SRC: _errorCodes.ERR_NO_IFRAME_SRC,\n  connectToChild: _connectToChild.default,\n  connectToParent: _connectToParent.default\n};\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _errorCodes = require(\"./errorCodes\");\n\nvar _createDestructor2 = _interopRequireDefault(require(\"./createDestructor\"));\n\nvar _getOriginFromSrc = _interopRequireDefault(require(\"./getOriginFromSrc\"));\n\nvar _createLogger = _interopRequireDefault(require(\"./createLogger\"));\n\nvar _connectCallReceiver = _interopRequireDefault(require(\"./connectCallReceiver\"));\n\nvar _connectCallSender = _interopRequireDefault(require(\"./connectCallSender\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CHECK_IFRAME_IN_DOC_INTERVAL = 60000;\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {Function} destroy A method that, when called, will disconnect any\n * messaging channels. You may call this even before a connection has been established.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {HTMLIframeElement} options.iframe The iframe to connect to.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {String} [options.childOrigin] The child origin to use to secure communication. If\n * not provided, the child origin will be derived from the iframe's src or srcdoc value.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\nvar _default = (_ref) => {\n  let iframe = _ref.iframe,\n      _ref$methods = _ref.methods,\n      methods = _ref$methods === void 0 ? {} : _ref$methods,\n      childOrigin = _ref.childOrigin,\n      timeout = _ref.timeout,\n      debug = _ref.debug;\n  const log = (0, _createLogger.default)(debug);\n  const parent = window;\n\n  const _createDestructor = (0, _createDestructor2.default)(),\n        destroy = _createDestructor.destroy,\n        onDestroy = _createDestructor.onDestroy;\n\n  if (!childOrigin) {\n    if (!iframe.src && !iframe.srcdoc) {\n      const error = new Error('Iframe must have src or srcdoc property defined.');\n      error.code = _errorCodes.ERR_NO_IFRAME_SRC;\n      throw error;\n    }\n\n    childOrigin = (0, _getOriginFromSrc.default)(iframe.src);\n  } // If event.origin is \"null\", the remote protocol is\n  // file:, data:, and we must post messages with \"*\" as targetOrigin\n  // when sending and allow\n  // [1] https://developer.mozilla.org/fr/docs/Web/API/Window/postMessage#Utiliser_window.postMessage_dans_les_extensions\n\n\n  const originForSending = childOrigin === 'null' ? '*' : childOrigin;\n  const promise = new Promise((resolveConnectionPromise, reject) => {\n    let connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(() => {\n        const error = new Error(`Connection to child timed out after ${timeout}ms`);\n        error.code = _errorCodes.ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    const callSender = {};\n    let receiverMethodNames;\n    let destroyCallReceiver;\n\n    const handleMessage = event => {\n      const child = iframe.contentWindow;\n\n      if (event.source !== child || event.data.penpal !== _constants.HANDSHAKE) {\n        return;\n      }\n\n      if (event.origin !== childOrigin) {\n        log(`Parent received handshake from origin ${event.origin} which did not match expected origin ${childOrigin}`);\n        return;\n      }\n\n      log('Parent: Received handshake, sending reply');\n      event.source.postMessage({\n        penpal: _constants.HANDSHAKE_REPLY,\n        methodNames: Object.keys(methods)\n      }, originForSending);\n      const info = {\n        localName: 'Parent',\n        local: parent,\n        remote: child,\n        originForSending: originForSending,\n        originForReceiving: childOrigin\n      }; // If the child reconnected, we need to destroy the previous call receiver before setting\n      // up a new one.\n\n      if (destroyCallReceiver) {\n        destroyCallReceiver();\n      }\n\n      destroyCallReceiver = (0, _connectCallReceiver.default)(info, methods, log);\n      onDestroy(destroyCallReceiver); // If the child reconnected, we need to remove the methods from the previous call receiver\n      // off the sender.\n\n      if (receiverMethodNames) {\n        receiverMethodNames.forEach(receiverMethodName => {\n          delete callSender[receiverMethodName];\n        });\n      }\n\n      receiverMethodNames = event.data.methodNames;\n      const destroyCallSender = (0, _connectCallSender.default)(callSender, info, receiverMethodNames, destroy, log);\n      onDestroy(destroyCallSender);\n      clearTimeout(connectionTimeoutId);\n      resolveConnectionPromise(callSender);\n    };\n\n    parent.addEventListener(_constants.MESSAGE, handleMessage);\n    log('Parent: Awaiting handshake'); // This is to prevent memory leaks when the iframe is removed\n    // from the document and the consumer hasn't called destroy().\n    // Without this, event listeners attached to the window would\n    // stick around and since the event handlers have a reference\n    // to the iframe in their closures, the iframe would stick around\n    // too.\n\n    var checkIframeInDocIntervalId = setInterval(() => {\n      if (!document.contains(iframe)) {\n        clearInterval(checkIframeInDocIntervalId);\n        destroy();\n      }\n    }, CHECK_IFRAME_IN_DOC_INTERVAL);\n    onDestroy(() => {\n      parent.removeEventListener(_constants.MESSAGE, handleMessage);\n      clearInterval(checkIframeInDocIntervalId);\n      const error = new Error('Connection destroyed');\n      error.code = _errorCodes.ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n  });\n  return {\n    promise,\n    destroy\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nconst URL_REGEX = /^(https?:)?\\/\\/([^/:]+)?(:(\\d+))?/;\nconst opaqueOriginSchemes = ['file:', 'data:'];\n/**\n * Converts a src value into an origin.\n * @param {string} src\n * @return {string} The URL's origin\n */\n\nvar _default = src => {\n  if (src && opaqueOriginSchemes.find(scheme => src.startsWith(scheme))) {\n    // The origin of the child document is an opaque origin and its\n    // serialization is \"null\"\n    // https://html.spec.whatwg.org/multipage/origin.html#origin\n    return 'null';\n  } // Note that if src is undefined, then srcdoc is being used instead of src\n  // and we can follow this same logic below to get the origin of the parent,\n  // which is the origin that we will need to use.\n\n\n  const location = document.location;\n  const regexResult = URL_REGEX.exec(src);\n  let protocol;\n  let hostname;\n  let port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  const portSuffix = port && port !== DEFAULT_PORTS[protocol] ? `:${port}` : '';\n  return `${protocol}//${hostname}${portSuffix}`;\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nlet id = 0;\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar _default = () => ++id;\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _errorCodes = require(\"./errorCodes\");\n\nvar _createDestructor2 = _interopRequireDefault(require(\"./createDestructor\"));\n\nvar _connectCallReceiver = _interopRequireDefault(require(\"./connectCallReceiver\"));\n\nvar _connectCallSender = _interopRequireDefault(require(\"./connectCallSender\"));\n\nvar _createLogger = _interopRequireDefault(require(\"./createLogger\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {Function} destroy A method that, when called, will disconnect any\n * messaging channels. You may call this even before a connection has been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\nvar _default = function _default() {\n  let _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$parentOrigin = _ref.parentOrigin,\n      parentOrigin = _ref$parentOrigin === void 0 ? '*' : _ref$parentOrigin,\n      _ref$methods = _ref.methods,\n      methods = _ref$methods === void 0 ? {} : _ref$methods,\n      timeout = _ref.timeout,\n      debug = _ref.debug;\n\n  const log = (0, _createLogger.default)(debug);\n\n  if (window === window.top) {\n    const error = new Error('connectToParent() must be called within an iframe');\n    error.code = _errorCodes.ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  const _createDestructor = (0, _createDestructor2.default)(),\n        destroy = _createDestructor.destroy,\n        onDestroy = _createDestructor.onDestroy;\n\n  const child = window;\n  const parent = child.parent;\n  const promise = new Promise((resolveConnectionPromise, reject) => {\n    let connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(() => {\n        const error = new Error(`Connection to parent timed out after ${timeout}ms`);\n        error.code = _errorCodes.ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    const handleMessageEvent = event => {\n      // Under niche scenarios, we get into this function after\n      // the iframe has been removed from the DOM. In Edge, this\n      // results in \"Object expected\" errors being thrown when we\n      // try to access properties on window (global properties).\n      // For this reason, we try to access a global up front (clearTimeout)\n      // and if it fails we can assume the iframe has been removed\n      // and we ignore the message event.\n      try {\n        clearTimeout();\n      } catch (e) {\n        return;\n      }\n\n      if (event.source !== parent || event.data.penpal !== _constants.HANDSHAKE_REPLY) {\n        return;\n      }\n\n      if (parentOrigin !== '*' && parentOrigin !== event.origin) {\n        log(`Child received handshake reply from origin ${event.origin} which did not match expected origin ${parentOrigin}`);\n        return;\n      }\n\n      log('Child: Received handshake reply');\n      child.removeEventListener(_constants.MESSAGE, handleMessageEvent);\n      const info = {\n        localName: 'Child',\n        local: child,\n        remote: parent,\n        originForSending: event.origin === 'null' ? '*' : event.origin,\n        originForReceiving: event.origin\n      };\n      const callSender = {};\n      const destroyCallReceiver = (0, _connectCallReceiver.default)(info, methods, log);\n      onDestroy(destroyCallReceiver);\n      const destroyCallSender = (0, _connectCallSender.default)(callSender, info, event.data.methodNames, destroy, log);\n      onDestroy(destroyCallSender);\n      clearTimeout(connectionTimeoutId);\n      resolveConnectionPromise(callSender);\n    };\n\n    child.addEventListener(_constants.MESSAGE, handleMessageEvent);\n    onDestroy(() => {\n      child.removeEventListener(_constants.MESSAGE, handleMessageEvent);\n      const error = new Error('Connection destroyed');\n      error.code = _errorCodes.ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: _constants.HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise,\n    destroy\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","//! moment.js\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks () {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback (callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return input != null && Object.prototype.toString.call(input) === '[object Object]';\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return (Object.getOwnPropertyNames(obj).length === 0);\n        } else {\n            var k;\n            for (k in obj) {\n                if (obj.hasOwnProperty(k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n    }\n\n    function isDate(input) {\n        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n    }\n\n    function map(arr, fn) {\n        var res = [], i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty           : false,\n            unusedTokens    : [],\n            unusedInput     : [],\n            overflow        : -2,\n            charsLeftOver   : 0,\n            nullInput       : false,\n            invalidMonth    : null,\n            invalidFormat   : false,\n            userInvalidated : false,\n            iso             : false,\n            parsedDateParts : [],\n            meridiem        : null,\n            rfc2822         : false,\n            weekdayMismatch : false\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this);\n            var len = t.length >>> 0;\n\n            for (var i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m);\n            var parsedParts = some.call(flags.parsedDateParts, function (i) {\n                return i != null;\n            });\n            var isNowValid = !isNaN(m._d.getTime()) &&\n                flags.overflow < 0 &&\n                !flags.empty &&\n                !flags.invalidMonth &&\n                !flags.invalidWeekday &&\n                !flags.weekdayMismatch &&\n                !flags.nullInput &&\n                !flags.invalidFormat &&\n                !flags.userInvalidated &&\n                (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid = isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            }\n            else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid (flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        }\n        else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment (obj) {\n        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n    }\n\n    function absFloor (number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function warn(msg) {\n        if (hooks.suppressDeprecationWarnings === false &&\n                (typeof console !==  'undefined') && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [];\n                var arg;\n                for (var i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (var key in arguments[0]) {\n                            arg += key + ': ' + arguments[0][key] + ', ';\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n    }\n\n    function set (config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (isFunction(prop)) {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' + (/\\d{1,2}/).source);\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig), prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (hasOwnProp(parentConfig, prop) &&\n                    !hasOwnProp(childConfig, prop) &&\n                    isObject(parentConfig[prop])) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i, res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay : '[Today at] LT',\n        nextDay : '[Tomorrow at] LT',\n        nextWeek : 'dddd [at] LT',\n        lastDay : '[Yesterday at] LT',\n        lastWeek : '[Last] dddd [at] LT',\n        sameElse : 'L'\n    };\n\n    function calendar (key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS  : 'h:mm:ss A',\n        LT   : 'h:mm A',\n        L    : 'MM/DD/YYYY',\n        LL   : 'MMMM D, YYYY',\n        LLL  : 'MMMM D, YYYY h:mm A',\n        LLLL : 'dddd, MMMM D, YYYY h:mm A'\n    };\n\n    function longDateFormat (key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n            return val.slice(1);\n        });\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate () {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal (number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future : 'in %s',\n        past   : '%s ago',\n        s  : 'a few seconds',\n        ss : '%d seconds',\n        m  : 'a minute',\n        mm : '%d minutes',\n        h  : 'an hour',\n        hh : '%d hours',\n        d  : 'a day',\n        dd : '%d days',\n        M  : 'a month',\n        MM : '%d months',\n        y  : 'a year',\n        yy : '%d years'\n    };\n\n    function relativeTime (number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return (isFunction(output)) ?\n            output(number, withoutSuffix, string, isFuture) :\n            output.replace(/%d/i, number);\n    }\n\n    function pastFuture (diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias (unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [];\n        for (var u in unitsObj) {\n            units.push({unit: u, priority: priorities[u]});\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken (token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '', i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1         = /\\d/;            //       0 - 9\n    var match2         = /\\d\\d/;          //      00 - 99\n    var match3         = /\\d{3}/;         //     000 - 999\n    var match4         = /\\d{4}/;         //    0000 - 9999\n    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n    var match1to2      = /\\d\\d?/;         //       0 - 99\n    var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\n    var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\n    var match1to3      = /\\d{1,3}/;       //       0 - 999\n    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n    var matchUnsigned  = /\\d+/;           //       0 - inf\n    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n    var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    // includes scottish gaelic two word and hyphenated months\n    var matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n    var regexes = {};\n\n    function addRegexToken (token, regex, strictRegex) {\n        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n            return (isStrict && strictRegex) ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken (token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }));\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken (token, callback) {\n        var i, func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken (token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n    var WEEK = 7;\n    var WEEKDAY = 8;\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? '' + y : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY',   4],       0, 'year');\n    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y',      matchSigned);\n    addRegexToken('YY',     match1to2, match2);\n    addRegexToken('YYYY',   match1to4, match4);\n    addRegexToken('YYYYY',  match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear () {\n        return isLeapYear(this.year());\n    }\n\n    function makeGetSet (unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get (mom, unit) {\n        return mom.isValid() ?\n            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n    }\n\n    function set$1 (mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n            }\n            else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet (units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n\n    function stringSet (units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units);\n            for (var i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M',    match1to2);\n    addRegexToken('MM',   match1to2, match2);\n    addRegexToken('MMM',  function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths (m, format) {\n        if (!m) {\n            return isArray(this._months) ? this._months :\n                this._months['standalone'];\n        }\n        return isArray(this._months) ? this._months[m.month()] :\n            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort (m, format) {\n        if (!m) {\n            return isArray(this._monthsShort) ? this._monthsShort :\n                this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i, ii, mom, llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse (monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth (mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth (value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth () {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    var defaultMonthsShortRegex = matchWord;\n    function monthsShortRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict ?\n                this._monthsShortStrictRegex : this._monthsShortRegex;\n        }\n    }\n\n    var defaultMonthsRegex = matchWord;\n    function monthsRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict ?\n                this._monthsStrictRegex : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    }\n\n    function createDate (y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate (y) {\n        var date;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            var args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear, resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek, resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w',  match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W',  match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek (mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow : 0, // Sunday is the first day of the week.\n        doy : 6  // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek () {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear () {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek (input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek (input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d',    match1to2);\n    addRegexToken('e',    match1to2);\n    addRegexToken('E',    match1to2);\n    addRegexToken('dd',   function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd',   function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd',   function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays (ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays (m, format) {\n        var weekdays = isArray(this._weekdays) ? this._weekdays :\n            this._weekdays[(m && m !== true && this._weekdays.isFormat.test(format)) ? 'format' : 'standalone'];\n        return (m === true) ? shiftWeekdays(weekdays, this._week.dow)\n            : (m) ? weekdays[m.day()] : weekdays;\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse (weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$', 'i');\n            }\n            if (!this._weekdaysParse[i]) {\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    var defaultWeekdaysRegex = matchWord;\n    function weekdaysRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict ?\n                this._weekdaysStrictRegex : this._weekdaysRegex;\n        }\n    }\n\n    var defaultWeekdaysShortRegex = matchWord;\n    function weekdaysShortRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict ?\n                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n        }\n    }\n\n    var defaultWeekdaysMinRegex = matchWord;\n    function weekdaysMinRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict ?\n                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n        }\n    }\n\n\n    function computeWeekdaysParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom, minp, shortp, longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = this.weekdaysMin(mom, '');\n            shortp = this.weekdaysShort(mom, '');\n            longp = this.weekdays(mom, '');\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 7; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    function meridiem (token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem (isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a',  matchMeridiem);\n    addRegexToken('A',  matchMeridiem);\n    addRegexToken('H',  match1to2);\n    addRegexToken('h',  match1to2);\n    addRegexToken('k',  match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM (input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return ((input + '').toLowerCase().charAt(0) === 'p');\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem (hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour they want. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse\n    };\n\n    // internal storage for locale config files\n    var locales = {};\n    var localeFamilies = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && (typeof module !== 'undefined') &&\n                module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                var aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {}\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale (key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            }\n            else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n            else {\n                if ((typeof console !==  'undefined') && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale (name, config) {\n        if (config !== null) {\n            var locale, parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple('defineLocaleOverride',\n                        'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale, tmpLocale, parentConfig = baseConfig;\n            // MERGE\n            tmpLocale = loadLocale(name);\n            if (tmpLocale != null) {\n                parentConfig = tmpLocale._config;\n            }\n            config = mergeConfigs(parentConfig, config);\n            locale = new Locale(config);\n            locale.parentLocale = locales[name];\n            locales[name] = locale;\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow (m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray (config) {\n        var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 &&\n                config._a[MINUTE] === 0 &&\n                config._a[SECOND] === 0 &&\n                config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            var curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n    var basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n    var tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\n    var isoDates = [\n        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n        ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n        ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n        ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n        ['YYYY-DDD', /\\d{4}-\\d{3}/],\n        ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n        ['YYYYYYMMDD', /[+-]\\d{10}/],\n        ['YYYYMMDD', /\\d{8}/],\n        // YYYYMM is NOT allowed by the standard\n        ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n        ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n        ['YYYYDDD', /\\d{7}/]\n    ];\n\n    // iso time formats and regexes\n    var isoTimes = [\n        ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n        ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n        ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n        ['HH:mm', /\\d\\d:\\d\\d/],\n        ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n        ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n        ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n        ['HHmm', /\\d\\d\\d\\d/],\n        ['HH', /\\d\\d/]\n    ];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i, l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime, dateFormat, timeFormat, tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\n    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10)\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var obsOffsets = {\n        UT: 0,\n        GMT: 0,\n        EDT: -4 * 60,\n        EST: -5 * 60,\n        CDT: -5 * 60,\n        CST: -6 * 60,\n        MDT: -6 * 60,\n        MST: -7 * 60,\n        PDT: -7 * 60,\n        PST: -8 * 60\n    };\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10);\n            var m = hm % 100, h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i));\n        if (match) {\n            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        // Final attempt, use Input Fallback\n        hooks.createFromInputFallback(config);\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n        'discouraged and will be removed in an upcoming major release. Please refer to ' +\n        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            // console.log('token', token, 'parsedInput', parsedInput,\n            //         'regex', getParseRegexForToken(token, config));\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                }\n                else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n\n    function meridiemFixWrap (locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n            return obj && parseInt(obj, 10);\n        });\n\n        configFromArray(config);\n    }\n\n    function createFromConfig (config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig (config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        }  else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if ((isObject(input) && isObjectEmpty(input)) ||\n                (isArray(input) && input.length === 0)) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other < this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    var prototypeMax = deprecate(\n        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other > this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +(new Date());\n    };\n\n    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\n    function isDurationValid(m) {\n        for (var key in m) {\n            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n                return false;\n            }\n        }\n\n        var unitHasDecimal = false;\n        for (var i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration (duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration (obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound (number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // FORMATTING\n\n    function offset (token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z',  matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher);\n\n        if (matches === null) {\n            return null;\n        }\n\n        var chunk   = matches[matches.length - 1] || [];\n        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ?\n          0 :\n          parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset (m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset (input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone (input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC (keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal (keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset () {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            }\n            else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset (input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime () {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted () {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {};\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted = this.isValid() &&\n                compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal () {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset () {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc () {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    // and further modified to allow for strings containing both week and day\n    var isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms : input._milliseconds,\n                d  : input._days,\n                M  : input._months\n            };\n        } else if (isNumber(input)) {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y  : 0,\n                d  : toInt(match[DATE])                         * sign,\n                h  : toInt(match[HOUR])                         * sign,\n                m  : toInt(match[MINUTE])                       * sign,\n                s  : toInt(match[SECOND])                       * sign,\n                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n            };\n        } else if (!!(match = isoRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y : parseIso(match[2], sign),\n                M : parseIso(match[3], sign),\n                w : parseIso(match[4], sign),\n                d : parseIso(match[5], sign),\n                h : parseIso(match[6], sign),\n                m : parseIso(match[7], sign),\n                s : parseIso(match[8], sign)\n            };\n        } else if (duration == null) {// checks for null or undefined\n            duration = {};\n        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso (inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return {milliseconds: 0, months: 0};\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract (mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add      = createAdder(1, 'add');\n    var subtract = createAdder(-1, 'subtract');\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6 ? 'sameElse' :\n                diff < -1 ? 'lastWeek' :\n                diff < 0 ? 'lastDay' :\n                diff < 1 ? 'sameDay' :\n                diff < 2 ? 'nextDay' :\n                diff < 7 ? 'nextWeek' : 'sameElse';\n    }\n\n    function calendar$1 (time, formats) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n    }\n\n    function clone () {\n        return new Moment(this);\n    }\n\n    function isAfter (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween (from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (inclusivity[0] === '(' ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')' ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));\n    }\n\n    function isSame (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n        }\n    }\n\n    function isSameOrAfter (input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore (input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff (input, units, asFloat) {\n        var that,\n            zoneDelta,\n            output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year': output = monthDiff(this, that) / 12; break;\n            case 'month': output = monthDiff(this, that); break;\n            case 'quarter': output = monthDiff(this, that) / 3; break;\n            case 'second': output = (this - that) / 1e3; break; // 1000\n            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default: output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff (a, b) {\n        // difference in months\n        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2, adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString () {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true;\n        var m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect () {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment';\n        var zone = '';\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        var prefix = '[' + func + '(\"]';\n        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n        var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        var suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format (inputString) {\n        if (!inputString) {\n            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow (withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow (withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale (key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData () {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000;\n    var MS_PER_MINUTE = 60 * MS_PER_SECOND;\n    var MS_PER_HOUR = 60 * MS_PER_MINUTE;\n    var MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return (dividend % divisor + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3, 1);\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday());\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf () {\n        return this._d.valueOf() - ((this._offset || 0) * 60000);\n    }\n\n    function unix () {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate () {\n        return new Date(this.valueOf());\n    }\n\n    function toArray () {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function toObject () {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds()\n        };\n    }\n\n    function toJSON () {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2 () {\n        return isValid(this);\n    }\n\n    function parsingFlags () {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt () {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict\n        };\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken (token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg',     'weekYear');\n    addWeekYearFormatToken('ggggg',    'weekYear');\n    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n\n    // PARSING\n\n    addRegexToken('G',      matchSigned);\n    addRegexToken('g',      matchSigned);\n    addRegexToken('GG',     match1to2, match2);\n    addRegexToken('gg',     match1to2, match2);\n    addRegexToken('GGGG',   match1to4, match4);\n    addRegexToken('gggg',   match1to4, match4);\n    addRegexToken('GGGGG',  match1to6, match6);\n    addRegexToken('ggggg',  match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input,\n                this.week(),\n                this.weekday(),\n                this.localeData()._week.dow,\n                this.localeData()._week.doy);\n    }\n\n    function getSetISOWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input, this.isoWeek(), this.isoWeekday(), 1, 4);\n    }\n\n    function getISOWeeksInYear () {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear () {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter (input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D',  match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict ?\n          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n          locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD',  match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear (input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m',  match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s',  match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S',    match1to3, match1);\n    addRegexToken('SS',   match1to3, match2);\n    addRegexToken('SSS',  match1to3, match3);\n\n    var token;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z',  0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr () {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName () {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add               = add;\n    proto.calendar          = calendar$1;\n    proto.clone             = clone;\n    proto.diff              = diff;\n    proto.endOf             = endOf;\n    proto.format            = format;\n    proto.from              = from;\n    proto.fromNow           = fromNow;\n    proto.to                = to;\n    proto.toNow             = toNow;\n    proto.get               = stringGet;\n    proto.invalidAt         = invalidAt;\n    proto.isAfter           = isAfter;\n    proto.isBefore          = isBefore;\n    proto.isBetween         = isBetween;\n    proto.isSame            = isSame;\n    proto.isSameOrAfter     = isSameOrAfter;\n    proto.isSameOrBefore    = isSameOrBefore;\n    proto.isValid           = isValid$2;\n    proto.lang              = lang;\n    proto.locale            = locale;\n    proto.localeData        = localeData;\n    proto.max               = prototypeMax;\n    proto.min               = prototypeMin;\n    proto.parsingFlags      = parsingFlags;\n    proto.set               = stringSet;\n    proto.startOf           = startOf;\n    proto.subtract          = subtract;\n    proto.toArray           = toArray;\n    proto.toObject          = toObject;\n    proto.toDate            = toDate;\n    proto.toISOString       = toISOString;\n    proto.inspect           = inspect;\n    proto.toJSON            = toJSON;\n    proto.toString          = toString;\n    proto.unix              = unix;\n    proto.valueOf           = valueOf;\n    proto.creationData      = creationData;\n    proto.year       = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear    = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month       = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week           = proto.weeks        = getSetWeek;\n    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\n    proto.weeksInYear    = getWeeksInYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.date       = getSetDayOfMonth;\n    proto.day        = proto.days             = getSetDayOfWeek;\n    proto.weekday    = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear  = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset            = getSetOffset;\n    proto.utc                  = setOffsetToUTC;\n    proto.local                = setOffsetToLocal;\n    proto.parseZone            = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST                = isDaylightSavingTime;\n    proto.isLocal              = isLocal;\n    proto.isUtcOffset          = isUtcOffset;\n    proto.isUtc                = isUtc;\n    proto.isUTC                = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\n    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\n    function createUnix (input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone () {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat (string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar        = calendar;\n    proto$1.longDateFormat  = longDateFormat;\n    proto$1.invalidDate     = invalidDate;\n    proto$1.ordinal         = ordinal;\n    proto$1.preparse        = preParsePostFormat;\n    proto$1.postformat      = preParsePostFormat;\n    proto$1.relativeTime    = relativeTime;\n    proto$1.pastFuture      = pastFuture;\n    proto$1.set             = set;\n\n    proto$1.months            =        localeMonths;\n    proto$1.monthsShort       =        localeMonthsShort;\n    proto$1.monthsParse       =        localeMonthsParse;\n    proto$1.monthsRegex       = monthsRegex;\n    proto$1.monthsShortRegex  = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays       =        localeWeekdays;\n    proto$1.weekdaysMin    =        localeWeekdaysMin;\n    proto$1.weekdaysShort  =        localeWeekdaysShort;\n    proto$1.weekdaysParse  =        localeWeekdaysParse;\n\n    proto$1.weekdaysRegex       =        weekdaysRegex;\n    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;\n    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1 (format, index, field, setter) {\n        var locale = getLocale();\n        var utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl (format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl (localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0;\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths (format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort (format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\n    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\n    var mathAbs = Math.abs;\n\n    function abs () {\n        var data           = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days         = mathAbs(this._days);\n        this._months       = mathAbs(this._months);\n\n        data.milliseconds  = mathAbs(data.milliseconds);\n        data.seconds       = mathAbs(data.seconds);\n        data.minutes       = mathAbs(data.minutes);\n        data.hours         = mathAbs(data.hours);\n        data.months        = mathAbs(data.months);\n        data.years         = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1 (duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days         += direction * other._days;\n        duration._months       += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1 (input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1 (input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil (number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble () {\n        var milliseconds = this._milliseconds;\n        var days         = this._days;\n        var months       = this._months;\n        var data         = this._data;\n        var seconds, minutes, hours, years, monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0))) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds           = absFloor(milliseconds / 1000);\n        data.seconds      = seconds % 60;\n\n        minutes           = absFloor(seconds / 60);\n        data.minutes      = minutes % 60;\n\n        hours             = absFloor(minutes / 60);\n        data.hours        = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days   = days;\n        data.months = months;\n        data.years  = years;\n\n        return this;\n    }\n\n    function daysToMonths (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return days * 4800 / 146097;\n    }\n\n    function monthsToDays (months) {\n        // the reverse of daysToMonths\n        return months * 146097 / 4800;\n    }\n\n    function as (units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':   return months;\n                case 'quarter': return months / 3;\n                case 'year':    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week'   : return days / 7     + milliseconds / 6048e5;\n                case 'day'    : return days         + milliseconds / 864e5;\n                case 'hour'   : return days * 24    + milliseconds / 36e5;\n                case 'minute' : return days * 1440  + milliseconds / 6e4;\n                case 'second' : return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n                default: throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1 () {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs (alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds      = makeAs('s');\n    var asMinutes      = makeAs('m');\n    var asHours        = makeAs('h');\n    var asDays         = makeAs('d');\n    var asWeeks        = makeAs('w');\n    var asMonths       = makeAs('M');\n    var asQuarters     = makeAs('Q');\n    var asYears        = makeAs('y');\n\n    function clone$1 () {\n        return createDuration(this);\n    }\n\n    function get$2 (units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds');\n    var seconds      = makeGetter('seconds');\n    var minutes      = makeGetter('minutes');\n    var hours        = makeGetter('hours');\n    var days         = makeGetter('days');\n    var months       = makeGetter('months');\n    var years        = makeGetter('years');\n\n    function weeks () {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        ss: 44,         // a few seconds to seconds\n        s : 45,         // seconds to minute\n        m : 45,         // minutes to hour\n        h : 22,         // hours to day\n        d : 26,         // days to month\n        M : 11          // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n        var duration = createDuration(posNegDuration).abs();\n        var seconds  = round(duration.as('s'));\n        var minutes  = round(duration.as('m'));\n        var hours    = round(duration.as('h'));\n        var days     = round(duration.as('d'));\n        var months   = round(duration.as('M'));\n        var years    = round(duration.as('y'));\n\n        var a = seconds <= thresholds.ss && ['s', seconds]  ||\n                seconds < thresholds.s   && ['ss', seconds] ||\n                minutes <= 1             && ['m']           ||\n                minutes < thresholds.m   && ['mm', minutes] ||\n                hours   <= 1             && ['h']           ||\n                hours   < thresholds.h   && ['hh', hours]   ||\n                days    <= 1             && ['d']           ||\n                days    < thresholds.d   && ['dd', days]    ||\n                months  <= 1             && ['M']           ||\n                months  < thresholds.M   && ['MM', months]  ||\n                years   <= 1             && ['y']           || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding (roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof(roundingFunction) === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold (threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize (withSuffix) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var locale = this.localeData();\n        var output = relativeTime$1(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return ((x > 0) - (x < 0)) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000;\n        var days         = abs$1(this._days);\n        var months       = abs$1(this._months);\n        var minutes, hours, years;\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes           = absFloor(seconds / 60);\n        hours             = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years  = absFloor(months / 12);\n        months %= 12;\n\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = years;\n        var M = months;\n        var D = days;\n        var h = hours;\n        var m = minutes;\n        var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        var totalSign = total < 0 ? '-' : '';\n        var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return totalSign + 'P' +\n            (Y ? ymSign + Y + 'Y' : '') +\n            (M ? ymSign + M + 'M' : '') +\n            (D ? daysSign + D + 'D' : '') +\n            ((h || m || s) ? 'T' : '') +\n            (h ? hmsSign + h + 'H' : '') +\n            (m ? hmsSign + m + 'M' : '') +\n            (s ? hmsSign + s + 'S' : '');\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid        = isValid$1;\n    proto$2.abs            = abs;\n    proto$2.add            = add$1;\n    proto$2.subtract       = subtract$1;\n    proto$2.as             = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds      = asSeconds;\n    proto$2.asMinutes      = asMinutes;\n    proto$2.asHours        = asHours;\n    proto$2.asDays         = asDays;\n    proto$2.asWeeks        = asWeeks;\n    proto$2.asMonths       = asMonths;\n    proto$2.asQuarters     = asQuarters;\n    proto$2.asYears        = asYears;\n    proto$2.valueOf        = valueOf$1;\n    proto$2._bubble        = bubble;\n    proto$2.clone          = clone$1;\n    proto$2.get            = get$2;\n    proto$2.milliseconds   = milliseconds;\n    proto$2.seconds        = seconds;\n    proto$2.minutes        = minutes;\n    proto$2.hours          = hours;\n    proto$2.days           = days;\n    proto$2.weeks          = weeks;\n    proto$2.months         = months;\n    proto$2.years          = years;\n    proto$2.humanize       = humanize;\n    proto$2.toISOString    = toISOString$1;\n    proto$2.toString       = toISOString$1;\n    proto$2.toJSON         = toISOString$1;\n    proto$2.locale         = locale;\n    proto$2.localeData     = localeData;\n\n    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\n    proto$2.lang = lang;\n\n    // Side effect imports\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    hooks.version = '2.24.0';\n\n    setHookCallback(createLocal);\n\n    hooks.fn                    = proto;\n    hooks.min                   = min;\n    hooks.max                   = max;\n    hooks.now                   = now;\n    hooks.utc                   = createUTC;\n    hooks.unix                  = createUnix;\n    hooks.months                = listMonths;\n    hooks.isDate                = isDate;\n    hooks.locale                = getSetGlobalLocale;\n    hooks.invalid               = createInvalid;\n    hooks.duration              = createDuration;\n    hooks.isMoment              = isMoment;\n    hooks.weekdays              = listWeekdays;\n    hooks.parseZone             = createInZone;\n    hooks.localeData            = getLocale;\n    hooks.isDuration            = isDuration;\n    hooks.monthsShort           = listMonthsShort;\n    hooks.weekdaysMin           = listWeekdaysMin;\n    hooks.defineLocale          = defineLocale;\n    hooks.updateLocale          = updateLocale;\n    hooks.locales               = listLocales;\n    hooks.weekdaysShort         = listWeekdaysShort;\n    hooks.normalizeUnits        = normalizeUnits;\n    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat        = getCalendarFormat;\n    hooks.prototype             = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD',                             // <input type=\"date\" />\n        TIME: 'HH:mm',                                  // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss',                       // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS',                        // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW',                             // <input type=\"week\" />\n        MONTH: 'YYYY-MM'                                // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _once = require('./internal/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nvar _awaitify = require('./internal/awaitify');\n\nvar _awaitify2 = _interopRequireDefault(_awaitify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */\nfunction waterfall(tasks, callback) {\n    callback = (0, _once2.default)(callback);\n    if (!Array.isArray(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        var task = (0, _wrapAsync2.default)(tasks[taskIndex++]);\n        task(...args, (0, _onlyOnce2.default)(next));\n    }\n\n    function next(err, ...args) {\n        if (err === false) return;\n        if (err || taskIndex === tasks.length) {\n            return callback(err, ...args);\n        }\n        nextTask(args);\n    }\n\n    nextTask([]);\n}\n\nexports.default = (0, _awaitify2.default)(waterfall);\nmodule.exports = exports['default'];","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = once;\nfunction once(fn) {\n    function wrapper(...args) {\n        if (fn === null) return;\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, args);\n    }\n    Object.assign(wrapper, fn);\n    return wrapper;\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = onlyOnce;\nfunction onlyOnce(fn) {\n    return function (...args) {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, args);\n    };\n}\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = asyncify;\n\nvar _initialParams = require('./internal/initialParams');\n\nvar _initialParams2 = _interopRequireDefault(_initialParams);\n\nvar _setImmediate = require('./internal/setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous function, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    if ((0, _wrapAsync.isAsync)(func)) {\n        return function (...args /*, callback*/) {\n            const callback = args.pop();\n            const promise = func.apply(this, args);\n            return handlePromise(promise, callback);\n        };\n    }\n\n    return (0, _initialParams2.default)(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if (result && typeof result.then === 'function') {\n            return handlePromise(result, callback);\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nfunction handlePromise(promise, callback) {\n    return promise.then(value => {\n        invokeCallback(callback, null, value);\n    }, err => {\n        invokeCallback(callback, err && err.message ? err : new Error(err));\n    });\n}\n\nfunction invokeCallback(callback, error, value) {\n    try {\n        callback(error, value);\n    } catch (err) {\n        (0, _setImmediate2.default)(e => {\n            throw e;\n        }, err);\n    }\n}\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (fn) {\n    return function (...args /*, callback*/) {\n        var callback = args.pop();\n        return fn.call(this, args, callback);\n    };\n};\n\nmodule.exports = exports[\"default\"];","'use strict';\n/* istanbul ignore file */\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fallback = fallback;\nexports.wrap = wrap;\nvar hasSetImmediate = exports.hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = exports.hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return (fn, ...args) => defer(() => fn(...args));\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nexports.default = wrap(_defer);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = awaitify;\n// conditionally promisify a function.\n// only return a promise if a callback is omitted\nfunction awaitify(asyncFn, arity = asyncFn.length) {\n    if (!arity) throw new Error('arity is undefined');\n    function awaitable(...args) {\n        if (typeof args[arity - 1] === 'function') {\n            return asyncFn.apply(this, args);\n        }\n\n        return new Promise((resolve, reject) => {\n            args[arity - 1] = (err, ...cbArgs) => {\n                if (err) return reject(err);\n                resolve(cbArgs.length > 1 ? cbArgs : cbArgs[0]);\n            };\n            asyncFn.apply(this, args);\n        });\n    }\n\n    return awaitable;\n}\nmodule.exports = exports['default'];","/*\n * Emulate 'eth_accounts' / 'eth_sendTransaction' using 'eth_sendRawTransaction'\n *\n * The two callbacks a user needs to implement are:\n * - getAccounts() -- array of addresses supported\n * - signTransaction(tx) -- sign a raw transaction object\n */\n\nconst waterfall = require('async/waterfall')\nconst parallel = require('async/parallel')\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst sigUtil = require('eth-sig-util')\nconst extend = require('xtend')\nconst Semaphore = require('semaphore')\nconst Subprovider = require('./subprovider.js')\nconst estimateGas = require('../util/estimate-gas.js')\nconst hexRegex = /^[0-9A-Fa-f]+$/g\n\nmodule.exports = HookedWalletSubprovider\n\n// handles the following RPC methods:\n//   eth_coinbase\n//   eth_accounts\n//   eth_sendTransaction\n//   eth_sign\n//   eth_signTypedData\n//   eth_signTypedData_v3\n//   eth_signTypedData_v4\n//   personal_sign\n//   eth_decryptMessage\n//   encryption_public_key\n//   personal_ecRecover\n//   parity_postTransaction\n//   parity_checkRequest\n//   parity_defaultAccount\n\n//\n// Tx Signature Flow\n//\n// handleRequest: eth_sendTransaction\n//   validateTransaction (basic validity check)\n//     validateSender (checks that sender is in accounts)\n//   processTransaction (sign tx and submit to network)\n//     approveTransaction (UI approval hook)\n//     checkApproval\n//     finalizeAndSubmitTx (tx signing)\n//       nonceLock.take (bottle neck to ensure atomic nonce)\n//         fillInTxExtras (set fallback gasPrice, nonce, etc)\n//         signTransaction (perform the signature)\n//         publishTransaction (publish signed tx to network)\n//\n\n\ninherits(HookedWalletSubprovider, Subprovider)\n\nfunction HookedWalletSubprovider(opts){\n  const self = this\n  // control flow\n  self.nonceLock = Semaphore(1)\n\n  // data lookup\n  if (opts.getAccounts) self.getAccounts = opts.getAccounts\n  // high level override\n  if (opts.processTransaction) self.processTransaction = opts.processTransaction\n  if (opts.processMessage) self.processMessage = opts.processMessage\n  if (opts.processPersonalMessage) self.processPersonalMessage = opts.processPersonalMessage\n  if (opts.processTypedMessage) self.processTypedMessage = opts.processTypedMessage\n  // approval hooks\n  self.approveTransaction = opts.approveTransaction || self.autoApprove\n  self.approveMessage = opts.approveMessage || self.autoApprove\n  self.approvePersonalMessage = opts.approvePersonalMessage || self.autoApprove\n  self.approveDecryptMessage = opts.approveDecryptMessage || self.autoApprove\n  self.approveEncryptionPublicKey = opts.approveEncryptionPublicKey || self.autoApprove\n  self.approveTypedMessage = opts.approveTypedMessage || self.autoApprove\n  // actually perform the signature\n  if (opts.signTransaction) self.signTransaction = opts.signTransaction  || mustProvideInConstructor('signTransaction')\n  if (opts.signMessage) self.signMessage = opts.signMessage  || mustProvideInConstructor('signMessage')\n  if (opts.signPersonalMessage) self.signPersonalMessage = opts.signPersonalMessage  || mustProvideInConstructor('signPersonalMessage')\n  if (opts.decryptMessage) self.decryptMessage = opts.decryptMessage  || mustProvideInConstructor('decryptMessage')\n  if (opts.encryptionPublicKey) self.encryptionPublicKey = opts.encryptionPublicKey  || mustProvideInConstructor('encryptionPublicKey')\n  if (opts.signTypedMessage) self.signTypedMessage = opts.signTypedMessage  || mustProvideInConstructor('signTypedMessage')\n  if (opts.recoverPersonalSignature) self.recoverPersonalSignature = opts.recoverPersonalSignature\n  // publish to network\n  if (opts.publishTransaction) self.publishTransaction = opts.publishTransaction\n  // gas options\n  self.estimateGas = opts.estimateGas || self.estimateGas\n  self.getGasPrice = opts.getGasPrice || self.getGasPrice\n}\n\nHookedWalletSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  self._parityRequests = {}\n  self._parityRequestCount = 0\n\n  // switch statement is not block scoped\n  // sp we cant repeat var declarations\n  let txParams, msgParams, extraParams\n  let message, address\n\n  switch(payload.method) {\n\n    case 'eth_coinbase':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        let result = accounts[0] || null\n        end(null, result)\n      })\n      return\n\n    case 'eth_accounts':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        end(null, accounts)\n      })\n      return\n\n    case 'eth_sendTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processSignTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_sign':\n      // process normally\n      address = payload.params[0]\n      message = payload.params[1]\n      // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n      // good place for metadata\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateMessage(msgParams, cb),\n        (cb) => self.processMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'personal_sign':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_personalSign method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validatePersonalMessage(msgParams, cb),\n          (cb) => self.processPersonalMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'eth_decryptMessage':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_decryptMessage method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validateDecryptMessage(msgParams, cb),\n          (cb) => self.processDecryptMessage(msgParams, cb),\n        ], end)\n      })()\n      \n    case 'encryption_public_key':\n      return (function(){\n        const address = payload.params[0]\n        \n        waterfall([\n          (cb) => self.validateEncryptionPublicKey(address, cb),\n          (cb) => self.processEncryptionPublicKey(address, cb),\n        ], end)\n      })()\n      \n    case 'personal_ecRecover':\n      return (function(){    \n        message = payload.params[0]\n        let signature = payload.params[1]\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          sig: signature,\n          data: message,\n        })\n        self.recoverPersonalSignature(msgParams, end)\n      })()\n\n    case 'eth_signTypedData':\n    case 'eth_signTypedData_v3':\n    case 'eth_signTypedData_v4':\n      return (function(){ \n        // process normally\n      \n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        if (resemblesAddress(first)) {\n          address = first\n          message = second\n        } else {\n          message = first\n          address = second\n        }\n\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validateTypedMessage(msgParams, cb),\n          (cb) => self.processTypedMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'parity_postTransaction':\n      txParams = payload.params[0]\n      self.parityPostTransaction(txParams, end)\n      return\n\n    case 'parity_postSign':\n      address = payload.params[0]\n      message = payload.params[1]\n      self.parityPostSign(address, message, end)\n      return\n\n    case 'parity_checkRequest':\n      return (function(){\n        const requestId = payload.params[0]\n        self.parityCheckRequest(requestId, end)\n      })()\n\n    case 'parity_defaultAccount':\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        const account = accounts[0] || null\n        end(null, account)\n      })\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n\n//\n// data lookup\n//\n\nHookedWalletSubprovider.prototype.getAccounts = function(cb) {\n  cb(null, [])\n}\n\n\n//\n// \"process\" high level flow\n//\n\nHookedWalletSubprovider.prototype.processTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeAndSubmitTx(txParams, cb),\n  ], cb)\n}\n\n\nHookedWalletSubprovider.prototype.processSignTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeTx(txParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processPersonalMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approvePersonalMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signPersonalMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processDecryptMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveDecryptMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('decryptMessage', didApprove, cb),\n    (cb) => self.decryptMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processEncryptionPublicKey = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveEncryptionPublicKey(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('encryptionPublicKey', didApprove, cb),\n    (cb) => self.encryptionPublicKey(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessage(msgParams, cb),\n  ], cb)\n}\n\n//\n// approval\n//\n\nHookedWalletSubprovider.prototype.autoApprove = function(txParams, cb) {\n  cb(null, true)\n}\n\nHookedWalletSubprovider.prototype.checkApproval = function(type, didApprove, cb) {\n  cb( didApprove ? null : new Error('User denied '+type+' signature.') )\n}\n\n//\n// parity\n//\n\nHookedWalletSubprovider.prototype.parityPostTransaction = function(txParams, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sendTransaction',\n    params: [txParams],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const txHash = res.result\n    self._parityRequests[reqId] = txHash\n  })\n\n  cb(null, reqId)\n}\n\n\nHookedWalletSubprovider.prototype.parityPostSign = function(address, message, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sign',\n    params: [address, message],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const result = res.result\n    self._parityRequests[reqId] = result\n  })\n\n  cb(null, reqId)\n}\n\nHookedWalletSubprovider.prototype.parityCheckRequest = function(reqId, cb) {\n  const self = this\n  const result = self._parityRequests[reqId] || null\n  // tx not handled yet\n  if (!result) return cb(null, null)\n  // tx was rejected (or other error)\n  if (result.error) return cb(result.error)\n  // tx sent\n  cb(null, result)\n}\n\n//\n// signature and recovery\n//\n\nHookedWalletSubprovider.prototype.recoverPersonalSignature = function(msgParams, cb) {\n  let senderHex\n  try {\n    senderHex = sigUtil.recoverPersonalSignature(msgParams)\n  } catch (err) {\n    return cb(err)\n  }\n  cb(null, senderHex)\n}\n\n//\n// validation\n//\n\nHookedWalletSubprovider.prototype.validateTransaction = function(txParams, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (txParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign transaction.`))\n  self.validateSender(txParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign transaction for this address: \"${txParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign message.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validatePersonalMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign personal message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to sign personal message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateDecryptMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to decrypt message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to decrypt message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to decrypt message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateEncryptionPublicKey = function(address, cb){\n  const self = this\n\n  self.validateSender(address, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to obtain encryption public key for this address: \"${address}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessage = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateSender = function(senderAddress, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (!senderAddress) return cb(null, false)\n  self.getAccounts(function(err, accounts){\n    if (err) return cb(err)\n    const senderIsValid = (accounts.map(toLowerCase).indexOf(senderAddress.toLowerCase()) !== -1)\n    cb(null, senderIsValid)\n  })\n}\n\n//\n// tx helpers\n//\n\nHookedWalletSubprovider.prototype.finalizeAndSubmitTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n      self.publishTransaction.bind(self),\n    ], function(err, txHash){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, txHash)\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.finalizeTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n    ], function(err, signedTx){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, {raw: signedTx, tx: txParams})\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.publishTransaction = function(rawTx, cb) {\n  const self = this\n  self.emitPayload({\n    method: 'eth_sendRawTransaction',\n    params: [rawTx],\n  }, function(err, res){\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.estimateGas = function(txParams, cb) {\n  const self = this\n  estimateGas(self.engine, txParams, cb)\n}\n\nHookedWalletSubprovider.prototype.getGasPrice = function(cb) {\n  const self = this\n  self.emitPayload({ method: 'eth_gasPrice', params: [] }, function (err, res) {\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.fillInTxExtras = function(txParams, cb){\n  const self = this\n  const address = txParams.from\n  // console.log('fillInTxExtras - address:', address)\n\n  const tasks = {}\n\n  if (txParams.gasPrice === undefined) {\n    // console.log(\"need to get gasprice\")\n    tasks.gasPrice = self.getGasPrice.bind(self)\n  }\n\n  if (txParams.nonce === undefined) {\n    // console.log(\"need to get nonce\")\n    tasks.nonce = self.emitPayload.bind(self, { method: 'eth_getTransactionCount', params: [address, 'pending'] })\n  }\n\n  if (txParams.gas === undefined) {\n    // console.log(\"need to get gas\")\n    tasks.gas = self.estimateGas.bind(self, cloneTxParams(txParams))\n  }\n\n  parallel(tasks, function(err, taskResults) {\n    if (err) return cb(err)\n\n    const result = {}\n    if (taskResults.gasPrice) result.gasPrice = taskResults.gasPrice\n    if (taskResults.nonce) result.nonce = taskResults.nonce.result\n    if (taskResults.gas) result.gas = taskResults.gas\n\n    cb(null, extend(txParams, result))\n  })\n}\n\n// util\n\n// we use this to clean any custom params from the txParams\nfunction cloneTxParams(txParams){\n  return {\n    from: txParams.from,\n    to: txParams.to,\n    value: txParams.value,\n    data: txParams.data,\n    gas: txParams.gas,\n    gasPrice: txParams.gasPrice,\n    nonce: txParams.nonce,\n  }\n}\n\nfunction toLowerCase(string){\n  return string.toLowerCase()\n}\n\nfunction resemblesAddress (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValid = ethUtil.isValidAddress(fixed)\n  return isValid\n}\n\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValidAddress = ethUtil.isValidAddress(fixed)\n  return !isValidAddress && isValidHex(string)\n}\n\nfunction isValidHex(data) {\n  const isString = typeof data === 'string'\n  if (!isString) return false\n  const isHexPrefixed = data.slice(0,2) === '0x'\n  if (!isHexPrefixed) return false\n  const nonPrefixed = data.slice(2)\n  const isValid = nonPrefixed.match(hexRegex)\n  return isValid\n}\n\nfunction mustProvideInConstructor(methodName) {\n  return function(params, cb) {\n    cb(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + methodName + '\" fn in constructor options'))\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (tasks, callback) {\n    callback = (0, _once2.default)(callback || _noop2.default);\n    if (!(0, _isArray2.default)(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        var task = (0, _wrapAsync2.default)(tasks[taskIndex++]);\n        args.push((0, _onlyOnce2.default)(next));\n        task.apply(null, args);\n    }\n\n    function next(err /*, ...args*/) {\n        if (err || taskIndex === tasks.length) {\n            return callback.apply(null, arguments);\n        }\n        nextTask((0, _slice2.default)(arguments, 1));\n    }\n\n    nextTask([]);\n};\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./internal/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _slice = require('./internal/slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parallelLimit;\n\nvar _eachOf = require('./eachOf');\n\nvar _eachOf2 = _interopRequireDefault(_eachOf);\n\nvar _parallel = require('./internal/parallel');\n\nvar _parallel2 = _interopRequireDefault(_parallel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Run the `tasks` collection of functions in parallel, without waiting until\n * the previous function has completed. If any of the functions pass an error to\n * its callback, the main `callback` is immediately called with the value of the\n * error. Once the `tasks` have completed, the results are passed to the final\n * `callback` as an array.\n *\n * **Note:** `parallel` is about kicking-off I/O tasks in parallel, not about\n * parallel execution of code.  If your tasks do not use any timers or perform\n * any I/O, they will actually be executed in series.  Any synchronous setup\n * sections for each task will happen one after the other.  JavaScript remains\n * single-threaded.\n *\n * **Hint:** Use [`reflect`]{@link module:Utils.reflect} to continue the\n * execution of other tasks when a task fails.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n * results from {@link async.parallel}.\n *\n * @name parallel\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n *\n * @example\n * async.parallel([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // the results array will equal ['one','two'] even though\n *     // the second function had a shorter timeout.\n * });\n *\n * // an example using an object instead of an array\n * async.parallel({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equals to: {one: 1, two: 2}\n * });\n */\nfunction parallelLimit(tasks, callback) {\n  (0, _parallel2.default)(_eachOf2.default, tasks, callback);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _parallel;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _parallel(eachfn, tasks, callback) {\n    callback = callback || _noop2.default;\n    var results = (0, _isArrayLike2.default)(tasks) ? [] : {};\n\n    eachfn(tasks, function (task, key, callback) {\n        (0, _wrapAsync2.default)(task)(function (err, result) {\n            if (arguments.length > 2) {\n                result = (0, _slice2.default)(arguments, 1);\n            }\n            results[key] = result;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\nmodule.exports = exports['default'];","const ethUtil = require('ethereumjs-util')\nconst ethAbi = require('ethereumjs-abi')\n\nmodule.exports = {\n\n  concatSig: function (v, r, s) {\n    const rSig = ethUtil.fromSigned(r)\n    const sSig = ethUtil.fromSigned(s)\n    const vSig = ethUtil.bufferToInt(v)\n    const rStr = padWithZeroes(ethUtil.toUnsigned(rSig).toString('hex'), 64)\n    const sStr = padWithZeroes(ethUtil.toUnsigned(sSig).toString('hex'), 64)\n    const vStr = ethUtil.stripHexPrefix(ethUtil.intToHex(vSig))\n    return ethUtil.addHexPrefix(rStr.concat(sStr, vStr)).toString('hex')\n  },\n\n  normalize: function (input) {\n    if (!input) return\n\n    if (typeof input === 'number') {\n      const buffer = ethUtil.toBuffer(input)\n      input = ethUtil.bufferToHex(buffer)\n    }\n\n    if (typeof input !== 'string') {\n      var msg = 'eth-sig-util.normalize() requires hex string or integer input.'\n      msg += ' received ' + (typeof input) + ': ' + input\n      throw new Error(msg)\n    }\n\n    return ethUtil.addHexPrefix(input.toLowerCase())\n  },\n\n  personalSign: function (privateKey, msgParams) {\n    var message = ethUtil.toBuffer(msgParams.data)\n    var msgHash = ethUtil.hashPersonalMessage(message)\n    var sig = ethUtil.ecsign(msgHash, privateKey)\n    var serialized = ethUtil.bufferToHex(this.concatSig(sig.v, sig.r, sig.s))\n    return serialized\n  },\n\n  recoverPersonalSignature: function (msgParams) {\n    const publicKey = getPublicKeyFor(msgParams)\n    const sender = ethUtil.publicToAddress(publicKey)\n    const senderHex = ethUtil.bufferToHex(sender)\n    return senderHex\n  },\n\n  extractPublicKey: function (msgParams) {\n    const publicKey = getPublicKeyFor(msgParams)\n    return '0x' + publicKey.toString('hex')\n  },\n\n  typedSignatureHash: function (typedData) {\n    const hashBuffer = typedSignatureHash(typedData)\n    return ethUtil.bufferToHex(hashBuffer)\n  },\n\n  signTypedData: function (privateKey, msgParams) {\n    const msgHash = typedSignatureHash(msgParams.data)\n    const sig = ethUtil.ecsign(msgHash, privateKey)\n    return ethUtil.bufferToHex(this.concatSig(sig.v, sig.r, sig.s))\n  },\n\n  recoverTypedSignature: function (msgParams) {\n    const msgHash = typedSignatureHash(msgParams.data)\n    const publicKey = recoverPublicKey(msgHash, msgParams.sig)\n    const sender = ethUtil.publicToAddress(publicKey)\n    return ethUtil.bufferToHex(sender)\n  }\n\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHash(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? ethUtil.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return ethAbi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      ethAbi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      ethAbi.soliditySHA3(types, data)\n    ]\n  )\n}\n\nfunction recoverPublicKey(hash, sig) {\n  const signature = ethUtil.toBuffer(sig)\n  const sigParams = ethUtil.fromRpcSig(signature)\n  return ethUtil.ecrecover(hash, sigParams.v, sigParams.r, sigParams.s)\n}\n\nfunction getPublicKeyFor (msgParams) {\n  const message = ethUtil.toBuffer(msgParams.data)\n  const msgHash = ethUtil.hashPersonalMessage(message)\n  return recoverPublicKey(msgHash, msgParams.sig)\n}\n\n\nfunction padWithZeroes (number, length) {\n  var myString = '' + number\n  while (myString.length < length) {\n    myString = '0' + myString\n  }\n  return myString\n}\n","module.exports = require('./lib/index.js')\n","/* eslint-disable no-useless-escape */\nconst utils = require('ethereumjs-util')\nconst BN = require('bn.js')\n\nvar ABI = function () {\n}\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\nABI.eventID = function (name, types) {\n  // FIXME: use node.js util.format?\n  var sig = name + '(' + types.map(elementaryName).join(',') + ')'\n  return utils.keccak256(Buffer.from(sig))\n}\n\nABI.methodID = function (name, types) {\n  return ABI.eventID(name, types).slice(0, 4)\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ parseInt(tmp[1], 10), parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string') {\n    if (utils.isHexPrefixed(arg)) {\n      return new BN(utils.stripHexPrefix(arg), 16)\n    } else {\n      return new BN(arg, 10)\n    }\n  } else if (type === 'number') {\n    return new BN(arg)\n  } else if (arg.toArray) {\n    // assume this is a BN for the moment, replace with BN.isBN soon\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// someMethod(bytes,uint)\n// someMethod(bytes,uint):(boolean)\nfunction parseSignature (sig) {\n  var tmp = /^(\\w+)\\((.*)\\)$/.exec(sig)\n\n  if (tmp.length !== 3) {\n    throw new Error('Invalid method signature')\n  }\n\n  var args = /^(.+)\\):\\((.+)$/.exec(tmp[2])\n\n  if (args !== null && args.length === 3) {\n    return {\n      method: tmp[1],\n      args: args[1].split(','),\n      retargs: args[2].split(',')\n    }\n  } else {\n    var params = tmp[2].split(',')\n    if (params.length === 1 && params[0] === '') {\n      // Special-case (possibly naive) fixup for functions that take no arguments.\n      // TODO: special cases are always bad, but this makes the function return\n      // match what the calling functions expect\n      params = []\n    }\n    return {\n      method: tmp[1],\n      args: params\n    }\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', Buffer.from(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = Buffer.from(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, utils.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return utils.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return num.toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    return num.toTwos(256).toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num.mul(new BN(2).pow(new BN(size[1]))))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Decodes a single item (can be dynamic array)\n// @returns: array\n// FIXME: this method will need a lot of attention at checking limits and validation\nfunction decodeSingle (parsedType, data, offset) {\n  if (typeof parsedType === 'string') {\n    parsedType = parseType(parsedType)\n  }\n  var size, num, ret, i\n\n  if (parsedType.name === 'address') {\n    return decodeSingle(parsedType.rawType, data, offset).toArrayLike(Buffer, 'be', 20).toString('hex')\n  } else if (parsedType.name === 'bool') {\n    return decodeSingle(parsedType.rawType, data, offset).toString() === new BN(1).toString()\n  } else if (parsedType.name === 'string') {\n    var bytes = decodeSingle(parsedType.rawType, data, offset)\n    return Buffer.from(bytes, 'utf8').toString()\n  } else if (parsedType.isArray) {\n    // this part handles fixed-length arrays ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    ret = []\n    size = parsedType.size\n\n    if (parsedType.size === 'dynamic') {\n      offset = decodeSingle('uint256', data, offset).toNumber()\n      size = decodeSingle('uint256', data, offset).toNumber()\n      offset = offset + 32\n    }\n    for (i = 0; i < size; i++) {\n      var decoded = decodeSingle(parsedType.subArray, data, offset)\n      ret.push(decoded)\n      offset += parsedType.subArray.memoryUsage\n    }\n    return ret\n  } else if (parsedType.name === 'bytes') {\n    offset = decodeSingle('uint256', data, offset).toNumber()\n    size = decodeSingle('uint256', data, offset).toNumber()\n    return data.slice(offset + 32, offset + 32 + size)\n  } else if (parsedType.name.startsWith('bytes')) {\n    return data.slice(offset, offset + parsedType.size)\n  } else if (parsedType.name.startsWith('uint')) {\n    num = new BN(data.slice(offset, offset + 32), 16, 'be')\n    if (num.bitLength() > parsedType.size) {\n      throw new Error('Decoded int exceeds width: ' + parsedType.size + ' vs ' + num.bitLength())\n    }\n    return num\n  } else if (parsedType.name.startsWith('int')) {\n    num = new BN(data.slice(offset, offset + 32), 16, 'be').fromTwos(256)\n    if (num.bitLength() > parsedType.size) {\n      throw new Error('Decoded uint exceeds width: ' + parsedType.size + ' vs ' + num.bitLength())\n    }\n\n    return num\n  } else if (parsedType.name.startsWith('ufixed')) {\n    size = new BN(2).pow(new BN(parsedType.size[1]))\n    num = decodeSingle('uint256', data, offset)\n    if (!num.mod(size).isZero()) {\n      throw new Error('Decimals not supported yet')\n    }\n    return num.div(size)\n  } else if (parsedType.name.startsWith('fixed')) {\n    size = new BN(2).pow(new BN(parsedType.size[1]))\n    num = decodeSingle('int256', data, offset)\n    if (!num.mod(size).isZero()) {\n      throw new Error('Decimals not supported yet')\n    }\n    return num.div(size)\n  }\n  throw new Error('Unsupported or invalid type: ' + parsedType.name)\n}\n\n// Parse the given type\n// @returns: {} containing the type itself, memory usage and (including size and subArray if applicable)\nfunction parseType (type) {\n  var size\n  var ret\n  if (isArray(type)) {\n    size = parseTypeArray(type)\n    var subArray = type.slice(0, type.lastIndexOf('['))\n    subArray = parseType(subArray)\n    ret = {\n      isArray: true,\n      name: type,\n      size: size,\n      memoryUsage: size === 'dynamic' ? 32 : subArray.memoryUsage * size,\n      subArray: subArray\n    }\n    return ret\n  } else {\n    var rawType\n    switch (type) {\n      case 'address':\n        rawType = 'uint160'\n        break\n      case 'bool':\n        rawType = 'uint8'\n        break\n      case 'string':\n        rawType = 'bytes'\n        break\n    }\n    ret = {\n      rawType: rawType,\n      name: type,\n      memoryUsage: 32\n    }\n\n    if ((type.startsWith('bytes') && type !== 'bytes') || type.startsWith('uint') || type.startsWith('int')) {\n      ret.size = parseTypeN(type)\n    } else if (type.startsWith('ufixed') || type.startsWith('fixed')) {\n      ret.size = parseTypeNxM(type)\n    }\n\n    if (type.startsWith('bytes') && type !== 'bytes' && (ret.size < 1 || ret.size > 32)) {\n      throw new Error('Invalid bytes<N> width: ' + ret.size)\n    }\n    if ((type.startsWith('uint') || type.startsWith('int')) && (ret.size % 8 || ret.size < 8 || ret.size > 256)) {\n      throw new Error('Invalid int/uint<N> width: ' + ret.size)\n    }\n    return ret\n  }\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nABI.rawEncode = function (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 0\n\n  types.forEach(function (type) {\n    if (isArray(type)) {\n      var size = parseTypeArray(type)\n\n      if (size !== 'dynamic') {\n        headLength += 32 * size\n      } else {\n        headLength += 32\n      }\n    } else {\n      headLength += 32\n    }\n  })\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nABI.rawDecode = function (types, data) {\n  var ret = []\n  data = Buffer.from(data)\n  var offset = 0\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var parsed = parseType(type, data, offset)\n    var decoded = decodeSingle(parsed, data, offset)\n    offset += parsed.memoryUsage\n    ret.push(decoded)\n  }\n  return ret\n}\n\nABI.simpleEncode = function (method) {\n  var args = Array.prototype.slice.call(arguments).slice(1)\n  var sig = parseSignature(method)\n\n  // FIXME: validate/convert arguments\n  if (args.length !== sig.args.length) {\n    throw new Error('Argument count mismatch')\n  }\n\n  return Buffer.concat([ ABI.methodID(sig.method, sig.args), ABI.rawEncode(sig.args, args) ])\n}\n\nABI.simpleDecode = function (method, data) {\n  var sig = parseSignature(method)\n\n  // FIXME: validate/convert arguments\n  if (!sig.retargs) {\n    throw new Error('No return values in method')\n  }\n\n  return ABI.rawDecode(sig.retargs, data)\n}\n\nfunction stringify (type, value) {\n  if (type.startsWith('address') || type.startsWith('bytes')) {\n    return '0x' + value.toString('hex')\n  } else {\n    return value.toString()\n  }\n}\n\nABI.stringify = function (types, values) {\n  var ret = []\n\n  for (var i in types) {\n    var type = types[i]\n    var value = values[i]\n\n    // if it is an array type, concat the items\n    if (/^[^\\[]+\\[.*\\]$/.test(type)) {\n      value = value.map(function (item) {\n        return stringify(type, item)\n      }).join(', ')\n    } else {\n      value = stringify(type, value)\n    }\n\n    ret.push(value)\n  }\n\n  return ret\n}\n\nABI.solidityHexValue = function (type, value, bitsize) {\n  // pass in bitsize = null if use default bitsize\n  var size, num\n  if (isArray(type)) {\n    var subType = type.replace(/\\[.*?\\]/, '')\n    if (!isArray(subType)) {\n      var arraySize = parseTypeArray(type)\n      if (arraySize !== 'dynamic' && arraySize !== 0 && value.length > arraySize) {\n        throw new Error('Elements exceed array size: ' + arraySize)\n      }\n    }\n    var arrayValues = value.map(function (v) {\n      return ABI.solidityHexValue(subType, v, 256)\n    })\n    return Buffer.concat(arrayValues)\n  } else if (type === 'bytes') {\n    return value\n  } else if (type === 'string') {\n    return Buffer.from(value, 'utf8')\n  } else if (type === 'bool') {\n    bitsize = bitsize || 8\n    var padding = Array((bitsize) / 4).join('0')\n    return Buffer.from(value ? padding + '1' : padding + '0', 'hex')\n  } else if (type === 'address') {\n    var bytesize = 20\n    if (bitsize) {\n      bytesize = bitsize / 8\n    }\n    return utils.setLengthLeft(value, bytesize)\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return utils.setLengthRight(value, size)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(value)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    bitsize = bitsize || size\n    return num.toArrayLike(Buffer, 'be', bitsize / 8)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(value)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    bitsize = bitsize || size\n    return num.toTwos(size).toArrayLike(Buffer, 'be', bitsize / 8)\n  } else {\n    // FIXME: support all other types\n    throw new Error('Unsupported or invalid type: ' + type)\n  }\n}\n\nABI.solidityPack = function (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    ret.push(ABI.solidityHexValue(type, value, null))\n  }\n\n  return Buffer.concat(ret)\n}\n\nABI.soliditySHA3 = function (types, values) {\n  return utils.keccak256(ABI.solidityPack(types, values))\n}\n\nABI.soliditySHA256 = function (types, values) {\n  return utils.sha256(ABI.solidityPack(types, values))\n}\n\nABI.solidityRIPEMD160 = function (types, values) {\n  return utils.ripemd160(ABI.solidityPack(types, values), true)\n}\n\n// Serpent's users are familiar with this encoding\n// - s: string\n// - b: bytes\n// - b<N>: bytes<N>\n// - i: int256\n// - a: int256[]\n\nfunction isNumeric (c) {\n  // FIXME: is this correct? Seems to work\n  return (c >= '0') && (c <= '9')\n}\n\n// For a \"documentation\" refer to https://github.com/ethereum/serpent/blob/develop/preprocess.cpp\nABI.fromSerpent = function (sig) {\n  var ret = []\n  for (var i = 0; i < sig.length; i++) {\n    var type = sig[i]\n    if (type === 's') {\n      ret.push('bytes')\n    } else if (type === 'b') {\n      var tmp = 'bytes'\n      var j = i + 1\n      while ((j < sig.length) && isNumeric(sig[j])) {\n        tmp += sig[j] - '0'\n        j++\n      }\n      i = j - 1\n      ret.push(tmp)\n    } else if (type === 'i') {\n      ret.push('int256')\n    } else if (type === 'a') {\n      ret.push('int256[]')\n    } else {\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n  return ret\n}\n\nABI.toSerpent = function (types) {\n  var ret = []\n  for (var i = 0; i < types.length; i++) {\n    var type = types[i]\n    if (type === 'bytes') {\n      ret.push('s')\n    } else if (type.startsWith('bytes')) {\n      ret.push('b' + parseTypeN(type))\n    } else if (type === 'int256') {\n      ret.push('i')\n    } else if (type === 'int256[]') {\n      ret.push('a')\n    } else {\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n  return ret.join('')\n}\n\nmodule.exports = ABI\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar secp256k1 = require('secp256k1');\nexports.secp256k1 = secp256k1;\nvar ethjsUtil = require('ethjs-util');\nvar BN = require(\"bn.js\");\nexports.BN = BN;\nvar rlp = require(\"rlp\");\nexports.rlp = rlp;\nObject.assign(exports, ethjsUtil);\n/**\n * Constants\n */\n__export(require(\"./constants\"));\n/**\n * Public-key cryptography (secp256k1) and addresses\n */\n__export(require(\"./account\"));\n/**\n * Hash functions\n */\n__export(require(\"./hash\"));\n/**\n * ECDSA signature\n */\n__export(require(\"./signature\"));\n/**\n * Utilities for manipulating Buffers, byte arrays, etc.\n */\n__export(require(\"./bytes\"));\n/**\n * Function for definining properties on an object\n */\n__export(require(\"./object\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BN = require(\"bn.js\");\n/**\n * The max integer that this VM can handle\n */\nexports.MAX_INTEGER = new BN('ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff', 16);\n/**\n * 2^256\n */\nexports.TWO_POW256 = new BN('10000000000000000000000000000000000000000000000000000000000000000', 16);\n/**\n * Keccak-256 hash of null\n */\nexports.KECCAK256_NULL_S = 'c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\n/**\n * Keccak-256 hash of null\n */\nexports.KECCAK256_NULL = Buffer.from(exports.KECCAK256_NULL_S, 'hex');\n/**\n * Keccak-256 of an RLP of an empty array\n */\nexports.KECCAK256_RLP_ARRAY_S = '1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347';\n/**\n * Keccak-256 of an RLP of an empty array\n */\nexports.KECCAK256_RLP_ARRAY = Buffer.from(exports.KECCAK256_RLP_ARRAY_S, 'hex');\n/**\n * Keccak-256 hash of the RLP of null\n */\nexports.KECCAK256_RLP_S = '56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421';\n/**\n * Keccak-256 hash of the RLP of null\n */\nexports.KECCAK256_RLP = Buffer.from(exports.KECCAK256_RLP_S, 'hex');\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar assert = require('assert');\nvar ethjsUtil = require('ethjs-util');\nvar secp256k1 = require('secp256k1');\nvar BN = require(\"bn.js\");\nvar bytes_1 = require(\"./bytes\");\nvar hash_1 = require(\"./hash\");\n/**\n * Returns a zero address.\n */\nexports.zeroAddress = function () {\n    var addressLength = 20;\n    var addr = bytes_1.zeros(addressLength);\n    return bytes_1.bufferToHex(addr);\n};\n/**\n * Checks if the address is a valid. Accepts checksummed addresses too.\n */\nexports.isValidAddress = function (address) {\n    return /^0x[0-9a-fA-F]{40}$/.test(address);\n};\n/**\n * Checks if a given address is a zero address.\n */\nexports.isZeroAddress = function (address) {\n    var zeroAddr = exports.zeroAddress();\n    return zeroAddr === bytes_1.addHexPrefix(address);\n};\n/**\n * Returns a checksummed address.\n *\n * If a eip1191ChainId is provided, the chainId will be included in the checksum calculation. This\n * has the effect of checksummed addresses for one chain having invalid checksums for others.\n * For more details, consult EIP-1191.\n *\n * WARNING: Checksums with and without the chainId will differ. As of 2019-06-26, the most commonly\n * used variation in Ethereum was without the chainId. This may change in the future.\n */\nexports.toChecksumAddress = function (address, eip1191ChainId) {\n    address = ethjsUtil.stripHexPrefix(address).toLowerCase();\n    var prefix = eip1191ChainId !== undefined ? eip1191ChainId.toString() + '0x' : '';\n    var hash = hash_1.keccak(prefix + address).toString('hex');\n    var ret = '0x';\n    for (var i = 0; i < address.length; i++) {\n        if (parseInt(hash[i], 16) >= 8) {\n            ret += address[i].toUpperCase();\n        }\n        else {\n            ret += address[i];\n        }\n    }\n    return ret;\n};\n/**\n * Checks if the address is a valid checksummed address.\n *\n * See toChecksumAddress' documentation for details about the eip1191ChainId parameter.\n */\nexports.isValidChecksumAddress = function (address, eip1191ChainId) {\n    return exports.isValidAddress(address) && exports.toChecksumAddress(address, eip1191ChainId) === address;\n};\n/**\n * Generates an address of a newly created contract.\n * @param from The address which is creating this new address\n * @param nonce The nonce of the from account\n */\nexports.generateAddress = function (from, nonce) {\n    from = bytes_1.toBuffer(from);\n    var nonceBN = new BN(nonce);\n    if (nonceBN.isZero()) {\n        // in RLP we want to encode null in the case of zero nonce\n        // read the RLP documentation for an answer if you dare\n        return hash_1.rlphash([from, null]).slice(-20);\n    }\n    // Only take the lower 160bits of the hash\n    return hash_1.rlphash([from, Buffer.from(nonceBN.toArray())]).slice(-20);\n};\n/**\n * Generates an address for a contract created using CREATE2.\n * @param from The address which is creating this new address\n * @param salt A salt\n * @param initCode The init code of the contract being created\n */\nexports.generateAddress2 = function (from, salt, initCode) {\n    var fromBuf = bytes_1.toBuffer(from);\n    var saltBuf = bytes_1.toBuffer(salt);\n    var initCodeBuf = bytes_1.toBuffer(initCode);\n    assert(fromBuf.length === 20);\n    assert(saltBuf.length === 32);\n    var address = hash_1.keccak256(Buffer.concat([Buffer.from('ff', 'hex'), fromBuf, saltBuf, hash_1.keccak256(initCodeBuf)]));\n    return address.slice(-20);\n};\n/**\n * Returns true if the supplied address belongs to a precompiled account (Byzantium).\n */\nexports.isPrecompiled = function (address) {\n    var a = bytes_1.unpad(address);\n    return a.length === 1 && a[0] >= 1 && a[0] <= 8;\n};\n/**\n * Checks if the private key satisfies the rules of the curve secp256k1.\n */\nexports.isValidPrivate = function (privateKey) {\n    return secp256k1.privateKeyVerify(privateKey);\n};\n/**\n * Checks if the public key satisfies the rules of the curve secp256k1\n * and the requirements of Ethereum.\n * @param publicKey The two points of an uncompressed key, unless sanitize is enabled\n * @param sanitize Accept public keys in other formats\n */\nexports.isValidPublic = function (publicKey, sanitize) {\n    if (sanitize === void 0) { sanitize = false; }\n    if (publicKey.length === 64) {\n        // Convert to SEC1 for secp256k1\n        return secp256k1.publicKeyVerify(Buffer.concat([Buffer.from([4]), publicKey]));\n    }\n    if (!sanitize) {\n        return false;\n    }\n    return secp256k1.publicKeyVerify(publicKey);\n};\n/**\n * Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param pubKey The two points of an uncompressed key, unless sanitize is enabled\n * @param sanitize Accept public keys in other formats\n */\nexports.pubToAddress = function (pubKey, sanitize) {\n    if (sanitize === void 0) { sanitize = false; }\n    pubKey = bytes_1.toBuffer(pubKey);\n    if (sanitize && pubKey.length !== 64) {\n        pubKey = secp256k1.publicKeyConvert(pubKey, false).slice(1);\n    }\n    assert(pubKey.length === 64);\n    // Only take the lower 160bits of the hash\n    return hash_1.keccak(pubKey).slice(-20);\n};\nexports.publicToAddress = exports.pubToAddress;\n/**\n * Returns the ethereum address of a given private key.\n * @param privateKey A private key must be 256 bits wide\n */\nexports.privateToAddress = function (privateKey) {\n    return exports.publicToAddress(exports.privateToPublic(privateKey));\n};\n/**\n * Returns the ethereum public key of a given private key.\n * @param privateKey A private key must be 256 bits wide\n */\nexports.privateToPublic = function (privateKey) {\n    privateKey = bytes_1.toBuffer(privateKey);\n    // skip the type flag and use the X, Y points\n    return secp256k1.publicKeyCreate(privateKey, false).slice(1);\n};\n/**\n * Converts a public key to the Ethereum format.\n */\nexports.importPublic = function (publicKey) {\n    publicKey = bytes_1.toBuffer(publicKey);\n    if (publicKey.length !== 64) {\n        publicKey = secp256k1.publicKeyConvert(publicKey, false).slice(1);\n    }\n    return publicKey;\n};\n//# sourceMappingURL=account.js.map","'use strict'\nmodule.exports = require('./lib/api')(require('./lib/keccak'))\n","'use strict'\nconst createKeccak = require('./keccak')\nconst createShake = require('./shake')\n\nmodule.exports = function (KeccakState) {\n  const Keccak = createKeccak(KeccakState)\n  const Shake = createShake(KeccakState)\n\n  return function (algorithm, options) {\n    const hash = typeof algorithm === 'string' ? algorithm.toLowerCase() : algorithm\n    switch (hash) {\n      case 'keccak224': return new Keccak(1152, 448, null, 224, options)\n      case 'keccak256': return new Keccak(1088, 512, null, 256, options)\n      case 'keccak384': return new Keccak(832, 768, null, 384, options)\n      case 'keccak512': return new Keccak(576, 1024, null, 512, options)\n\n      case 'sha3-224': return new Keccak(1152, 448, 0x06, 224, options)\n      case 'sha3-256': return new Keccak(1088, 512, 0x06, 256, options)\n      case 'sha3-384': return new Keccak(832, 768, 0x06, 384, options)\n      case 'sha3-512': return new Keccak(576, 1024, 0x06, 512, options)\n\n      case 'shake128': return new Shake(1344, 256, 0x1f, options)\n      case 'shake256': return new Shake(1088, 512, 0x1f, options)\n\n      default: throw new Error('Invald algorithm: ' + algorithm)\n    }\n  }\n}\n","'use strict'\nconst Buffer = require('safe-buffer').Buffer\nconst Transform = require('stream').Transform\nconst inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Keccak (rate, capacity, delimitedSuffix, hashBitLength, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._hashBitLength = hashBitLength\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Keccak, Transform)\n\n  Keccak.prototype._transform = function (chunk, encoding, callback) {\n    let error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype._flush = function (callback) {\n    let error = null\n    try {\n      this.push(this.digest())\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Digest already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Keccak.prototype.digest = function (encoding) {\n    if (this._finalized) throw new Error('Digest already called')\n    this._finalized = true\n\n    if (this._delimitedSuffix) this._state.absorbLastFewBits(this._delimitedSuffix)\n    let digest = this._state.squeeze(this._hashBitLength / 8)\n    if (encoding !== undefined) digest = digest.toString(encoding)\n\n    this._resetState()\n\n    return digest\n  }\n\n  // remove result from memory\n  Keccak.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  // because sometimes we need hash right now and little later\n  Keccak.prototype._clone = function () {\n    const clone = new Keccak(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Keccak\n}\n","'use strict'\nconst Buffer = require('safe-buffer').Buffer\nconst Transform = require('stream').Transform\nconst inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Shake (rate, capacity, delimitedSuffix, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Shake, Transform)\n\n  Shake.prototype._transform = function (chunk, encoding, callback) {\n    let error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Shake.prototype._flush = function () {}\n\n  Shake.prototype._read = function (size) {\n    this.push(this.squeeze(size))\n  }\n\n  Shake.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Squeeze already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Shake.prototype.squeeze = function (dataByteLength, encoding) {\n    if (!this._finalized) {\n      this._finalized = true\n      this._state.absorbLastFewBits(this._delimitedSuffix)\n    }\n\n    let data = this._state.squeeze(dataByteLength)\n    if (encoding !== undefined) data = data.toString(encoding)\n\n    return data\n  }\n\n  Shake.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  Shake.prototype._clone = function () {\n    const clone = new Shake(this._rate, this._capacity, this._delimitedSuffix, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Shake\n}\n","'use strict'\nconst Buffer = require('safe-buffer').Buffer\nconst keccakState = require('./keccak-state-unroll')\n\nfunction Keccak () {\n  // much faster than `new Array(50)`\n  this.state = [\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0\n  ]\n\n  this.blockSize = null\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.initialize = function (rate, capacity) {\n  for (let i = 0; i < 50; ++i) this.state[i] = 0\n  this.blockSize = rate / 8\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.absorb = function (data) {\n  for (let i = 0; i < data.length; ++i) {\n    this.state[~~(this.count / 4)] ^= data[i] << (8 * (this.count % 4))\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n}\n\nKeccak.prototype.absorbLastFewBits = function (bits) {\n  this.state[~~(this.count / 4)] ^= bits << (8 * (this.count % 4))\n  if ((bits & 0x80) !== 0 && this.count === (this.blockSize - 1)) keccakState.p1600(this.state)\n  this.state[~~((this.blockSize - 1) / 4)] ^= 0x80 << (8 * ((this.blockSize - 1) % 4))\n  keccakState.p1600(this.state)\n  this.count = 0\n  this.squeezing = true\n}\n\nKeccak.prototype.squeeze = function (length) {\n  if (!this.squeezing) this.absorbLastFewBits(0x01)\n\n  const output = Buffer.alloc(length)\n  for (var i = 0; i < length; ++i) {\n    output[i] = (this.state[~~(this.count / 4)] >>> (8 * (this.count % 4))) & 0xff\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n\n  return output\n}\n\nKeccak.prototype.copy = function (dest) {\n  for (let i = 0; i < 50; ++i) dest.state[i] = this.state[i]\n  dest.blockSize = this.blockSize\n  dest.count = this.count\n  dest.squeezing = this.squeezing\n}\n\nmodule.exports = Keccak\n","'use strict'\nconst P1600_ROUND_CONSTANTS = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648]\n\nexports.p1600 = function (s) {\n  for (let round = 0; round < 24; ++round) {\n    // theta\n    const lo0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40]\n    const hi0 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41]\n    const lo1 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42]\n    const hi1 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43]\n    const lo2 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44]\n    const hi2 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45]\n    const lo3 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46]\n    const hi3 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47]\n    const lo4 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48]\n    const hi4 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49]\n\n    let lo = lo4 ^ (lo1 << 1 | hi1 >>> 31)\n    let hi = hi4 ^ (hi1 << 1 | lo1 >>> 31)\n    const t1slo0 = s[0] ^ lo\n    const t1shi0 = s[1] ^ hi\n    const t1slo5 = s[10] ^ lo\n    const t1shi5 = s[11] ^ hi\n    const t1slo10 = s[20] ^ lo\n    const t1shi10 = s[21] ^ hi\n    const t1slo15 = s[30] ^ lo\n    const t1shi15 = s[31] ^ hi\n    const t1slo20 = s[40] ^ lo\n    const t1shi20 = s[41] ^ hi\n    lo = lo0 ^ (lo2 << 1 | hi2 >>> 31)\n    hi = hi0 ^ (hi2 << 1 | lo2 >>> 31)\n    const t1slo1 = s[2] ^ lo\n    const t1shi1 = s[3] ^ hi\n    const t1slo6 = s[12] ^ lo\n    const t1shi6 = s[13] ^ hi\n    const t1slo11 = s[22] ^ lo\n    const t1shi11 = s[23] ^ hi\n    const t1slo16 = s[32] ^ lo\n    const t1shi16 = s[33] ^ hi\n    const t1slo21 = s[42] ^ lo\n    const t1shi21 = s[43] ^ hi\n    lo = lo1 ^ (lo3 << 1 | hi3 >>> 31)\n    hi = hi1 ^ (hi3 << 1 | lo3 >>> 31)\n    const t1slo2 = s[4] ^ lo\n    const t1shi2 = s[5] ^ hi\n    const t1slo7 = s[14] ^ lo\n    const t1shi7 = s[15] ^ hi\n    const t1slo12 = s[24] ^ lo\n    const t1shi12 = s[25] ^ hi\n    const t1slo17 = s[34] ^ lo\n    const t1shi17 = s[35] ^ hi\n    const t1slo22 = s[44] ^ lo\n    const t1shi22 = s[45] ^ hi\n    lo = lo2 ^ (lo4 << 1 | hi4 >>> 31)\n    hi = hi2 ^ (hi4 << 1 | lo4 >>> 31)\n    const t1slo3 = s[6] ^ lo\n    const t1shi3 = s[7] ^ hi\n    const t1slo8 = s[16] ^ lo\n    const t1shi8 = s[17] ^ hi\n    const t1slo13 = s[26] ^ lo\n    const t1shi13 = s[27] ^ hi\n    const t1slo18 = s[36] ^ lo\n    const t1shi18 = s[37] ^ hi\n    const t1slo23 = s[46] ^ lo\n    const t1shi23 = s[47] ^ hi\n    lo = lo3 ^ (lo0 << 1 | hi0 >>> 31)\n    hi = hi3 ^ (hi0 << 1 | lo0 >>> 31)\n    const t1slo4 = s[8] ^ lo\n    const t1shi4 = s[9] ^ hi\n    const t1slo9 = s[18] ^ lo\n    const t1shi9 = s[19] ^ hi\n    const t1slo14 = s[28] ^ lo\n    const t1shi14 = s[29] ^ hi\n    const t1slo19 = s[38] ^ lo\n    const t1shi19 = s[39] ^ hi\n    const t1slo24 = s[48] ^ lo\n    const t1shi24 = s[49] ^ hi\n\n    // rho & pi\n    const t2slo0 = t1slo0\n    const t2shi0 = t1shi0\n    const t2slo16 = (t1shi5 << 4 | t1slo5 >>> 28)\n    const t2shi16 = (t1slo5 << 4 | t1shi5 >>> 28)\n    const t2slo7 = (t1slo10 << 3 | t1shi10 >>> 29)\n    const t2shi7 = (t1shi10 << 3 | t1slo10 >>> 29)\n    const t2slo23 = (t1shi15 << 9 | t1slo15 >>> 23)\n    const t2shi23 = (t1slo15 << 9 | t1shi15 >>> 23)\n    const t2slo14 = (t1slo20 << 18 | t1shi20 >>> 14)\n    const t2shi14 = (t1shi20 << 18 | t1slo20 >>> 14)\n    const t2slo10 = (t1slo1 << 1 | t1shi1 >>> 31)\n    const t2shi10 = (t1shi1 << 1 | t1slo1 >>> 31)\n    const t2slo1 = (t1shi6 << 12 | t1slo6 >>> 20)\n    const t2shi1 = (t1slo6 << 12 | t1shi6 >>> 20)\n    const t2slo17 = (t1slo11 << 10 | t1shi11 >>> 22)\n    const t2shi17 = (t1shi11 << 10 | t1slo11 >>> 22)\n    const t2slo8 = (t1shi16 << 13 | t1slo16 >>> 19)\n    const t2shi8 = (t1slo16 << 13 | t1shi16 >>> 19)\n    const t2slo24 = (t1slo21 << 2 | t1shi21 >>> 30)\n    const t2shi24 = (t1shi21 << 2 | t1slo21 >>> 30)\n    const t2slo20 = (t1shi2 << 30 | t1slo2 >>> 2)\n    const t2shi20 = (t1slo2 << 30 | t1shi2 >>> 2)\n    const t2slo11 = (t1slo7 << 6 | t1shi7 >>> 26)\n    const t2shi11 = (t1shi7 << 6 | t1slo7 >>> 26)\n    const t2slo2 = (t1shi12 << 11 | t1slo12 >>> 21)\n    const t2shi2 = (t1slo12 << 11 | t1shi12 >>> 21)\n    const t2slo18 = (t1slo17 << 15 | t1shi17 >>> 17)\n    const t2shi18 = (t1shi17 << 15 | t1slo17 >>> 17)\n    const t2slo9 = (t1shi22 << 29 | t1slo22 >>> 3)\n    const t2shi9 = (t1slo22 << 29 | t1shi22 >>> 3)\n    const t2slo5 = (t1slo3 << 28 | t1shi3 >>> 4)\n    const t2shi5 = (t1shi3 << 28 | t1slo3 >>> 4)\n    const t2slo21 = (t1shi8 << 23 | t1slo8 >>> 9)\n    const t2shi21 = (t1slo8 << 23 | t1shi8 >>> 9)\n    const t2slo12 = (t1slo13 << 25 | t1shi13 >>> 7)\n    const t2shi12 = (t1shi13 << 25 | t1slo13 >>> 7)\n    const t2slo3 = (t1slo18 << 21 | t1shi18 >>> 11)\n    const t2shi3 = (t1shi18 << 21 | t1slo18 >>> 11)\n    const t2slo19 = (t1shi23 << 24 | t1slo23 >>> 8)\n    const t2shi19 = (t1slo23 << 24 | t1shi23 >>> 8)\n    const t2slo15 = (t1slo4 << 27 | t1shi4 >>> 5)\n    const t2shi15 = (t1shi4 << 27 | t1slo4 >>> 5)\n    const t2slo6 = (t1slo9 << 20 | t1shi9 >>> 12)\n    const t2shi6 = (t1shi9 << 20 | t1slo9 >>> 12)\n    const t2slo22 = (t1shi14 << 7 | t1slo14 >>> 25)\n    const t2shi22 = (t1slo14 << 7 | t1shi14 >>> 25)\n    const t2slo13 = (t1slo19 << 8 | t1shi19 >>> 24)\n    const t2shi13 = (t1shi19 << 8 | t1slo19 >>> 24)\n    const t2slo4 = (t1slo24 << 14 | t1shi24 >>> 18)\n    const t2shi4 = (t1shi24 << 14 | t1slo24 >>> 18)\n\n    // chi\n    s[0] = t2slo0 ^ (~t2slo1 & t2slo2)\n    s[1] = t2shi0 ^ (~t2shi1 & t2shi2)\n    s[10] = t2slo5 ^ (~t2slo6 & t2slo7)\n    s[11] = t2shi5 ^ (~t2shi6 & t2shi7)\n    s[20] = t2slo10 ^ (~t2slo11 & t2slo12)\n    s[21] = t2shi10 ^ (~t2shi11 & t2shi12)\n    s[30] = t2slo15 ^ (~t2slo16 & t2slo17)\n    s[31] = t2shi15 ^ (~t2shi16 & t2shi17)\n    s[40] = t2slo20 ^ (~t2slo21 & t2slo22)\n    s[41] = t2shi20 ^ (~t2shi21 & t2shi22)\n    s[2] = t2slo1 ^ (~t2slo2 & t2slo3)\n    s[3] = t2shi1 ^ (~t2shi2 & t2shi3)\n    s[12] = t2slo6 ^ (~t2slo7 & t2slo8)\n    s[13] = t2shi6 ^ (~t2shi7 & t2shi8)\n    s[22] = t2slo11 ^ (~t2slo12 & t2slo13)\n    s[23] = t2shi11 ^ (~t2shi12 & t2shi13)\n    s[32] = t2slo16 ^ (~t2slo17 & t2slo18)\n    s[33] = t2shi16 ^ (~t2shi17 & t2shi18)\n    s[42] = t2slo21 ^ (~t2slo22 & t2slo23)\n    s[43] = t2shi21 ^ (~t2shi22 & t2shi23)\n    s[4] = t2slo2 ^ (~t2slo3 & t2slo4)\n    s[5] = t2shi2 ^ (~t2shi3 & t2shi4)\n    s[14] = t2slo7 ^ (~t2slo8 & t2slo9)\n    s[15] = t2shi7 ^ (~t2shi8 & t2shi9)\n    s[24] = t2slo12 ^ (~t2slo13 & t2slo14)\n    s[25] = t2shi12 ^ (~t2shi13 & t2shi14)\n    s[34] = t2slo17 ^ (~t2slo18 & t2slo19)\n    s[35] = t2shi17 ^ (~t2shi18 & t2shi19)\n    s[44] = t2slo22 ^ (~t2slo23 & t2slo24)\n    s[45] = t2shi22 ^ (~t2shi23 & t2shi24)\n    s[6] = t2slo3 ^ (~t2slo4 & t2slo0)\n    s[7] = t2shi3 ^ (~t2shi4 & t2shi0)\n    s[16] = t2slo8 ^ (~t2slo9 & t2slo5)\n    s[17] = t2shi8 ^ (~t2shi9 & t2shi5)\n    s[26] = t2slo13 ^ (~t2slo14 & t2slo10)\n    s[27] = t2shi13 ^ (~t2shi14 & t2shi10)\n    s[36] = t2slo18 ^ (~t2slo19 & t2slo15)\n    s[37] = t2shi18 ^ (~t2shi19 & t2shi15)\n    s[46] = t2slo23 ^ (~t2slo24 & t2slo20)\n    s[47] = t2shi23 ^ (~t2shi24 & t2shi20)\n    s[8] = t2slo4 ^ (~t2slo0 & t2slo1)\n    s[9] = t2shi4 ^ (~t2shi0 & t2shi1)\n    s[18] = t2slo9 ^ (~t2slo5 & t2slo6)\n    s[19] = t2shi9 ^ (~t2shi5 & t2shi6)\n    s[28] = t2slo14 ^ (~t2slo10 & t2slo11)\n    s[29] = t2shi14 ^ (~t2shi10 & t2shi11)\n    s[38] = t2slo19 ^ (~t2slo15 & t2slo16)\n    s[39] = t2shi19 ^ (~t2shi15 & t2shi16)\n    s[48] = t2slo24 ^ (~t2slo20 & t2slo21)\n    s[49] = t2shi24 ^ (~t2shi20 & t2shi21)\n\n    // iota\n    s[0] ^= P1600_ROUND_CONSTANTS[round * 2]\n    s[1] ^= P1600_ROUND_CONSTANTS[round * 2 + 1]\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar secp256k1 = require('secp256k1');\nvar BN = require(\"bn.js\");\nvar bytes_1 = require(\"./bytes\");\nvar hash_1 = require(\"./hash\");\n/**\n * Returns the ECDSA signature of a message hash.\n */\nexports.ecsign = function (msgHash, privateKey, chainId) {\n    var sig = secp256k1.sign(msgHash, privateKey);\n    var recovery = sig.recovery;\n    var ret = {\n        r: sig.signature.slice(0, 32),\n        s: sig.signature.slice(32, 64),\n        v: chainId ? recovery + (chainId * 2 + 35) : recovery + 27,\n    };\n    return ret;\n};\n/**\n * ECDSA public key recovery from signature.\n * @returns Recovered public key\n */\nexports.ecrecover = function (msgHash, v, r, s, chainId) {\n    var signature = Buffer.concat([bytes_1.setLength(r, 32), bytes_1.setLength(s, 32)], 64);\n    var recovery = calculateSigRecovery(v, chainId);\n    if (!isValidSigRecovery(recovery)) {\n        throw new Error('Invalid signature v value');\n    }\n    var senderPubKey = secp256k1.recover(msgHash, signature, recovery);\n    return secp256k1.publicKeyConvert(senderPubKey, false).slice(1);\n};\n/**\n * Convert signature parameters into the format of `eth_sign` RPC method.\n * @returns Signature\n */\nexports.toRpcSig = function (v, r, s, chainId) {\n    var recovery = calculateSigRecovery(v, chainId);\n    if (!isValidSigRecovery(recovery)) {\n        throw new Error('Invalid signature v value');\n    }\n    // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n    return bytes_1.bufferToHex(Buffer.concat([bytes_1.setLengthLeft(r, 32), bytes_1.setLengthLeft(s, 32), bytes_1.toBuffer(v)]));\n};\n/**\n * Convert signature format of the `eth_sign` RPC method to signature parameters\n * NOTE: all because of a bug in geth: https://github.com/ethereum/go-ethereum/issues/2053\n */\nexports.fromRpcSig = function (sig) {\n    var buf = bytes_1.toBuffer(sig);\n    // NOTE: with potential introduction of chainId this might need to be updated\n    if (buf.length !== 65) {\n        throw new Error('Invalid signature length');\n    }\n    var v = buf[64];\n    // support both versions of `eth_sign` responses\n    if (v < 27) {\n        v += 27;\n    }\n    return {\n        v: v,\n        r: buf.slice(0, 32),\n        s: buf.slice(32, 64),\n    };\n};\n/**\n * Validate a ECDSA signature.\n * @param homesteadOrLater Indicates whether this is being used on either the homestead hardfork or a later one\n */\nexports.isValidSignature = function (v, r, s, homesteadOrLater, chainId) {\n    if (homesteadOrLater === void 0) { homesteadOrLater = true; }\n    var SECP256K1_N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n    var SECP256K1_N = new BN('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141', 16);\n    if (r.length !== 32 || s.length !== 32) {\n        return false;\n    }\n    if (!isValidSigRecovery(calculateSigRecovery(v, chainId))) {\n        return false;\n    }\n    var rBN = new BN(r);\n    var sBN = new BN(s);\n    if (rBN.isZero() || rBN.gt(SECP256K1_N) || sBN.isZero() || sBN.gt(SECP256K1_N)) {\n        return false;\n    }\n    if (homesteadOrLater && sBN.cmp(SECP256K1_N_DIV_2) === 1) {\n        return false;\n    }\n    return true;\n};\n/**\n * Returns the keccak-256 hash of `message`, prefixed with the header used by the `eth_sign` RPC call.\n * The output of this function can be fed into `ecsign` to produce the same signature as the `eth_sign`\n * call for a given `message`, or fed to `ecrecover` along with a signature to recover the public key\n * used to produce the signature.\n */\nexports.hashPersonalMessage = function (message) {\n    var prefix = Buffer.from(\"\\u0019Ethereum Signed Message:\\n\" + message.length.toString(), 'utf-8');\n    return hash_1.keccak(Buffer.concat([prefix, message]));\n};\nfunction calculateSigRecovery(v, chainId) {\n    return chainId ? v - (2 * chainId + 35) : v - 27;\n}\nfunction isValidSigRecovery(recovery) {\n    return recovery === 0 || recovery === 1;\n}\n//# sourceMappingURL=signature.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar assert = require('assert');\nvar ethjsUtil = require('ethjs-util');\nvar rlp = require(\"rlp\");\nvar bytes_1 = require(\"./bytes\");\n/**\n * Defines properties on a `Object`. It make the assumption that underlying data is binary.\n * @param self the `Object` to define properties on\n * @param fields an array fields to define. Fields can contain:\n * * `name` - the name of the properties\n * * `length` - the number of bytes the field can have\n * * `allowLess` - if the field can be less than the length\n * * `allowEmpty`\n * @param data data to be validated against the definitions\n * @deprecated\n */\nexports.defineProperties = function (self, fields, data) {\n    self.raw = [];\n    self._fields = [];\n    // attach the `toJSON`\n    self.toJSON = function (label) {\n        if (label === void 0) { label = false; }\n        if (label) {\n            var obj_1 = {};\n            self._fields.forEach(function (field) {\n                obj_1[field] = \"0x\" + self[field].toString('hex');\n            });\n            return obj_1;\n        }\n        return bytes_1.baToJSON(self.raw);\n    };\n    self.serialize = function serialize() {\n        return rlp.encode(self.raw);\n    };\n    fields.forEach(function (field, i) {\n        self._fields.push(field.name);\n        function getter() {\n            return self.raw[i];\n        }\n        function setter(v) {\n            v = bytes_1.toBuffer(v);\n            if (v.toString('hex') === '00' && !field.allowZero) {\n                v = Buffer.allocUnsafe(0);\n            }\n            if (field.allowLess && field.length) {\n                v = bytes_1.stripZeros(v);\n                assert(field.length >= v.length, \"The field \" + field.name + \" must not have more \" + field.length + \" bytes\");\n            }\n            else if (!(field.allowZero && v.length === 0) && field.length) {\n                assert(field.length === v.length, \"The field \" + field.name + \" must have byte length of \" + field.length);\n            }\n            self.raw[i] = v;\n        }\n        Object.defineProperty(self, field.name, {\n            enumerable: true,\n            configurable: true,\n            get: getter,\n            set: setter,\n        });\n        if (field.default) {\n            self[field.name] = field.default;\n        }\n        // attach alias\n        if (field.alias) {\n            Object.defineProperty(self, field.alias, {\n                enumerable: false,\n                configurable: true,\n                set: setter,\n                get: getter,\n            });\n        }\n    });\n    // if the constuctor is passed data\n    if (data) {\n        if (typeof data === 'string') {\n            data = Buffer.from(ethjsUtil.stripHexPrefix(data), 'hex');\n        }\n        if (Buffer.isBuffer(data)) {\n            data = rlp.decode(data);\n        }\n        if (Array.isArray(data)) {\n            if (data.length > self._fields.length) {\n                throw new Error('wrong number of fields in data');\n            }\n            // make sure all the items are buffers\n            data.forEach(function (d, i) {\n                self[self._fields[i]] = bytes_1.toBuffer(d);\n            });\n        }\n        else if (typeof data === 'object') {\n            var keys_1 = Object.keys(data);\n            fields.forEach(function (field) {\n                if (keys_1.indexOf(field.name) !== -1)\n                    self[field.name] = data[field.name];\n                if (keys_1.indexOf(field.alias) !== -1)\n                    self[field.alias] = data[field.alias];\n            });\n        }\n        else {\n            throw new Error('invalid data');\n        }\n    }\n};\n//# sourceMappingURL=object.js.map",";(function(global) {\n\n'use strict';\n\nvar nextTick = function (fn) { setTimeout(fn, 0); }\nif (typeof process != 'undefined' && process && typeof process.nextTick == 'function') {\n\t// node.js and the like\n\tnextTick = process.nextTick;\n}\n\nfunction semaphore(capacity) {\n\tvar semaphore = {\n\t\tcapacity: capacity || 1,\n\t\tcurrent: 0,\n\t\tqueue: [],\n\t\tfirstHere: false,\n\n\t\ttake: function() {\n\t\t\tif (semaphore.firstHere === false) {\n        \t\t\tsemaphore.current++;\n        \t\t\tsemaphore.firstHere = true;\n        \t\t\tvar isFirst = 1;\n      \t\t\t} else {\n        \t\t\tvar isFirst = 0;\n      \t\t\t}\n\t\t\tvar item = { n: 1 };\n\n\t\t\tif (typeof arguments[0] == 'function') {\n\t\t\t\titem.task = arguments[0];\n\t\t\t} else {\n\t\t\t\titem.n = arguments[0];\n\t\t\t}\n\n\t\t\tif (arguments.length >= 2)  {\n\t\t\t\tif (typeof arguments[1] == 'function') item.task = arguments[1];\n\t\t\t\telse item.n = arguments[1];\n\t\t\t}\n\n\t\t\tvar task = item.task;\n\t\t\titem.task = function() { task(semaphore.leave); };\n\n\t\t\tif (semaphore.current + item.n - isFirst > semaphore.capacity) {\n        \t\t\tif (isFirst === 1) {\n        \t\t\t\tsemaphore.current--;\n        \t\t\t\tsemaphore.firstHere = false;\n        \t\t\t}\n\t\t\t\treturn semaphore.queue.push(item);\n\t\t\t}\n\n\t\t\tsemaphore.current += item.n - isFirst;\n\t\t\titem.task(semaphore.leave);\n      \t\t\tif (isFirst === 1) semaphore.firstHere = false;\n\t\t},\n\n\t\tleave: function(n) {\n\t\t\tn = n || 1;\n\n\t\t\tsemaphore.current -= n;\n\n\t\t\tif (!semaphore.queue.length) {\n\t\t\t\tif (semaphore.current < 0) {\n\t\t\t\t\tthrow new Error('leave called too many times.');\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = semaphore.queue[0];\n\n\t\t\tif (item.n + semaphore.current > semaphore.capacity) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsemaphore.queue.shift();\n\t\t\tsemaphore.current += item.n;\n\n\t\t\tnextTick(item.task);\n\t\t},\n\n\t\tavailable: function(n) {\n\t\t\tn = n || 1;\n\t\t\treturn(semaphore.current + n <= semaphore.capacity);\n\t\t}\n\t};\n\n\treturn semaphore;\n};\n\nif (typeof exports === 'object') {\n    // node export\n    module.exports = semaphore;\n} else if (typeof define === 'function' && define.amd) {\n    // amd export\n    define(function () {\n        return semaphore;\n    });\n} else {\n    // browser global\n    global.semaphore = semaphore;\n}\n}(this));\n","const createPayload = require('./create-payload.js')\n\nmodule.exports = estimateGas\n\n/*\n\nThis is a work around for https://github.com/ethereum/go-ethereum/issues/2577\n\n*/\n\n\nfunction estimateGas(provider, txParams, cb) {\n  provider.sendAsync(createPayload({\n    method: 'eth_estimateGas',\n    params: [txParams]\n  }), function(err, res){\n    if (err) {\n      // handle simple value transfer case\n      if (err.message === 'no contract code at given address') {\n        return cb(null, '0xcf08')\n      } else {\n        return cb(err)        \n      }\n    }\n    cb(null, res.result)\n  })\n}","const xhr = process.browser ? require('xhr') : require('request')\nconst inherits = require('util').inherits\nconst createPayload = require('../util/create-payload.js')\nconst Subprovider = require('./subprovider.js')\nconst { ethErrors, serializeError } = require('eth-json-rpc-errors')\n\n\nmodule.exports = RpcSource\n\ninherits(RpcSource, Subprovider)\n\nfunction RpcSource(opts) {\n  const self = this\n  self.rpcUrl = opts.rpcUrl\n}\n\nRpcSource.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  const targetUrl = self.rpcUrl\n\n  // overwrite id to conflict with other concurrent users\n  let newPayload = createPayload(payload)\n\n  xhr({\n    uri: targetUrl,\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(newPayload),\n    rejectUnauthorized: false,\n    timeout: 20000,\n  }, function(err, res, body) {\n    if (err) return end(serializeError(err))\n\n    // check for error code\n    switch (res.statusCode) {\n      case 405:\n        return end(ethErrors.rpc.methodNotFound())\n      case 504: // Gateway timeout\n        return (function(){\n          let msg = `Gateway timeout. The request took too long to process. `\n          msg += `This can happen when querying logs over too wide a block range.`\n          const err = new Error(msg)\n          return end(serializeError(err))\n        })()\n      case 429: // Too many requests (rate limiting)\n        return (function(){\n          const err = new Error(`Too Many Requests`)\n          return end(serializeError(err))\n        })()\n      default:\n        if (res.statusCode != 200) {\n          const msg = 'Unknown Error: ' + res.body\n          const err = new Error(msg)\n          return end(serializeError(err))\n        }\n    }\n\n    // parse response\n    let data\n    try {\n      data = JSON.parse(body)\n    } catch (err) {\n      console.error(err.stack)\n      return end(serializeError(err))\n    }\n    if (data.error) return end(data.error)\n\n    end(null, data.result)\n  })\n}\n","\nconst { EthereumRpcError, EthereumProviderError } = require('./src/classes')\nconst {\n  serializeError, getMessageFromCode,\n} = require('./src/utils')\nconst ethErrors = require('./src/errors')\nconst ERROR_CODES = require('./src/errorCodes.json')\n\nmodule.exports = {\n  ethErrors,\n  EthereumRpcError,\n  EthereumProviderError,\n  serializeError,\n  getMessageFromCode,\n  /** @type ErrorCodes */\n  ERROR_CODES,\n}\n\n// Types\n\n/**\n * @typedef {Object} EthereumProviderErrorCodes\n * @property {number} userRejectedRequest\n * @property {number} unauthorized\n * @property {number} unsupportedMethod\n */\n\n/**\n * @typedef {Object} EthereumRpcErrorCodes\n * @property {number} parse\n * @property {number} invalidRequest\n * @property {number} invalidParams\n * @property {number} methodNotFound\n * @property {number} internal\n * @property {number} invalidInput\n * @property {number} resourceNotFound\n * @property {number} resourceUnavailable\n * @property {number} transactionRejected\n * @property {number} methodNotSupported\n */\n\n/**\n * @typedef ErrorCodes\n * @property {EthereumRpcErrorCodes} rpc\n * @property {EthereumProviderErrorCodes} provider\n */\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar arr = []\nvar replacerStack = []\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer) {\n  decirc(obj, '', [], undefined)\n  var res\n  if (replacerStack.length === 0) {\n    res = JSON.stringify(obj, replacer, spacer)\n  } else {\n    res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n  }\n  while (arr.length !== 0) {\n    var part = arr.pop()\n    if (part.length === 4) {\n      Object.defineProperty(part[0], part[1], part[3])\n    } else {\n      part[0][part[1]] = part[2]\n    }\n  }\n  return res\n}\nfunction decirc (val, k, stack, parent) {\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n        if (propertyDescriptor.get !== undefined) {\n          if (propertyDescriptor.configurable) {\n            Object.defineProperty(parent, k, { value: '[Circular]' })\n            arr.push([parent, k, val, propertyDescriptor])\n          } else {\n            replacerStack.push([val, k])\n          }\n        } else {\n          parent[k] = '[Circular]'\n          arr.push([parent, k, val])\n        }\n        return\n      }\n    }\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, stack, val)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, stack, val)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer) {\n  var tmp = deterministicDecirc(obj, '', [], undefined) || obj\n  var res\n  if (replacerStack.length === 0) {\n    res = JSON.stringify(tmp, replacer, spacer)\n  } else {\n    res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n  }\n  while (arr.length !== 0) {\n    var part = arr.pop()\n    if (part.length === 4) {\n      Object.defineProperty(part[0], part[1], part[3])\n    } else {\n      part[0][part[1]] = part[2]\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, stack, parent) {\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n        if (propertyDescriptor.get !== undefined) {\n          if (propertyDescriptor.configurable) {\n            Object.defineProperty(parent, k, { value: '[Circular]' })\n            arr.push([parent, k, val, propertyDescriptor])\n          } else {\n            replacerStack.push([val, k])\n          }\n        } else {\n          parent[k] = '[Circular]'\n          arr.push([parent, k, val])\n        }\n        return\n      }\n    }\n    if (typeof val.toJSON === 'function') {\n      return\n    }\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, stack, val)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, stack, val)\n        tmp[key] = val[key]\n      }\n      if (parent !== undefined) {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as [Circular]\nfunction replaceGetterValues (replacer) {\n  replacer = replacer !== undefined ? replacer : function (k, v) { return v }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = '[Circular]'\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","\nconst { EthereumRpcError, EthereumProviderError } = require('./classes')\nconst { getMessageFromCode } = require('./utils')\nconst ERROR_CODES = require('./errorCodes.json')\n\nmodule.exports = {\n  rpc: {\n    /**\n     * Get a JSON RPC 2.0 Parse (-32700) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    parse: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.parse, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    invalidRequest: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.invalidRequest, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    invalidParams: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.invalidParams, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    methodNotFound: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.methodNotFound, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Internal (-32603) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    internal: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.internal, opts\n    ),\n\n    /**\n     * Get a JSON RPC 2.0 Server error.\n     * Permits integer error codes in the [ -32099 <= -32005 ] range.\n     * Codes -32000 through -32004 are reserved by EIP 1474.\n     * \n     * @param {Object|string} opts - Options object\n     * @param {number} opts.code - The error code\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    server: (opts) => {\n      if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n        throw new Error('Ethereum RPC Server errors must provide single object argument.')\n      }\n      const { code } = opts\n      if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n        throw new Error(\n          '\"code\" must be an integer such that: -32099 <= code <= -32005'\n        )\n      }\n      return getEthJsonRpcError(code, opts)\n    },\n\n    /**\n     * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    invalidInput: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.invalidInput, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    resourceNotFound: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.resourceNotFound, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    resourceUnavailable: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.resourceUnavailable, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    transactionRejected: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.transactionRejected, opts\n    ),\n\n    /**\n     * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumRpcError} The error\n     */\n    methodNotSupported: (opts) => getEthJsonRpcError(\n      ERROR_CODES.rpc.methodNotSupported, opts\n    ),\n  },\n\n  provider: {\n    /**\n     * Get an Ethereum Provider User Rejected Request (4001) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    userRejectedRequest: (opts) => {\n      return getEthProviderError(\n        ERROR_CODES.provider.userRejectedRequest, opts\n      )\n    },\n\n    /**\n     * Get an Ethereum Provider Unauthorized (4100) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    unauthorized: (opts) => {\n      return getEthProviderError(\n        ERROR_CODES.provider.unauthorized, opts\n      )\n    },\n\n    /**\n     * Get an Ethereum Provider Unsupported Method (4200) error.\n     * \n     * @param {Object|string} [opts] - Options object or error message string\n     * @param {string} [opts.message] - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    unsupportedMethod: (opts) => {\n      return getEthProviderError(\n        ERROR_CODES.provider.unsupportedMethod, opts\n      )\n    },\n\n    /**\n     * Get a custom Ethereum Provider error.\n     * \n     * @param {Object|string} opts - Options object\n     * @param {number} opts.code - The error code\n     * @param {string} opts.message - The error message\n     * @param {any} [opts.data] - Error data\n     * @returns {EthereumProviderError} The error\n     */\n    custom: (opts) => {\n      if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n        throw new Error('Ethereum Provider custom errors must provide single object argument.')\n      }\n      const { code, message, data } = opts\n      if (!message || typeof message !== 'string') throw new Error(\n        '\"message\" must be a nonempty string'\n      )\n      return new EthereumProviderError(code, message, data)\n    },\n  },\n}\n\n// Internal\n\nfunction getEthJsonRpcError(code, opts) {\n  const [ message, data ] = validateOpts(opts)\n  return new EthereumRpcError(\n    code,\n    message || getMessageFromCode(code),\n    data\n  )\n}\n\nfunction getEthProviderError(code, opts) {\n  const [ message, data ] = validateOpts(opts)\n  return new EthereumProviderError(\n    code,\n    message || getMessageFromCode(code),\n    data\n  )\n}\n\nfunction validateOpts (opts) {\n  let message, data\n  if (opts) {\n    if (typeof opts === 'string') {\n      message = opts\n    } else if (typeof opts === 'object' && !Array.isArray(opts)) {\n      message = opts.message\n      data = opts.data\n    }\n  }\n  return [ message, data ]\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createSubscriptionManager = require('eth-json-rpc-filters/subscriptionManager')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      const { events, middleware } = createSubscriptionManager({ blockTracker, provider })\n      // forward subscription events on the engine\n      events.on('notification', (data) => engine.emit('data', null, data))\n      // return the subscription install/remove middleware\n      return middleware\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","const SafeEventEmitter = require('safe-event-emitter')\nconst createScaffoldMiddleware = require('eth-json-rpc-middleware/scaffold')\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\nconst createFilterMiddleware = require('./index.js')\nconst { unsafeRandomBytes, incrementHexInt } = require('./hexUtils.js')\nconst getBlocksForRange = require('./getBlocksForRange.js')\n\nmodule.exports = createSubscriptionMiddleware\n\n\nfunction createSubscriptionMiddleware({ blockTracker, provider }) {\n  // state and utilities for handling subscriptions\n  const subscriptions = {}\n  const filterManager = createFilterMiddleware({ blockTracker, provider })\n\n  // internal flag\n  let isDestroyed = false\n\n  // create subscriptionManager api object\n  const events = new SafeEventEmitter()\n  const middleware = createScaffoldMiddleware({\n    eth_subscribe: createAsyncMiddleware(subscribe),\n    eth_unsubscribe: createAsyncMiddleware(unsubscribe),\n  })\n  middleware.destroy = destroy\n  return { events, middleware }\n\n  async function subscribe(req, res) {\n\n    if (isDestroyed) throw new Error(\n      'SubscriptionManager - attempting to use after destroying'\n    )\n\n    const subscriptionType = req.params[0]\n    // subId is 16 byte hex string\n    const subId = unsafeRandomBytes(16)\n\n    // create sub\n    let sub\n    switch (subscriptionType) {\n      case 'newHeads':\n        sub = createSubNewHeads({ subId })\n        break\n      case 'logs':\n        const filterParams = req.params[1]\n        const filter = await filterManager.newLogFilter(filterParams)\n        sub = createSubFromFilter({ subId, filter })\n        break\n      default:\n        throw new Error(`SubscriptionManager - unsupported subscription type \"${subscriptionType}\"`)\n\n    }\n    subscriptions[subId] = sub\n\n    res.result = subId\n    return\n\n    function createSubNewHeads({ subId }) {\n      const sub = {\n        type: subscriptionType,\n        destroy: async () => {\n          blockTracker.removeListener('sync', sub.update)\n        },\n        update: async ({ oldBlock, newBlock }) => {\n          // for newHeads\n          const toBlock = newBlock\n          const fromBlock = incrementHexInt(oldBlock)\n          const rawBlocks = await getBlocksForRange({ provider, fromBlock, toBlock })\n          const results = rawBlocks.map(normalizeBlock)\n          results.forEach((value) => {\n            _emitSubscriptionResult(subId, value)\n          })\n        }\n      }\n      // check for subscription updates on new block\n      blockTracker.on('sync', sub.update)\n      return sub\n    }\n\n    function createSubFromFilter({ subId, filter }){\n      filter.on('update', result => _emitSubscriptionResult(subId, result))\n      const sub = {\n        type: subscriptionType,\n        destroy: async () => {\n          return await filterManager.uninstallFilter(filter.idHex)\n        },\n      }\n      return sub\n    }\n  }\n\n  async function unsubscribe(req, res) {\n\n    if (isDestroyed) throw new Error(\n      'SubscriptionManager - attempting to use after destroying'\n    )\n\n    const id = req.params[0]\n    const subscription = subscriptions[id]\n    // if missing, return \"false\" to indicate it was not removed\n    if (!subscription) {\n      res.result = false\n      return\n    }\n    // cleanup subscription\n    delete subscriptions[id]\n    await subscription.destroy()\n    res.result = true\n  }\n\n  function _emitSubscriptionResult(filterIdHex, value) {\n    events.emit('notification', {\n      jsonrpc: '2.0',\n      method: 'eth_subscription',\n      params: {\n        subscription: filterIdHex,\n        result: value,\n      },\n    })\n  }\n\n  function destroy () {\n    events.removeAllListeners()\n    for (const id in subscriptions) {\n      subscriptions[id].destroy()\n      delete subscriptions[id]\n    }\n    isDestroyed = true\n  }\n}\n\nfunction normalizeBlock(block) {\n  return {\n    hash: block.hash,\n    parentHash: block.parentHash,\n    sha3Uncles: block.sha3Uncles,\n    miner: block.miner,\n    stateRoot: block.stateRoot,\n    transactionsRoot: block.transactionsRoot,\n    receiptsRoot: block.receiptsRoot,\n    logsBloom: block.logsBloom,\n    difficulty: block.difficulty,\n    number: block.number,\n    gasLimit: block.gasLimit,\n    gasUsed: block.gasUsed,\n    nonce: block.nonce,\n    mixHash: block.mixHash,\n    timestamp: block.timestamp,\n    extraData: block.extraData,\n  }\n}\n","module.exports = createScaffoldMiddleware\n\nfunction createScaffoldMiddleware (handlers) {\n  return (req, res, next, end) => {\n    const handler = handlers[req.method]\n    // if no handler, return\n    if (handler === undefined) {\n      return next()\n    }\n    // if handler is fn, call as middleware\n    if (typeof handler === 'function') {\n      return handler(req, res, next, end)\n    }\n    // if handler is some other value, use as result\n    res.result = handler\n    end()\n  }\n}\n","\"use strict\";\nclass Semaphore {\n    constructor(count) {\n        this.tasks = [];\n        this.count = count;\n    }\n    sched() {\n        if (this.count > 0 && this.tasks.length > 0) {\n            this.count--;\n            let next = this.tasks.shift();\n            if (next === undefined) {\n                throw \"Unexpected undefined value in tasks list\";\n            }\n            next();\n        }\n    }\n    acquire() {\n        return new Promise((res, rej) => {\n            var task = () => {\n                var released = false;\n                res(() => {\n                    if (!released) {\n                        released = true;\n                        this.count++;\n                        this.sched();\n                    }\n                });\n            };\n            this.tasks.push(task);\n            if (process && process.nextTick) {\n                process.nextTick(this.sched.bind(this));\n            }\n            else {\n                setImmediate(this.sched.bind(this));\n            }\n        });\n    }\n    use(f) {\n        return this.acquire()\n            .then(release => {\n            return f()\n                .then((res) => {\n                release();\n                return res;\n            })\n                .catch((err) => {\n                release();\n                throw err;\n            });\n        });\n    }\n}\nexports.Semaphore = Semaphore;\nclass Mutex extends Semaphore {\n    constructor() {\n        super(1);\n    }\n}\nexports.Mutex = Mutex;\n//# sourceMappingURL=index.js.map","const EthQuery = require('eth-query')\nconst pify = require('pify')\nconst BaseFilterWithHistory = require('./base-filter-history')\nconst { bnToHex, hexToInt, incrementHexInt, minBlockRef, blockRefIsNumber } = require('./hexUtils')\n\nclass LogFilter extends BaseFilterWithHistory {\n\n  constructor ({ provider, params }) {\n    super()\n    this.type = 'log'\n    this.ethQuery = new EthQuery(provider)\n    this.params = Object.assign({\n      fromBlock: 'latest',\n      toBlock: 'latest',\n      address: undefined,\n      topics: [],\n    }, params)\n    // normalize address parameter\n    if (this.params.address) {\n      // ensure array\n      if (!Array.isArray(this.params.address)) {\n        this.params.address = [this.params.address]\n      }\n      // ensure lowercase\n      this.params.address = this.params.address.map(address => address.toLowerCase())\n    }\n  }\n\n  async initialize({ currentBlock }) {\n    // resolve params.fromBlock\n    let fromBlock = this.params.fromBlock\n    if (['latest', 'pending'].includes(fromBlock)) fromBlock = currentBlock\n    if ('earliest' === fromBlock) fromBlock = '0x0'\n    this.params.fromBlock = fromBlock\n    // set toBlock for initial lookup\n    const toBlock = minBlockRef(this.params.toBlock, currentBlock)\n    const params = Object.assign({}, this.params, { toBlock })\n    // fetch logs and add to results\n    const newLogs = await this._fetchLogs(params)\n    this.addInitialResults(newLogs)\n  }\n\n  async update ({ oldBlock, newBlock }) {\n    // configure params for this update\n    const toBlock = newBlock\n    let fromBlock\n    // oldBlock is empty on first sync\n    if (oldBlock) {\n      fromBlock = incrementHexInt(oldBlock)\n    } else {\n      fromBlock = newBlock\n    }\n    // fetch logs\n    const params = Object.assign({}, this.params, { fromBlock, toBlock })\n    const newLogs = await this._fetchLogs(params)\n    const matchingLogs = newLogs.filter(log => this.matchLog(log))\n\n    // add to results\n    this.addResults(matchingLogs)\n  }\n\n  async _fetchLogs (params) {\n    const newLogs = await pify(cb => this.ethQuery.getLogs(params, cb))()\n    // add to results\n    return newLogs\n  }\n\n  matchLog(log) {\n    // check if block number in bounds:\n    if (hexToInt(this.params.fromBlock) >= hexToInt(log.blockNumber)) return false\n    if (blockRefIsNumber(this.params.toBlock) && hexToInt(this.params.toBlock) <= hexToInt(log.blockNumber)) return false\n\n    // address is correct:\n    const normalizedLogAddress = log.address && log.address.toLowerCase()\n    if (this.params.address && normalizedLogAddress && !this.params.address.includes(normalizedLogAddress)) return false\n\n    // topics match:\n    // topics are position-dependant\n    // topics can be nested to represent `or` [[a || b], c]\n    // topics can be null, representing a wild card for that position\n    const topicsMatch = this.params.topics.every((topicPattern, index) => {\n      // pattern is longer than actual topics\n      let logTopic = log.topics[index]\n      if (!logTopic) return false\n      logTopic = logTopic.toLowerCase()\n      // normalize subTopics\n      let subtopicsToMatch = Array.isArray(topicPattern) ? topicPattern : [topicPattern]\n      // check for wild card\n      const subtopicsIncludeWildcard = subtopicsToMatch.includes(null)\n      if (subtopicsIncludeWildcard) return true\n      subtopicsToMatch = subtopicsToMatch.map(topic => topic.toLowerCase())\n      // check each possible matching topic\n      const topicDoesMatch = subtopicsToMatch.includes(logTopic)\n      return topicDoesMatch\n    })\n\n    return topicsMatch\n  }\n\n}\n\nmodule.exports = LogFilter\n","const BaseFilter = require('./base-filter')\n\n// tracks all results ever recorded\nclass BaseFilterWithHistory extends BaseFilter {\n\n  constructor () {\n    super()\n    this.allResults = []\n  }\n\n  async update () {\n    throw new Error('BaseFilterWithHistory - no update method specified')\n  }\n\n  addResults (newResults) {\n    this.allResults = this.allResults.concat(newResults)\n    super.addResults(newResults)\n  }\n\n  addInitialResults (newResults) {\n    this.allResults = this.allResults.concat(newResults)\n    super.addInitialResults(newResults)\n  }\n\n  getAllResults () {\n    return this.allResults\n  }\n\n}\n\nmodule.exports = BaseFilterWithHistory","const BaseFilter = require('./base-filter')\nconst getBlocksForRange = require('./getBlocksForRange')\nconst { incrementHexInt } = require('./hexUtils')\n\nclass BlockFilter extends BaseFilter {\n\n  constructor ({ provider, params }) {\n    super()\n    this.type = 'block'\n    this.provider = provider\n  }\n\n  async update ({ oldBlock, newBlock }) {\n    const toBlock = newBlock\n    const fromBlock = incrementHexInt(oldBlock)\n    const blockBodies = await getBlocksForRange({ provider: this.provider, fromBlock, toBlock })\n    const blockHashes = blockBodies.map((block) => block.hash)\n    this.addResults(blockHashes)\n  }\n\n}\n\nmodule.exports = BlockFilter\n","const flatMap = require('lodash.flatmap')\nconst BaseFilter = require('./base-filter')\nconst getBlocksForRange = require('./getBlocksForRange')\nconst { incrementHexInt } = require('./hexUtils')\n\nclass TxFilter extends BaseFilter {\n\n  constructor ({ provider }) {\n    super()\n    this.type = 'tx'\n    this.provider = provider\n  }\n\n  async update ({ oldBlock }) {\n    const toBlock = oldBlock\n    const fromBlock = incrementHexInt(oldBlock)\n    const blocks = await getBlocksForRange({ provider: this.provider, fromBlock, toBlock })\n    const blockTxHashes = flatMap(blocks, (block) => block.transactions)\n    // add to results\n    this.addResults(blockTxHashes)\n  }\n\n}\n\nmodule.exports = TxFilter\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {boolean} [bitmask] The bitmask of comparison flags.\n *  The bitmask may be composed of the following flags:\n *     1 - Unordered comparison\n *     2 - Partial comparison\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, bitmask, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = getTag(object);\n    objTag = objTag == argsTag ? objectTag : objTag;\n  }\n  if (!othIsArr) {\n    othTag = getTag(other);\n    othTag = othTag == argsTag ? objectTag : othTag;\n  }\n  var objIsObj = objTag == objectTag && !isHostObject(object),\n      othIsObj = othTag == objectTag && !isHostObject(other),\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)\n      : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n  }\n  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n}\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n  };\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & UNORDERED_COMPARE_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!seen.has(othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n              return seen.add(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, customizer, bitmask, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= UNORDERED_COMPARE_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var result,\n      index = -1,\n      length = path.length;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result) {\n    return result;\n  }\n  var length = object ? object.length : 0;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = flatMap;\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createFilterMiddleware = require('eth-json-rpc-filters')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      return createFilterMiddleware({ blockTracker, provider })\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","const privateKeyToPublicKey = require('ethereum-private-key-to-public-key')\nconst publicKeyToAddress  = require('ethereum-public-key-to-address')\n\nfunction privateKeyToAddress (privateKey) {\n  if (!Buffer.isBuffer(privateKey)) {\n    if (typeof privateKey !== 'string') {\n      throw new Error('Expected Buffer or string as argument')\n    }\n\n    privateKey = privateKey.slice(0, 2) === '0x' ? privateKey.slice(2) : privateKey\n    privateKey = Buffer.from(privateKey, 'hex')\n  }\n\n  return publicKeyToAddress(privateKeyToPublicKey(privateKey))\n}\n\nmodule.exports = privateKeyToAddress\n","const { publicKeyCreate } = require('secp256k1')\n\nfunction privateKeyToPublicKey (privateKey) {\n  if (!Buffer.isBuffer(privateKey)) {\n    if (typeof privateKey !== 'string') {\n      throw new Error('Expected Buffer or string as argument')\n    }\n\n    privateKey = privateKey.slice(0, 2) === '0x' ? privateKey.slice(2) : privateKey\n    privateKey = Buffer.from(privateKey, 'hex')\n  }\n\n  return publicKeyCreate(privateKey, false)\n}\n\nmodule.exports = privateKeyToPublicKey\n","const { publicKeyConvert } = require('secp256k1')\nconst keccak256 = require('keccak256')\nconst { toChecksumAddress } = require('ethereum-checksum-address')\n\nfunction publicKeyToAddress (publicKey) {\n  if (!Buffer.isBuffer(publicKey)) {\n    if (typeof publicKey !== 'string') {\n      throw new Error('Expected Buffer or string as argument')\n    }\n\n    publicKey = publicKey.slice(0, 2) === '0x' ? publicKey.slice(2) : publicKey\n    publicKey = Buffer.from(publicKey, 'hex')\n  }\n\n  publicKey = publicKeyConvert(publicKey, false).slice(1)\n  return toChecksumAddress(keccak256(publicKey).slice(-20).toString('hex'))\n}\n\nmodule.exports = publicKeyToAddress\n","const keccak256 = require('keccak256')\n\nfunction toChecksumAddress (address, chainId = null) {\n  if (typeof address !== 'string') {\n    return ''\n  }\n\n  if (!/^(0x)?[0-9a-f]{40}$/i.test(address)) { throw new Error(`Given address \"${address}\" is not a valid Ethereum address.`) }\n\n  const stripAddress = stripHexPrefix(address).toLowerCase()\n  const prefix = chainId != null ? chainId.toString() + '0x' : ''\n  const keccakHash = keccak256(prefix + stripAddress)\n    .toString('hex')\n    .replace(/^0x/i, '')\n  let checksumAddress = '0x'\n\n  for (let i = 0; i < stripAddress.length; i++) { checksumAddress += parseInt(keccakHash[i], 16) >= 8 ? stripAddress[i].toUpperCase() : stripAddress[i] }\n\n  return checksumAddress\n}\n\nfunction checkAddressChecksum (address, chainId = null) {\n  const stripAddress = stripHexPrefix(address).toLowerCase()\n  const prefix = chainId != null ? chainId.toString() + '0x' : ''\n  const keccakHash = keccak256(prefix + stripAddress)\n    .toString('hex')\n    .replace(/^0x/i, '')\n\n  for (let i = 0; i < stripAddress.length; i++) {\n    let output = parseInt(keccakHash[i], 16) >= 8 ? stripAddress[i].toUpperCase() : stripAddress[i]\n    if (stripHexPrefix(address)[i] !== output) {\n      return false\n    }\n  }\n  return true\n};\n\nfunction stripHexPrefix (string) {\n  return string.slice(0, 2) === '0x' ? string.slice(2) : string\n};\n\nmodule.exports = {\n  toChecksumAddress,\n  checkAddressChecksum\n}\n","const normalizeHex = require('normalize-hex')\n\nfunction toHex (value, opts = {}) {\n  opts = {\n    size: 0,\n    addPrefix: false,\n    evenLength: false,\n    default: '',\n    ...opts\n  }\n\n  var result = ''\n\n  if (opts.default !== '') {\n    result = opts.default\n  }\n\n  if (value === '' || value === undefined || value === null) {\n    value = result\n  }\n\n  if (value === '0') {\n    value = 0\n  }\n\n  if (value === undefined || value === null) {\n      // noop\n  } else if (typeof value === 'number') {\n    result = value.toString(16)\n  } else if (typeof value === 'string') {\n    value = value.trim()\n    if (value.startsWith('0x')) {\n      result = normalizeHex(value)\n    } else if (value !== '' && Number.isFinite(+value)) {\n      result = Number(value).toString(16)\n    }\n\n    if (result === opts.default) {\n      result = Buffer.from(value, 'utf8').toString('hex')\n    }\n  } else if (typeof value === 'boolean') {\n    result = value ? '1' : '0'\n  } else if (typeof value === 'object' && value !== null) {\n    if (Buffer.isBuffer(value)) {\n      result = value.toString('hex')\n    } else if (/(BN|BigNumber|Big|Decimal)/.test(value.constructor.name)) {\n      result = value.toString(16)\n    } else if (value instanceof Uint8Array) {\n      result = Buffer.from([\n        ...value\n      ]).toString('hex')\n    } else if (value.toString && typeof value.toString === 'function') {\n      try {\n        const h = value.toString(16)\n        if (/^[a-fA-F0-9]+$/.test(h)) {\n          result = h\n        }\n      } catch (err) {\n        // noop\n      }\n    }\n  }\n\n  if (typeof result === 'string') {\n    result = result.toLowerCase()\n\n    if (opts.size > result.length) {\n      result = `${'0'.repeat(opts.size - result.length)}${result}`\n    }\n\n    if (opts.evenLength && result.length % 2) {\n      result = `0${result}`\n    }\n\n    if (opts.addPrefix) {\n      result = `0x${result}`\n    }\n  }\n\n  return result\n}\n\nmodule.exports = toHex\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function normalizeHex (hex, opts) {\n  opts = {\n    evenLength: false,\n    addPrefix: false,\n    ...opts\n  }\n\n  let value = ''\n\n  if (Buffer.isBuffer(hex)) {\n    hex = hex.toString('hex')\n  }\n\n  if (typeof hex === 'number') {\n    hex = hex.toString()\n  }\n\n  if (typeof hex === 'string') {\n    value = hex.toLowerCase()\n  }\n\n  if (value.startsWith('0x')) {\n    value = value.slice(2)\n  }\n\n  const data = (value.length % 2) ? `0${value}` : value\n  if (Buffer.from(data, 'hex')) {\n    value = opts.evenLength ? data : value\n  }\n\n  if (opts.addPrefix) {\n    value = `0x${value}`\n  }\n\n  return value\n}\n\nmodule.exports = normalizeHex\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uuid_1 = require(\"uuid\");\nconst uuidv4 = function () {\n    return uuid_1.v4();\n};\nexports.uuid = uuidv4;\nconst regex = {\n    v4: /(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,\n    v5: /(?:^[a-f0-9]{8}-[a-f0-9]{4}-5[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u\n};\nexports.regex = regex;\nconst isUuid = function (value) {\n    return regex.v4.test(value) || regex.v5.test(value);\n};\nexports.isUuid = isUuid;\nconst empty = function () {\n    return '00000000-0000-0000-0000-000000000000';\n};\nexports.empty = empty;\nconst fromString = function (text) {\n    const namespace = 'bb5d0ffa-9a4c-4d7c-8fc2-0a7d2220ba45';\n    const uuidFromString = uuid_1.v5(text, namespace);\n    return uuidFromString;\n};\nexports.fromString = fromString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tld = 'authereum.com';\nexports.defaultConfig = {\n    xsUri(network) {\n        const s = network === 'mainnet' ? '' : `${network}.`;\n        return `https://${s}x.${tld}`;\n    }\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ethers = __importStar(require(\"ethers\"));\nconst AuthereumSDK_1 = __importDefault(require(\"./AuthereumSDK\"));\nclass AuthereumSigner extends ethers.Signer {\n    constructor(config) {\n        super();\n        this.config = config || {};\n        this.authereum = new AuthereumSDK_1.default(this.config);\n        this.provider = this.authereum.getProvider();\n    }\n    getAddress() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.authereum.getAccountAddress();\n        });\n    }\n    signMessage(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.provider.sign(message);\n        });\n    }\n    sign(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.provider.sign(transaction);\n        });\n    }\n    sendTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.provider.sendTransaction(transaction);\n        });\n    }\n    sendTransactionBatch(transactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.provider.sendTransactionBatch(transactions);\n        });\n    }\n    estimateGasBatch(transactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.provider.estimateGasBatch(transactions);\n        });\n    }\n}\nexports.default = AuthereumSigner;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nexport default v1;","import bytesToUuid from './bytesToUuid.js';\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  var bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = new Array(str.length);\n\n  for (var i = 0; i < str.length; i++) {\n    bytes[i] = str.charCodeAt(i);\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  var generateUUID = function generateUUID(value, namespace, buf, offset) {\n    var off = buf && offset || 0;\n    if (typeof value == 'string') value = stringToBytes(value);\n    if (typeof namespace == 'string') namespace = uuidToBytes(namespace);\n    if (!Array.isArray(value)) throw TypeError('value must be an array of bytes');\n    if (!Array.isArray(namespace) || namespace.length !== 16) throw TypeError('namespace must be uuid string or an Array of 16 byte values'); // Per 4.3\n\n    var bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (var idx = 0; idx < 16; ++idx) {\n        buf[off + idx] = bytes[idx];\n      }\n    }\n\n    return buf || bytesToUuid(bytes);\n  }; // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name;\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var i;\n  var x;\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n  var hex;\n\n  for (i = 0; i < length32; i += 8) {\n    x = input[i >> 5] >>> i % 32 & 0xff;\n    hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[(len + 64 >>> 9 << 4) + 14] = len;\n  var i;\n  var olda;\n  var oldb;\n  var oldc;\n  var oldd;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (i = 0; i < x.length; i += 16) {\n    olda = a;\n    oldb = b;\n    oldc = c;\n    oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  var i;\n  var output = [];\n  output[(input.length >> 2) - 1] = undefined;\n\n  for (i = 0; i < output.length; i += 1) {\n    output[i] = 0;\n  }\n\n  var length8 = input.length * 8;\n\n  for (i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var i = 0; i < N; i++) {\n    M[i] = new Array(16);\n\n    for (var j = 0; j < 16; j++) {\n      M[i][j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var i = 0; i < N; i++) {\n    var W = new Array(80);\n\n    for (var t = 0; t < 16; t++) {\n      W[t] = M[i][t];\n    }\n\n    for (var t = 16; t < 80; t++) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var t = 0; t < 80; t++) {\n      var s = Math.floor(t / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ethjsUtil = require('ethjs-util');\nvar BN = require(\"bn.js\");\n/**\n * Returns a buffer filled with 0s.\n * @param bytes the number of bytes the buffer should be\n */\nexports.zeros = function (bytes) {\n    return Buffer.allocUnsafe(bytes).fill(0);\n};\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param msg the value to pad (Buffer|Array)\n * @param length the number of bytes the output should be\n * @param right whether to start padding form the left or right\n * @return (Buffer|Array)\n */\nexports.setLengthLeft = function (msg, length, right) {\n    if (right === void 0) { right = false; }\n    var buf = exports.zeros(length);\n    msg = exports.toBuffer(msg);\n    if (right) {\n        if (msg.length < length) {\n            msg.copy(buf);\n            return buf;\n        }\n        return msg.slice(0, length);\n    }\n    else {\n        if (msg.length < length) {\n            msg.copy(buf, length - msg.length);\n            return buf;\n        }\n        return msg.slice(-length);\n    }\n};\nexports.setLength = exports.setLengthLeft;\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param msg the value to pad (Buffer|Array)\n * @param length the number of bytes the output should be\n * @return (Buffer|Array)\n */\nexports.setLengthRight = function (msg, length) {\n    return exports.setLength(msg, length, true);\n};\n/**\n * Trims leading zeros from a `Buffer` or an `Array`.\n * @param a (Buffer|Array|String)\n * @return (Buffer|Array|String)\n */\nexports.unpad = function (a) {\n    a = ethjsUtil.stripHexPrefix(a);\n    var first = a[0];\n    while (a.length > 0 && first.toString() === '0') {\n        a = a.slice(1);\n        first = a[0];\n    }\n    return a;\n};\nexports.stripZeros = exports.unpad;\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param v the value\n */\nexports.toBuffer = function (v) {\n    if (!Buffer.isBuffer(v)) {\n        if (Array.isArray(v)) {\n            v = Buffer.from(v);\n        }\n        else if (typeof v === 'string') {\n            if (ethjsUtil.isHexString(v)) {\n                v = Buffer.from(ethjsUtil.padToEven(ethjsUtil.stripHexPrefix(v)), 'hex');\n            }\n            else {\n                throw new Error(\"Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: \" + v);\n            }\n        }\n        else if (typeof v === 'number') {\n            v = ethjsUtil.intToBuffer(v);\n        }\n        else if (v === null || v === undefined) {\n            v = Buffer.allocUnsafe(0);\n        }\n        else if (BN.isBN(v)) {\n            v = v.toArrayLike(Buffer);\n        }\n        else if (v.toArray) {\n            // converts a BN to a Buffer\n            v = Buffer.from(v.toArray());\n        }\n        else {\n            throw new Error('invalid type');\n        }\n    }\n    return v;\n};\n/**\n * Converts a `Buffer` to a `Number`.\n * @param buf `Buffer` object to convert\n * @throws If the input number exceeds 53 bits.\n */\nexports.bufferToInt = function (buf) {\n    return new BN(exports.toBuffer(buf)).toNumber();\n};\n/**\n * Converts a `Buffer` into a `0x`-prefixed hex `String`.\n * @param buf `Buffer` object to convert\n */\nexports.bufferToHex = function (buf) {\n    buf = exports.toBuffer(buf);\n    return '0x' + buf.toString('hex');\n};\n/**\n * Interprets a `Buffer` as a signed integer and returns a `BN`. Assumes 256-bit numbers.\n * @param num Signed integer value\n */\nexports.fromSigned = function (num) {\n    return new BN(num).fromTwos(256);\n};\n/**\n * Converts a `BN` to an unsigned integer and returns it as a `Buffer`. Assumes 256-bit numbers.\n * @param num\n */\nexports.toUnsigned = function (num) {\n    return Buffer.from(num.toTwos(256).toArray());\n};\n/**\n * Adds \"0x\" to a given `String` if it does not already start with \"0x\".\n */\nexports.addHexPrefix = function (str) {\n    if (typeof str !== 'string') {\n        return str;\n    }\n    return ethjsUtil.isHexPrefixed(str) ? str : '0x' + str;\n};\n/**\n * Converts a `Buffer` or `Array` to JSON.\n * @param ba (Buffer|Array)\n * @return (Array|String|null)\n */\nexports.baToJSON = function (ba) {\n    if (Buffer.isBuffer(ba)) {\n        return \"0x\" + ba.toString('hex');\n    }\n    else if (ba instanceof Array) {\n        var array = [];\n        for (var i = 0; i < ba.length; i++) {\n            array.push(exports.baToJSON(ba[i]));\n        }\n        return array;\n    }\n};\n//# sourceMappingURL=bytes.js.map","\nmodule.exports = {\n  minBlockRef,\n  maxBlockRef,\n  sortBlockRefs,\n  bnToHex,\n  blockRefIsNumber,\n  hexToInt,\n  incrementHexInt,\n  intToHex,\n  unsafeRandomBytes,\n}\n\nfunction minBlockRef(...refs) {\n  const sortedRefs = sortBlockRefs(refs)\n  return sortedRefs[0]\n}\n\nfunction maxBlockRef(...refs) {\n  const sortedRefs = sortBlockRefs(refs)\n  return sortedRefs[sortedRefs.length-1]\n}\n\nfunction sortBlockRefs(refs) {\n  return refs.sort((refA, refB) => {\n    if (refA === 'latest' || refB === 'earliest') return 1\n    if (refB === 'latest' || refA === 'earliest') return -1\n    return hexToInt(refA) - hexToInt(refB)\n  })\n}\n\nfunction bnToHex(bn) {\n  return '0x' + bn.toString(16)\n}\n\nfunction blockRefIsNumber(blockRef){\n  return blockRef && !['earliest', 'latest', 'pending'].includes(blockRef)\n}\n\nfunction hexToInt(hexString) {\n  if (hexString === undefined || hexString === null) return hexString\n  return Number.parseInt(hexString, 16)\n}\n\nfunction incrementHexInt(hexString){\n  if (hexString === undefined || hexString === null) return hexString\n  const value = hexToInt(hexString)\n  return intToHex(value + 1)\n}\n\nfunction intToHex(int) {\n  if (int === undefined || int === null) return int\n  let hexString = int.toString(16)\n  const needsLeftPad = hexString.length % 2\n  if (needsLeftPad) hexString = '0' + hexString\n  return '0x' + hexString\n}\n\nfunction unsafeRandomBytes(byteCount) {\n  let result = '0x'\n  for (let i = 0; i < byteCount; i++) {\n    result += unsafeRandomNibble()\n    result += unsafeRandomNibble()\n  }\n  return result\n}\n\nfunction unsafeRandomNibble() {\n  return Math.floor(Math.random() * 16).toString(16)\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DATA_CLONE_ERROR = exports.MESSAGE = exports.REJECTED = exports.FULFILLED = exports.REPLY = exports.CALL = exports.HANDSHAKE_REPLY = exports.HANDSHAKE = void 0;\nconst HANDSHAKE = 'handshake';\nexports.HANDSHAKE = HANDSHAKE;\nconst HANDSHAKE_REPLY = 'handshake-reply';\nexports.HANDSHAKE_REPLY = HANDSHAKE_REPLY;\nconst CALL = 'call';\nexports.CALL = CALL;\nconst REPLY = 'reply';\nexports.REPLY = REPLY;\nconst FULFILLED = 'fulfilled';\nexports.FULFILLED = FULFILLED;\nconst REJECTED = 'rejected';\nexports.REJECTED = REJECTED;\nconst MESSAGE = 'message';\nexports.MESSAGE = MESSAGE;\nconst DATA_CLONE_ERROR = 'DataCloneError';\nexports.DATA_CLONE_ERROR = DATA_CLONE_ERROR;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ERR_NO_IFRAME_SRC = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nconst ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nconst ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nconst ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nconst ERR_NO_IFRAME_SRC = 'NoIframeSrc';\nexports.ERR_NO_IFRAME_SRC = ERR_NO_IFRAME_SRC;","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst penpal_1 = __importDefault(require(\"penpal\"));\nconst eventemitter3_1 = __importDefault(require(\"eventemitter3\"));\nconst moment_1 = __importDefault(require(\"moment\"));\nconst is_buffer_1 = __importDefault(require(\"is-buffer\"));\nconst version_1 = __importDefault(require(\"./version\"));\nconst AuthereumProvider_1 = __importDefault(require(\"./AuthereumProvider\"));\nconst config_1 = require(\"./config\");\nconst utils_1 = require(\"./utils\");\n// Serialize object for postMessage to iframe.\n// Converts references to values.\nconst serializeMessageObj = (obj) => {\n    const tx = {};\n    for (let k in obj) {\n        let v = obj[k];\n        if (typeof v === 'object' && v.toString === 'function') {\n            v = v.toString('hex');\n        }\n        tx[k] = v;\n    }\n    return tx;\n};\nconst defaultIframeStyle = {\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0\n};\n// This is a placeholder notify object stub until notifier script url is\n// injected into page after iframe is loaded.\nconst defaultNotifier = {\n    notify: (type, message) => {\n        console.log(type, message);\n        return {\n            dismiss: () => {\n                // noop\n            }\n        };\n    }\n};\nclass Authereum extends eventemitter3_1.default {\n    constructor(config) {\n        super();\n        this.notifier = defaultNotifier;\n        this.iframeReady = false;\n        this._configReady = false;\n        this.iframeConnecting = null;\n        this.cacheReady = false;\n        this.readyEmitted = false;\n        this._widgetEnabled = false;\n        this.iframeStyle = defaultIframeStyle;\n        this.blockedPopupRedirect = true;\n        this.notificationsMap = {};\n        this._heartbeatStarted = false;\n        this._backoffTimeout = 1;\n        this._userConfig = null;\n        this._asymmetricEncryptionKey = null;\n        this._authereumQueryParams = {};\n        this._injectedElements = [];\n        this._destroyed = false;\n        // NOTE: keep this sync\n        this._init = (config) => {\n            if (typeof config === 'string') {\n                let network = config;\n                this.networkName = (network || '').trim().toLowerCase();\n                if (['mainnet', 'ropsten', 'rinkeby', 'kovan', 'goerli'].includes(this.networkName)) {\n                    this.xsUri = config_1.defaultConfig.xsUri(this.networkName);\n                }\n                else if (config === 'localhost') {\n                    this.xsUri = 'http://localhost:3002';\n                    this.networkName = 'kovan';\n                }\n                else {\n                    throw new Error('Unsupported network');\n                }\n            }\n            else {\n                config = config || {};\n                this.networkName = config.networkName || 'mainnet';\n                this.xsUri = config.xsUri || config_1.defaultConfig.xsUri(this.networkName);\n                this._apiKey = config.apiKey;\n            }\n            if (config.redirectUri) {\n                this.redirectUri = config.redirectUri;\n            }\n            else {\n                this.redirectUri = window.location.href;\n            }\n            this.iframeStyle = {\n                width: 0,\n                height: 0,\n                top: 0,\n                left: 0\n            };\n            this.redirectUri = this.redirectUri || window.location.href;\n            this.provider = new AuthereumProvider_1.default(this);\n            this._setupNotifier();\n            this._connectToChildIframe()\n                .catch(() => {\n                this._startHeartbeat(true);\n            });\n            this._setupCache();\n            this._cacheAuthereumQueryParams();\n            this._setupSigningKey();\n            this._setupResizeListener();\n            this._emitReadyEvent();\n            window.addEventListener('focus', this._handleWindowFocus, false);\n        };\n        // NOTE: keep this sync\n        this._setConfig = (config) => {\n            if (typeof this._userConfig === 'string') {\n                let network = this._userConfig;\n                this.networkName = (network || '').trim().toLowerCase();\n                this._userConfig = {\n                    networkName: this.networkName,\n                    xsUri: config_1.defaultConfig.xsUri(this.networkName)\n                };\n            }\n            const { apiKey, apiUri, rpcUri, webUri, notifierUri, networkName, networkId, disableNotifications, blockedPopupRedirect } = this._userConfig || {};\n            if (apiKey) {\n                this._apiKey = apiKey;\n            }\n            // userConfig overrides regular config\n            if (apiUri) {\n                this.apiUri = apiUri;\n            }\n            else if (config.apiUri) {\n                this.apiUri = config.apiUri;\n            }\n            // userConfig overrides regular config\n            if (rpcUri) {\n                this.rpcUri = rpcUri;\n            }\n            else {\n                this.rpcUri = config.rpcUri;\n            }\n            // userConfig overrides regular config\n            if (webUri) {\n                this.webUri = webUri;\n            }\n            else if (config.webUri) {\n                this.webUri = config.webUri;\n            }\n            // userConfig overrides regular config\n            if (notifierUri) {\n                this.notifierUri = notifierUri;\n            }\n            else if (config.notifierUri) {\n                this.notifierUri = config.notifierUri;\n            }\n            // userConfig overrides regular config\n            if (networkName) {\n                this.networkName = networkName;\n            }\n            else if (config.networkName) {\n                this.networkName = config.networkName;\n            }\n            // userConfig overrides regular config\n            if (networkId) {\n                this.networkId = networkId;\n            }\n            else if (config.networkId) {\n                this.networkId = config.networkId;\n            }\n            // userConfig overrides regular config\n            if (typeof disableNotifications === 'boolean') {\n                this.disableNotifications = disableNotifications;\n            }\n            else if (typeof config.disableNotifications === 'boolean') {\n                this.disableNotifications = config.disableNotifications;\n            }\n            // userConfig overrides regular config\n            if (typeof blockedPopupRedirect === 'boolean') {\n                this.blockedPopupRedirect = blockedPopupRedirect;\n            }\n            else if (typeof config.blockedPopupRedirect === 'boolean') {\n                this.blockedPopupRedirect = config.blockedPopupRedirect;\n            }\n        };\n        this._setupCache = () => __awaiter(this, void 0, void 0, function* () {\n            yield Promise.all([\n                this._cacheLoginKeyAddress(),\n                this._cacheIsAuthenticated(),\n                this._cacheAccountAddress()\n            ]);\n            this.cacheReady = true;\n        });\n        this._handleWindowFocus = () => {\n            return this._postMessageToChild({\n                method: 'onWindowFocus'\n            });\n        };\n        this._resetCache = () => __awaiter(this, void 0, void 0, function* () {\n            return this._setupCache();\n        });\n        this._setupNotifier = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilConfigReady();\n            if (!this.notifierUri) {\n                return;\n            }\n            yield this._injectScript(this.notifierUri, 'authereum-notifier');\n            if (window.AuthereumNotifier) {\n                this.notifier = new window.AuthereumNotifier({\n                    networkId: this.networkId,\n                    disableNotifications: this.disableNotifications,\n                    context: this\n                });\n            }\n        });\n        this._injectScript = (sourceUrl, id = '') => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilDomReady();\n            return new Promise((resolve, reject) => {\n                if (!sourceUrl) {\n                    throw new Error('sourceUrl is required');\n                }\n                if (document.getElementById(id)) {\n                    resolve();\n                    return;\n                }\n                const script = document.createElement('script');\n                script.id = id;\n                script.type = 'text/javascript';\n                script.async = true;\n                script.onload = () => {\n                    resolve();\n                };\n                script.onerror = (err) => {\n                    reject(err);\n                };\n                script.src = sourceUrl;\n                this._injectedElements.push(script);\n                document.getElementsByTagName('head')[0].appendChild(script);\n            });\n        });\n        this._setupResizeListener = () => __awaiter(this, void 0, void 0, function* () {\n            window.addEventListener('resize', utils_1.debounce((event) => __awaiter(this, void 0, void 0, function* () {\n                const size = yield this._getWindowSize();\n                return this._postMessageToChild({\n                    method: 'onResize',\n                    params: size\n                });\n            }), 100));\n        });\n        this._cacheLoginKeyAddress = () => __awaiter(this, void 0, void 0, function* () {\n            const loginKey = yield this._postMessageToChild({\n                method: 'getOrCreateLoginKey'\n            });\n            this.cachedLoginKeyAddress = loginKey.publicAddress;\n        });\n        this._cacheAccountAddress = () => __awaiter(this, void 0, void 0, function* () {\n            const accountAddress = yield this._postMessageToChild({\n                method: 'getAccountAddress'\n            });\n            this.cachedAccountAddress = accountAddress;\n        });\n        this._cacheIsAuthenticated = () => __awaiter(this, void 0, void 0, function* () {\n            const isAuthenticated = yield this._postMessageToChild({\n                method: 'isAuthenticated'\n            });\n            this.cachedIsAuthenticated = isAuthenticated;\n        });\n        // NOTE: to prevent pop-ups from being blocked, there must be no awaits from\n        // click to window.open, meaning value lookups must be cached before the\n        // login method is called.\n        this.login = utils_1.throttle(() => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilConfigReady();\n            yield this._tilReady();\n            if (!this.cachedIsAuthenticated) {\n                // NOTE: if not logged in to dapp, then proceed to login\n                yield this._signLoginKeyRequest(this.cachedLoginKeyAddress);\n                return this.getAuthenticatedAccount();\n            }\n            else {\n                // only show one already logged in notification at a time\n                if (!this.notificationsMap['loggedIn']) {\n                    const notification = this.notifier.notify({\n                        type: 'success',\n                        message: 'You are logged into Authereum',\n                        timeout: 5000\n                    });\n                    this.notificationsMap['loggedIn'] = notification;\n                    setTimeout(() => {\n                        this.notificationsMap['loggedIn'] = null;\n                    }, 5e3);\n                }\n            }\n            // await first\n            const account = yield this.getAuthenticatedAccount();\n            return account;\n        }), 250);\n        this.authenticate = () => __awaiter(this, void 0, void 0, function* () {\n            console.warn('Deprecation notice: `authereum.authenticate()` is deprecated. Use `authereum.login()` instead.');\n            return this.login();\n        });\n        this.isAuthenticated = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'isAuthenticated'\n            }));\n        });\n        this.logout = () => __awaiter(this, void 0, void 0, function* () {\n            const res = yield this._postMessageToChild({\n                method: 'logout'\n            });\n            yield this._resetCache();\n            this.emit('logout', {});\n            return res;\n        });\n        this.getAuthenticatedAccount = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getAuthenticatedAccount'\n            }));\n        });\n        this.getDappKey = () => {\n            return this._handleError(this._postMessageToChild({\n                method: 'getLoginKey'\n            }));\n        };\n        this.getLoginKey = () => {\n            console.warn('Deprecation notice: `authereum.getLoginKey()` is deprecated. Use `authereum.getDappKey()` instead.');\n            return this.getDappKey();\n        };\n        this.signWithDappKey = utils_1.throttle((message) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'signWithLoginKey',\n                params: message\n            }));\n        }), 250);\n        this.signWithLoginKey = utils_1.throttle((message) => __awaiter(this, void 0, void 0, function* () {\n            console.warn('Deprecation notice: `authereum.signWithLoginKey()` is deprecated. Use `authereum.signWithDappKey()` instead.');\n            return this.signWithDappKey(message);\n        }), 250);\n        this.signTypedMessageWithDappKey = utils_1.throttle((message) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'signTypedMessageWithLoginKey',\n                params: message\n            }));\n        }), 250);\n        this.signMessageWithAdminKey = utils_1.throttle((message) => __awaiter(this, void 0, void 0, function* () {\n            console.warn('Deprecated: `authereum.signMessageWithAdminKey()` is deprecated. Use `authereum.signMessageWithSigningKey()` instead.');\n            return null;\n        }), 250);\n        this.signMessageWithSigningKey = utils_1.throttle((message) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'signMessageWithSigningKey',\n                params: message\n            }));\n        }), 250);\n        this.getLoginKeyAuthSignature = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getLoginKeyAuthSignature'\n            }));\n        });\n        this.getLoginKeyRestrictionsData = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getLoginKeyRestrictionsData'\n            }));\n        });\n        this.getAccountAddress = () => __awaiter(this, void 0, void 0, function* () {\n            // required so it waits for login key to be set\n            yield this._tilReady();\n            return this._handleError(this._postMessageToChild({\n                method: 'getAccountAddress'\n            }));\n        });\n        this.getBalance = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getBalance'\n            }));\n        });\n        this.getRpcUri = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilConfigReady();\n            return this.rpcUri;\n        });\n        this.getNetworkId = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getNetworkId'\n            }));\n        });\n        this.getNetworkName = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getNetworkName'\n            }));\n        });\n        this.getProvider = () => {\n            return this.provider;\n        };\n        this._handleError = (promise) => __awaiter(this, void 0, void 0, function* () {\n            return promise\n                .catch((err) => {\n                // NOTE: emit errors but don't throw notification here.\n                this.emit('error', err);\n                // NOTE: rethrow error to let dapps handle error\n                throw err;\n            });\n        });\n        this.signTransactionWithLoginKey = utils_1.throttle((tx) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'signTransactionWithLoginKey',\n                params: serializeMessageObj(tx)\n            }));\n        }), 250);\n        this.sendTransaction = utils_1.throttle((userTransaction) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'sendTransaction',\n                params: serializeMessageObj(userTransaction)\n            }));\n        }), 250);\n        this.sendTransactionBatch = utils_1.throttle((userTransactions) => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            return this._handleError(this._postMessageToChild({\n                method: 'sendTransactionBatch',\n                params: userTransactions.map(serializeMessageObj)\n            }));\n        }), 250);\n        this.estimateGasBatch = utils_1.throttle((userTransactions) => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            return this._handleError(this._postMessageToChild({\n                method: 'estimateGasBatch',\n                params: userTransactions.map(serializeMessageObj)\n            }));\n        }), 250);\n        this.isReady = () => {\n            return this.iframeReady && this.cacheReady;\n        };\n        this.updateConfig = (config) => {\n            this._userConfig = config;\n            this._setConfig(config);\n        };\n        this.getConfig = () => {\n            return {\n                apiUri: this.apiUri,\n                rpcUri: this.rpcUri,\n                webUri: this.webUri,\n                xsUri: this.xsUri,\n                networkName: this.networkName,\n                networkId: this.networkId,\n                disableNotifications: this.disableNotifications\n            };\n        };\n        this.showWidget = (enabled = true) => {\n            if (!enabled) {\n                return this.hideWidget();\n            }\n            this._widgetEnabled = true;\n            this._refreshWidget();\n            return true;\n        };\n        this.hideWidget = () => {\n            this._widgetEnabled = false;\n            // this.setIframePositionTop(this._getWindowHeight())\n            // this.setIframePositionLeft(this._getWindowWidth())\n            this.setIframeWidth(0);\n            this.setIframeHeight(0);\n            return true;\n        };\n        this.widgetEnabled = () => {\n            return this._widgetEnabled;\n        };\n        this._tilIframeReady = () => __awaiter(this, void 0, void 0, function* () {\n            if (!this.iframeReady) {\n                yield utils_1.wait(100);\n                return this._tilIframeReady();\n            }\n            yield utils_1.wait(100);\n            return true;\n        });\n        this._tilConfigReady = () => __awaiter(this, void 0, void 0, function* () {\n            if (!this._configReady) {\n                yield utils_1.wait(100);\n                return this._tilConfigReady();\n            }\n            yield utils_1.wait(100);\n            return true;\n        });\n        this._tilReady = () => __awaiter(this, void 0, void 0, function* () {\n            if (!this.isReady()) {\n                yield utils_1.wait(100);\n                return this._tilReady();\n            }\n            yield utils_1.wait(100);\n            return true;\n        });\n        this._emitReadyEvent = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            if (this.readyEmitted)\n                return;\n            this.readyEmitted = true;\n            this.emit('ready', {});\n        });\n        this._connectToChildIframe = () => __awaiter(this, void 0, void 0, function* () {\n            if (this.iframeConnecting) {\n                return this.iframeConnecting;\n            }\n            this.iframeReady = false;\n            this.iframeConnecting = true;\n            const iframe = yield this._getOrCreateIframe();\n            this.iframeConnection = penpal_1.default.connectToChild({\n                iframe,\n                timeout: 60e3,\n                methods: {\n                    // NOTE: the postMessage penpal method should be the only method that\n                    // exists.\n                    postMessage: (data) => {\n                        return this._handlePostMessage(data);\n                    }\n                }\n            });\n            this.iframeConnecting = new Promise((resolve, reject) => {\n                let timedout = false;\n                const timer = setTimeout(() => {\n                    if (!this.iframeReady) {\n                        timedout = true;\n                        this.iframeConnecting = null;\n                        reject(new Error('timedout'));\n                    }\n                }, 3e3);\n                this.iframeConnection.promise.then((child) => {\n                    clearTimeout(timer);\n                    if (timedout) {\n                        return;\n                    }\n                    this.iframeReady = true;\n                    this.childIframeConnection = child;\n                    this._startHeartbeat();\n                    this.iframeConnecting = null;\n                    resolve();\n                })\n                    .catch((err) => {\n                    clearTimeout(timer);\n                    if (timedout) {\n                        return;\n                    }\n                    reject(err);\n                });\n            });\n            return this.iframeConnecting;\n        });\n        this._startHeartbeat = (reconnect = false) => {\n            if (!this._heartbeatStarted) {\n                this._heartbeat(reconnect);\n                this._heartbeatStarted = true;\n            }\n        };\n        this._heartbeat = (reconnect = false) => __awaiter(this, void 0, void 0, function* () {\n            if (this._destroyed) {\n                return;\n            }\n            yield utils_1.wait(2e3);\n            try {\n                if (reconnect) {\n                    yield this._connectToChildIframe();\n                    this._backoffTimeout = 1;\n                    return this._heartbeat();\n                }\n                yield this._ping();\n            }\n            catch (err) {\n                // reconnect on destroyed connection error or ping timeout error\n                if (/destroy|timedout/gi.test(err.message)) {\n                    yield utils_1.wait(this._backoffTimeout * 1e3);\n                    // exponential backoff\n                    this._backoffTimeout = this._backoffTimeout << 1;\n                    return this._heartbeat(true);\n                }\n            }\n            return this._heartbeat();\n        });\n        this._ping = () => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                let timedout = false;\n                const timer = setTimeout(() => {\n                    timedout = true;\n                }, 5e3);\n                this._postMessageToChild({\n                    method: 'ping'\n                }).then((pong) => {\n                    clearTimeout(timer);\n                    if (timedout) {\n                        reject(new Error('timedout'));\n                        return;\n                    }\n                    if (pong !== 'pong') {\n                        reject(new Error('Invalid response'));\n                        return;\n                    }\n                    resolve(pong);\n                })\n                    .catch(err => {\n                    reject(err);\n                });\n            });\n        });\n        this._getConfigFromChild = () => __awaiter(this, void 0, void 0, function* () {\n            return this._postMessageToChild({\n                method: 'getConfig'\n            });\n        });\n        this._postVersionToChild = () => __awaiter(this, void 0, void 0, function* () {\n            return this._postMessageToChild({\n                method: 'version',\n                params: this.version()\n            });\n        });\n        this._postApiKeyToChild = () => __awaiter(this, void 0, void 0, function* () {\n            if (!this._apiKey)\n                return;\n            return this._postMessageToChild({\n                method: 'apiKey',\n                params: this._apiKey\n            });\n        });\n        this._loadAsymmetricEncryptionKeyFromChild = () => __awaiter(this, void 0, void 0, function* () {\n            this._asymmetricEncryptionKey = yield this._postMessageToChild({\n                method: 'getAsymmetricEncryptionKey'\n            });\n        });\n        this._postMessageToChild = (data) => __awaiter(this, void 0, void 0, function* () {\n            if (this._destroyed) {\n                throw new Error('Authereum instance destroyed.');\n            }\n            yield this._tilIframeReady();\n            return this._handleError(this.childIframeConnection.postMessage(data));\n        });\n        this._handleChildLogoutEvent = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._resetCache();\n            this.emit('logout', {});\n        });\n        this._handleChildDappKeyExpired = (loginKeyAddress) => __awaiter(this, void 0, void 0, function* () {\n            if (loginKeyAddress === this.cachedLoginKeyAddress) {\n                yield this._resetCache();\n                this.emit('dappKeyExpired', loginKeyAddress);\n                this.emit('logout');\n            }\n        });\n        this._handlePostMessage = (data) => {\n            try {\n                const { method, params } = data;\n                switch (method) {\n                    case 'onError':\n                        const err = params;\n                        this.emit('error', err);\n                        this.notifier.notify({\n                            type: 'error',\n                            message: err.message\n                        });\n                        return;\n                    case 'onLogout':\n                        return this._handleChildLogoutEvent();\n                    case 'onDappKeyExpired':\n                        return this._handleChildDappKeyExpired(params);\n                    case 'login':\n                        return this.login();\n                    case 'setWidgetPosition':\n                        /*\n                        const position = params\n                        const { x, y } = position\n                        this.iframeStyle.left = x\n                        this.iframeStyle.top = y\n                        // this._refreshWidget()\n                       */\n                        return;\n                    case 'setWidgetSize':\n                        const size = params;\n                        const { width, height } = size;\n                        this.iframeStyle.width = width;\n                        this.iframeStyle.height = height;\n                        return this._refreshWidget();\n                    case 'getWindowSize':\n                        return this._getWindowSize();\n                    case 'hideWidget':\n                        return this.hideWidget();\n                    case 'notification':\n                        return this._handlePostMessageNotification(params);\n                    case 'updateNotificationId':\n                        return this._handlePostMessageUpdateNotificationId(params);\n                    case 'updateNotification':\n                        return this._handlePostMessageUpdateNotification(params);\n                    case 'dismissNotification':\n                        return this._handlePostMessageDismissNotification(params);\n                    case 'log':\n                        return this._handlePostMessageLog(params);\n                    default:\n                        break;\n                }\n            }\n            catch (err) {\n                // noop\n            }\n        };\n        this._handlePostMessageNotification = (input) => {\n            const notification = this.notifier.notify(input);\n            if (input.id) {\n                this.notificationsMap[input.id] = notification;\n            }\n        };\n        this._handlePostMessageUpdateNotificationId = (input) => {\n            let { id, newId } = input;\n            this.notificationsMap[newId] = this.notificationsMap[id];\n            this.notificationsMap[id] = null;\n        };\n        this._handlePostMessageUpdateNotification = (input) => {\n            const notification = this.notificationsMap[input.id];\n            if (notification) {\n                notification.update(input);\n            }\n        };\n        this._handlePostMessageDismissNotification = (input) => {\n            const notification = this.notificationsMap[input.id];\n            if (notification) {\n                notification.dismiss();\n            }\n        };\n        this._handlePostMessageLog = (data) => {\n            let { type, message } = data;\n            if (!type) {\n                type = 'log';\n            }\n            console[type](message);\n        };\n        this._getWindowSize = () => {\n            return {\n                width: this._getWindowWidth(),\n                height: this._getWindowHeight()\n            };\n        };\n        this._getWindowWidth = () => {\n            return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n        };\n        this._getWindowHeight = () => {\n            return window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n        };\n        /*\n      public setIframePositionTop = (y: number) => {\n        if (!this.iframe) return\n        this.iframe.style.top = `${y}px`\n      }\n         */\n        this.setIframePositionLeft = (x) => {\n            if (!this.iframe)\n                return;\n            this.iframe.style.left = `${x}px`;\n        };\n        this.setIframeWidth = (width) => {\n            if (!this.iframe)\n                return;\n            this.iframe.style.width = `${width}px`;\n        };\n        this.setIframeHeight = (height) => {\n            if (!this.iframe)\n                return;\n            this.iframe.style.height = `${height}px`;\n        };\n        this._refreshWidget = () => {\n            if (!this._widgetEnabled)\n                return;\n            const { top, left, width, height } = this.iframeStyle;\n            // this.setIframePositionTop(top)\n            // this.setIframePositionLeft(left)\n            this.setIframeWidth(width);\n            this.setIframeHeight(height);\n        };\n        this._loginKeyExists = () => __awaiter(this, void 0, void 0, function* () {\n            return !!(yield this.getLoginKey());\n        });\n        this._accountAddressExists = () => __awaiter(this, void 0, void 0, function* () {\n            return !!(yield this.getAccountAddress());\n        });\n        this._getAccountAdminKeyNonce = () => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'getAccountAuthKeyNonce'\n            }));\n        });\n        this._getAccountAuthKeyNonce = () => __awaiter(this, void 0, void 0, function* () {\n            console.warn('Deprecation notice: `authereum._getAccountAuthKeyNonce()` is deprecated. Use `authereum._getAccountAdminKeyNonce()` instead.');\n            return this._getAccountAdminKeyNonce();\n        });\n        this._executeLoginKeyMetaTx = (tx) => __awaiter(this, void 0, void 0, function* () {\n            return this._handleError(this._postMessageToChild({\n                method: 'executeLoginKeyMetaTx',\n                params: serializeMessageObj(tx)\n            }));\n        });\n        this._loadLoginKey = (loginKey) => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            return this._handleError(this._postMessageToChild({\n                method: 'loadLoginKey',\n                params: loginKey\n            }));\n        });\n        this._getOrCreateLoginKey = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            return this._handleError(this._postMessageToChild({\n                method: 'getOrCreateLoginKey'\n            }));\n        });\n        this._getAuthenticateUri = (loginKeyAddress) => {\n            const encryptionKey = this._asymmetricEncryptionKey;\n            // NOTE: slk = sign login key\n            return this.webUri + '/?slk=' + encodeURIComponent(JSON.stringify({\n                loginKey: {\n                    publicAddress: loginKeyAddress,\n                    // Convert to UTC to avoid local machine timezones\n                    expiresAt: moment_1.default().add(1, 'month').utc().unix()\n                },\n                encryptionKey\n            })) + '&redirect_uri=' + this.redirectUri;\n        };\n        this._getSignWithAdminKeyUri = (message) => {\n            if (is_buffer_1.default(message)) {\n                message = `0x${message.toString('hex')}`;\n            }\n            // NOTE: sm = sign message\n            return this.webUri + '/?sm=' + encodeURIComponent(JSON.stringify({\n                message\n            })) + '&redirect_uri=' + this.redirectUri;\n        };\n        this._openPopupOrRedirect = (url) => __awaiter(this, void 0, void 0, function* () {\n            this.emit('openPopup', {});\n            const child = window.open(url, 'Authereum', `toolbar=no,\n      location=no,\n      status=no,\n      menubar=no,\n      scrollbars=no,\n      resizable=no,\n      width=470,\n      height=640`);\n            const isBlocked = (child === null || child === undefined);\n            if (isBlocked && !this.blockedPopupRedirect) {\n                const err = new Error('Disable popup blocker and try again');\n                this.notifier.notify({\n                    type: 'error',\n                    message: err.message,\n                    timeout: 5000\n                });\n                throw err;\n            }\n            else if (isBlocked) {\n                this.emit('popupBlocked');\n                // NOTE: if window is blocked then resort to redirect\n                window.location.href = url;\n                return;\n            }\n            child.focus();\n            return new Promise((resolve, reject) => {\n                const interval = setInterval(() => __awaiter(this, void 0, void 0, function* () {\n                    if (child.closed) {\n                        cleanUp();\n                        const err = new Error('Window closed');\n                        this.emit('error', err);\n                        this.emit('closePopup', {});\n                        reject(err);\n                    }\n                }), 250);\n                const timeout = setTimeout(() => {\n                    cleanUp();\n                    child.close();\n                    doneWithError(new Error('Timedout'));\n                }, 10 * 60 * 1000);\n                const cleanUp = () => {\n                    clearInterval(interval);\n                    clearTimeout(timeout);\n                    this.emit('closePopup', {});\n                };\n                const doneWithError = (err) => {\n                    cleanUp();\n                    this.emit('error', err);\n                    reject(err);\n                };\n                const done = (result = {}) => {\n                    cleanUp();\n                    resolve(result);\n                };\n                window.addEventListener('message', (event) => __awaiter(this, void 0, void 0, function* () {\n                    if (event.origin.includes(this.webUri)) {\n                        // this event tells parent to close child popup\n                        if (event.data.close) {\n                            child.close();\n                            done();\n                        }\n                        if (event.data.login) {\n                            done({ success: true });\n                            this.emit('login', {});\n                            this.cachedIsAuthenticated = true;\n                            if (event.data.encryptedSigningKey) {\n                                yield this._loadSigningKey(event.data.encryptedSigningKey);\n                            }\n                            this._logAnalyticsEvent({ eventType: 'logged_in_dapp', properties: { dapp_url: window.location.href } });\n                            if (this.redirectUri !== window.location.href) {\n                                window.location.href = this.redirectUri;\n                            }\n                        }\n                        if (event.data.result) {\n                            done(event.data.result);\n                            if (this.redirectUri !== window.location.href) {\n                                window.location.href = this.redirectUri;\n                            }\n                        }\n                        if (event.data.error) {\n                            doneWithError(new Error(event.data.error));\n                            if (this.redirectUri !== window.location.href) {\n                                window.location.href = this.redirectUri;\n                            }\n                        }\n                    }\n                }));\n            });\n        });\n        this._signLoginKeyRequest = (publicAddress) => __awaiter(this, void 0, void 0, function* () {\n            const url = this._getAuthenticateUri(publicAddress);\n            return this._openPopupOrRedirect(url);\n        });\n        this._tilDomReady = () => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve) => {\n                if (document.readyState !== 'loading') {\n                    resolve();\n                }\n                else {\n                    document.addEventListener('DOMContentLoaded', () => resolve());\n                }\n            });\n        });\n        // keep both static and normal version methods\n        this.version = () => {\n            return version_1.default;\n        };\n        this.isAuthenticatedSync = () => {\n            return this.cachedIsAuthenticated;\n        };\n        this.getTransactionReceipt = (txHash) => {\n            return this._handleError(this._postMessageToChild({\n                method: 'getTransactionReceipt',\n                params: txHash\n            }));\n        };\n        this.waitForTransactionReceipt = (txHash) => {\n            return this._handleError(this._postMessageToChild({\n                method: 'waitForTransactionReceipt',\n                params: txHash\n            }));\n        };\n        this.hasRecoveryEnabled = () => {\n            return this._handleError(this._postMessageToChild({\n                method: 'hasRecoveryEnabled'\n            }));\n        };\n        this.isContractDeployed = (accountAddress) => {\n            return this._handleError(this._postMessageToChild({\n                method: 'isContractDeployed',\n                params: accountAddress\n            }));\n        };\n        this._loadSigningKey = (signingKey) => __awaiter(this, void 0, void 0, function* () {\n            return this._postMessageToChild({\n                method: 'loadSigningKey',\n                params: signingKey\n            });\n        });\n        this._logAnalyticsEvent = (input) => __awaiter(this, void 0, void 0, function* () {\n            return this._postMessageToChild({\n                method: 'logAnalyticsEvent',\n                params: input\n            });\n        });\n        this._setupSigningKey = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._tilReady();\n            const encryptedSigningKey = this._authereumQueryParams['encryptedSigningKey'];\n            if (encryptedSigningKey) {\n                yield this._loadSigningKey(encryptedSigningKey);\n            }\n        });\n        this._cacheAuthereumQueryParams = () => __awaiter(this, void 0, void 0, function* () {\n            try {\n                const param = utils_1.getQueryParamValue('_authereum');\n                if (param) {\n                    this._authereumQueryParams = JSON.parse(param);\n                    const newUrl = utils_1.removeQueryParam('_authereum');\n                    utils_1.replaceWindowUrl(newUrl);\n                }\n            }\n            catch (err) {\n                // noop\n            }\n        });\n        this.destroy = () => __awaiter(this, void 0, void 0, function* () {\n            if (this._destroyed) {\n                console.warn('Authereum instance already destroyed.');\n                return true;\n            }\n            try {\n                if (this.iframeReady) {\n                    yield this._postMessageToChild({\n                        method: 'destroy'\n                    });\n                }\n            }\n            catch (err) {\n                console.error(err);\n            }\n            for (let i = 0; i < this._injectedElements.length; i++) {\n                const element = this._injectedElements[i];\n                try {\n                    element.remove();\n                }\n                catch (err) {\n                    console.error(err);\n                }\n            }\n            const elements = document.querySelectorAll('[id*=\"authereum\"]');\n            for (let i = 0; i < elements.length; i++) {\n                const element = elements[i];\n                try {\n                    element.remove();\n                }\n                catch (err) {\n                    console.error(err);\n                }\n            }\n            this.iframeReady = false;\n            this._destroyed = true;\n            console.warn('Authereum instance destroyed.');\n            this.emit('destroy', {});\n            return true;\n        });\n        this.isDestroyed = () => {\n            return this._destroyed;\n        };\n        this.getAddressQrCodeDataUri = (address) => __awaiter(this, void 0, void 0, function* () {\n            return this._postMessageToChild({\n                method: 'getAddressQrCodeDataUri',\n                params: {\n                    address\n                }\n            });\n        });\n        this._userConfig = config;\n        this._init(config);\n    }\n    _getOrCreateIframe() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.iframe) {\n                if (this.iframeConnection) {\n                    this.iframeConnection.destroy();\n                }\n                this.iframe.remove();\n            }\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                const id = `authereum__x-iframe--${utils_1.uuidv4()}`;\n                const iframe = document.createElement('iframe');\n                iframe.id = id;\n                iframe.src = this.xsUri;\n                iframe.setAttribute('sandbox', 'allow-storage-access-by-user-activation allow-scripts allow-same-origin');\n                iframe.style.position = 'fixed';\n                iframe.style.bottom = '0';\n                iframe.style.right = '0';\n                iframe.style.width = '0';\n                iframe.style.height = '0';\n                iframe.style.border = '0';\n                iframe.style.background = 'transparent';\n                iframe.style.zIndex = '1';\n                iframe.setAttribute('frameborder', '0');\n                iframe.setAttribute('scrolling', 'no');\n                // iframe.style.outline = '1px solid red' // debug\n                this.iframe = iframe;\n                resolve(this.iframe);\n                yield this._tilDomReady();\n                document.body.appendChild(iframe);\n                this._injectedElements.push(iframe);\n                iframe.onload = () => {\n                    this._postVersionToChild();\n                    this._postApiKeyToChild();\n                    this._loadAsymmetricEncryptionKeyFromChild();\n                    this._getConfigFromChild()\n                        .then((config) => {\n                        this._setConfig(config);\n                        this._configReady = true;\n                        this.emit('iframeReady', {});\n                    });\n                };\n            }));\n        });\n    }\n}\nexports.default = Authereum;\n// keep both static and normal version methods\nAuthereum.version = () => {\n    return version_1.default;\n};\nif (typeof window !== 'undefined') {\n    window.Authereum = Authereum;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar createKeccakHash = require('keccak');\nvar createHash = require('create-hash');\nvar ethjsUtil = require('ethjs-util');\nvar rlp = require(\"rlp\");\nvar bytes_1 = require(\"./bytes\");\n/**\n * Creates Keccak hash of the input\n * @param a The input data (Buffer|Array|String|Number) If the string is a 0x-prefixed hex value\n * it's interpreted as hexadecimal, otherwise as utf8.\n * @param bits The Keccak width\n */\nexports.keccak = function (a, bits) {\n    if (bits === void 0) { bits = 256; }\n    if (typeof a === 'string' && !ethjsUtil.isHexString(a)) {\n        a = Buffer.from(a, 'utf8');\n    }\n    else {\n        a = bytes_1.toBuffer(a);\n    }\n    if (!bits)\n        bits = 256;\n    return createKeccakHash(\"keccak\" + bits)\n        .update(a)\n        .digest();\n};\n/**\n * Creates Keccak-256 hash of the input, alias for keccak(a, 256).\n * @param a The input data (Buffer|Array|String|Number)\n */\nexports.keccak256 = function (a) {\n    return exports.keccak(a);\n};\n/**\n * Creates SHA256 hash of the input.\n * @param a The input data (Buffer|Array|String|Number)\n */\nexports.sha256 = function (a) {\n    a = bytes_1.toBuffer(a);\n    return createHash('sha256')\n        .update(a)\n        .digest();\n};\n/**\n * Creates RIPEMD160 hash of the input.\n * @param a The input data (Buffer|Array|String|Number)\n * @param padded Whether it should be padded to 256 bits or not\n */\nexports.ripemd160 = function (a, padded) {\n    a = bytes_1.toBuffer(a);\n    var hash = createHash('rmd160')\n        .update(a)\n        .digest();\n    if (padded === true) {\n        return bytes_1.setLength(hash, 32);\n    }\n    else {\n        return hash;\n    }\n};\n/**\n * Creates SHA-3 hash of the RLP encoded version of the input.\n * @param a The input data\n */\nexports.rlphash = function (a) {\n    return exports.keccak(rlp.encode(a));\n};\n//# sourceMappingURL=hash.js.map","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","\nconst safeStringify = require('fast-safe-stringify')\n\n/**\n * @class JsonRpcError\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP 1474.\n * Permits any integer error code.\n */\nclass EthereumRpcError extends Error {\n\n  /**\n   * Create an Ethereum JSON RPC error.\n   * \n   * @param {number} code - The integer error code.\n   * @param {string} message - The string message.\n   * @param {any} [data] - The error data.\n   */\n  constructor (code, message, data) {\n\n    if (!Number.isInteger(code)) throw new Error(\n      '\"code\" must be an integer.'\n    )\n    if (!message || typeof message !== 'string') throw new Error(\n      '\"message\" must be a nonempty string.'\n    )\n\n    super(message)\n    this.code = code\n    if (data !== undefined) this.data = data\n  }\n\n  /**\n   * Returns a plain object with all public class properties.\n   * \n   * @returns {object} The serialized error. \n   */\n  serialize() {\n    const serialized = {\n      code: this.code,\n      message: this.message,\n    }\n    if (this.data !== undefined) serialized.data = this.data\n    if (this.stack) serialized.stack = this.stack\n    return serialized\n  }\n\n  /**\n   * Return a string representation of the serialized error, omitting\n   * any circular references.\n   * \n   * @returns {string} The serialized error as a string.\n   */\n  toString() {\n    return safeStringify(\n      this.serialize(),\n      stringifyReplacer,\n      2\n    )\n  }\n}\n\n/**\n * @class EthereumRpcError\n * Error subclass implementing Ethereum Provider errors per EIP 1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\nclass EthereumProviderError extends EthereumRpcError {\n\n  /**\n   * Create an Ethereum JSON RPC error.\n   * \n   * @param {number} code - The integer error code, in the [ 1000 <= 4999 ] range.\n   * @param {string} message - The string message.\n   * @param {any} [data] - The error data.\n   */\n  constructor(code, message, data) {\n\n    if (!isValidEthProviderCode(code)) {\n      throw new Error(\n        '\"code\" must be an integer such that: 1000 <= code <= 4999'\n      )\n    }\n\n    super(code, message, data)\n  }\n}\n\n// Internal\n\nfunction isValidEthProviderCode(code) {\n  return Number.isInteger(code) && code >= 1000 && code <= 4999\n}\n\nfunction stringifyReplacer(_, value) {\n  if (value === '[Circular]') {\n    return\n  }\n  return value\n}\n\n// Exports\n\nmodule.exports =  {\n  EthereumRpcError,\n  EthereumProviderError\n}\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","const SafeEventEmitter = require('safe-event-emitter')\n\nclass BaseFilter extends SafeEventEmitter {\n\n  constructor () {\n    super()\n    this.updates = []\n  }\n\n  async initialize () {}\n\n  async update () {\n    throw new Error('BaseFilter - no update method specified')\n  }\n\n  addResults (newResults) {\n    this.updates = this.updates.concat(newResults)\n    newResults.forEach(result => this.emit('update', result))\n  }\n\n  addInitialResults (newResults) {}\n\n  getChangesAndClear () {\n    const updates = this.updates\n    this.updates = []\n    return updates\n  }\n  \n}\n\nmodule.exports = BaseFilter\n","module.exports = getBlocksForRange\n\nasync function getBlocksForRange({ provider, fromBlock, toBlock }) {\n  if (!fromBlock) fromBlock = toBlock\n\n  const fromBlockNumber = hexToInt(fromBlock)\n  const toBlockNumber = hexToInt(toBlock)\n  const blockCountToQuery = toBlockNumber - fromBlockNumber + 1\n  // load all blocks from old to new (inclusive)\n  const missingBlockNumbers = Array(blockCountToQuery).fill()\n                              .map((_,index) => fromBlockNumber + index)\n                              .map(intToHex)\n  const blockBodies = await Promise.all(\n    missingBlockNumbers.map(blockNum => query(provider, 'eth_getBlockByNumber', [blockNum, false]))\n  )\n  return blockBodies\n}\n\nfunction hexToInt(hexString) {\n  if (hexString === undefined || hexString === null) return hexString\n  return Number.parseInt(hexString, 16)\n}\n\nfunction incrementHexInt(hexString){\n  if (hexString === undefined || hexString === null) return hexString\n  const value = hexToInt(hexString)\n  return intToHex(value + 1)\n}\n\nfunction intToHex(int) {\n  if (int === undefined || int === null) return int\n  const hexString = int.toString(16)\n  return '0x' + hexString\n}\n\nfunction query(provider, method, params) {\n  return new Promise((resolve, reject) => {\n    provider.sendAsync({ id: 1, jsonrpc: '2.0', method, params }, (err, res) => {\n      if (err) return reject(err)\n      resolve(res.result)\n    })\n  })\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = () => {\n  const callbacks = [];\n  let destroyed = false;\n  return {\n    destroy() {\n      destroyed = true;\n      callbacks.forEach(callback => {\n        callback();\n      });\n    },\n\n    onDestroy(callback) {\n      destroyed ? callback() : callbacks.push(callback);\n    }\n\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = debug => {\n  return function () {\n    if (debug) {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      console.log('[Penpal]', ...args); // eslint-disable-line no-console\n    }\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _errorSerialization = require(\"./errorSerialization\");\n\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\nvar _default = (info, methods, log) => {\n  const localName = info.localName,\n        local = info.local,\n        remote = info.remote,\n        originForSending = info.originForSending,\n        originForReceiving = info.originForReceiving;\n  let destroyed = false;\n  log(`${localName}: Connecting call receiver`);\n\n  const handleMessageEvent = event => {\n    if (event.source !== remote || event.data.penpal !== _constants.CALL) {\n      return;\n    }\n\n    if (event.origin !== originForReceiving) {\n      log(`${localName} received message from origin ${event.origin} which did not match expected origin ${originForReceiving}`);\n      return;\n    }\n\n    const _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n    log(`${localName}: Received ${methodName}() call`);\n\n    const createPromiseHandler = resolution => {\n      return returnValue => {\n        log(`${localName}: Sending ${methodName}() reply`);\n\n        if (destroyed) {\n          // It's possible to throw an error here, but it would need to be thrown asynchronously\n          // and would only be catchable using window.onerror. This is because the consumer\n          // is merely returning a value from their method and not calling any function\n          // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n          // the value of doing so is questionable. Instead, we'll just log a message.\n          log(`${localName}: Unable to send ${methodName}() reply due to destroyed connection`);\n          return;\n        }\n\n        const message = {\n          penpal: _constants.REPLY,\n          id,\n          resolution,\n          returnValue\n        };\n\n        if (resolution === _constants.REJECTED && returnValue instanceof Error) {\n          message.returnValue = (0, _errorSerialization.serializeError)(returnValue);\n          message.returnValueIsError = true;\n        }\n\n        try {\n          remote.postMessage(message, originForSending);\n        } catch (err) {\n          // If a consumer attempts to send an object that's not cloneable (e.g., window),\n          // we want to ensure the receiver's promise gets rejected.\n          if (err.name === _constants.DATA_CLONE_ERROR) {\n            remote.postMessage({\n              penpal: _constants.REPLY,\n              id,\n              resolution: _constants.REJECTED,\n              returnValue: (0, _errorSerialization.serializeError)(err),\n              returnValueIsError: true\n            }, originForSending);\n          }\n\n          throw err;\n        }\n      };\n    };\n\n    new Promise(resolve => resolve(methods[methodName].apply(methods, args))).then(createPromiseHandler(_constants.FULFILLED), createPromiseHandler(_constants.REJECTED));\n  };\n\n  local.addEventListener(_constants.MESSAGE, handleMessageEvent);\n  return () => {\n    destroyed = true;\n    local.removeEventListener(_constants.MESSAGE, handleMessageEvent);\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deserializeError = exports.serializeError = void 0;\n\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\nconst serializeError = (_ref) => {\n  let name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name,\n    message,\n    stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nexports.serializeError = serializeError;\n\nconst deserializeError = obj => {\n  const deserializedError = new Error();\n  Object.keys(obj).forEach(key => deserializedError[key] = obj[key]);\n  return deserializedError;\n};\n\nexports.deserializeError = deserializeError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _errorCodes = require(\"./errorCodes\");\n\nvar _generateId = _interopRequireDefault(require(\"./generateId\"));\n\nvar _errorSerialization = require(\"./errorSerialization\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\nvar _default = (callSender, info, methodNames, destroyConnection, log) => {\n  const localName = info.localName,\n        local = info.local,\n        remote = info.remote,\n        originForSending = info.originForSending,\n        originForReceiving = info.originForReceiving;\n  let destroyed = false;\n  log(`${localName}: Connecting call sender`);\n\n  const createMethodProxy = methodName => {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      log(`${localName}: Sending ${methodName}() call`); // This handles the case where the iframe has been removed from the DOM\n      // (and therefore its window closed), the consumer has not yet\n      // called destroy(), and the user calls a method exposed by\n      // the remote. We detect the iframe has been removed and force\n      // a destroy() immediately so that the consumer sees the error saying\n      // the connection has been destroyed. We wrap this check in a try catch\n      // because Edge throws an \"Object expected\" error when accessing\n      // contentWindow.closed on a contentWindow from an iframe that's been\n      // removed from the DOM.\n\n      let iframeRemoved;\n\n      try {\n        if (remote.closed) {\n          iframeRemoved = true;\n        }\n      } catch (e) {\n        iframeRemoved = true;\n      }\n\n      if (iframeRemoved) {\n        destroyConnection();\n      }\n\n      if (destroyed) {\n        const error = new Error(`Unable to send ${methodName}() call due ` + `to destroyed connection`);\n        error.code = _errorCodes.ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Promise((resolve, reject) => {\n        const id = (0, _generateId.default)();\n\n        const handleMessageEvent = event => {\n          if (event.source !== remote || event.data.penpal !== _constants.REPLY || event.data.id !== id) {\n            return;\n          }\n\n          if (event.origin !== originForReceiving) {\n            log(`${localName} received message from origin ${event.origin} which did not match expected origin ${originForReceiving}`);\n            return;\n          }\n\n          log(`${localName}: Received ${methodName}() reply`);\n          local.removeEventListener(_constants.MESSAGE, handleMessageEvent);\n          let returnValue = event.data.returnValue;\n\n          if (event.data.returnValueIsError) {\n            returnValue = (0, _errorSerialization.deserializeError)(returnValue);\n          }\n\n          (event.data.resolution === _constants.FULFILLED ? resolve : reject)(returnValue);\n        };\n\n        local.addEventListener(_constants.MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: _constants.CALL,\n          id,\n          methodName,\n          args\n        }, originForSending);\n      });\n    };\n  };\n\n  methodNames.reduce((api, methodName) => {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n  return () => {\n    destroyed = true;\n  };\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst package_json_1 = __importDefault(require(\"./package.json\"));\nconst version = package_json_1.default.version;\nexports.default = version;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst waterfall_1 = __importDefault(require(\"async/waterfall\"));\nconst ethereumjs_util_1 = __importDefault(require(\"ethereumjs-util\"));\nconst xtend_1 = __importDefault(require(\"xtend\"));\nconst web3_provider_engine_1 = __importDefault(require(\"web3-provider-engine\"));\nconst hooked_wallet_1 = __importDefault(require(\"web3-provider-engine/subproviders/hooked-wallet\"));\nconst rpc_1 = __importDefault(require(\"web3-provider-engine/subproviders/rpc\"));\nconst subscriptions_1 = __importDefault(require(\"web3-provider-engine/subproviders/subscriptions\"));\nconst filters_1 = __importDefault(require(\"web3-provider-engine/subproviders/filters\"));\nconst pify_1 = __importDefault(require(\"pify\"));\nconst web3Utils = __importStar(require(\"web3-utils\"));\nconst AuthereumSDK_1 = __importDefault(require(\"./AuthereumSDK\"));\nconst utils_1 = require(\"./utils\");\nclass AuthereumProvider extends web3_provider_engine_1.default {\n    constructor(config) {\n        super();\n        this.isAuthereum = true;\n        this.lastSignTx = '';\n        this.lastSignTxTimeout = null;\n        this.lastTx = '';\n        this.lastTxTimeout = null;\n        this.lastMsg = '';\n        this.lastMsgTimeout = null;\n        this.lastTypedMsg = '';\n        this.lastTypedMsgTimeout = null;\n        this.concatAuthKeySig = (sig) => __awaiter(this, void 0, void 0, function* () {\n            let authKeySig = yield this.authereum.getLoginKeyAuthSignature();\n            // Combines two hex strings into one hex string\n            authKeySig = authKeySig.slice(2);\n            return sig.concat(authKeySig);\n        });\n        let authereumClient = null;\n        if (config instanceof AuthereumSDK_1.default) {\n            authereumClient = config;\n            config = authereumClient.config;\n        }\n        this.config = config || {};\n        this.authereum = authereumClient || new AuthereumSDK_1.default(this.config);\n        this.initSubprovider();\n        this.isAuthereum = true;\n    }\n    initSubprovider() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.authereum._tilReady();\n            this.rpcUri = this.config.rpcUri || (yield this.authereum.getRpcUri());\n            const throttleTimeout = 2e3;\n            const walletSubprovider = new hooked_wallet_1.default({\n                getAccounts: (cb) => __awaiter(this, void 0, void 0, function* () {\n                    const loggedIn = yield this.authereum.isAuthenticated();\n                    if (!loggedIn) {\n                        if (cb) {\n                            cb(null, []);\n                        }\n                        return [];\n                    }\n                    const accountAddress = yield this.authereum.getAccountAddress();\n                    if (!accountAddress) {\n                        if (cb) {\n                            cb(null, []);\n                        }\n                        return [];\n                    }\n                    if (cb) {\n                        cb(null, [accountAddress]);\n                    }\n                    return [accountAddress];\n                }),\n                approveTransaction: (txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    if (cb) {\n                        cb(null, true);\n                    }\n                    return true;\n                }),\n                approveMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    if (cb) {\n                        cb(null, true);\n                    }\n                    return true;\n                }),\n                approveTypedMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    if (cb) {\n                        cb(null, true);\n                    }\n                    return true;\n                }),\n                signMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    let currentMsg = msgParams;\n                    try {\n                        currentMsg = JSON.stringify(msgParams);\n                    }\n                    catch (err) {\n                        // noop\n                    }\n                    // Throttle if the tx is identical\n                    clearTimeout(this.lastMsgTimeout);\n                    if (this.lastMsg === currentMsg) {\n                        return this._throttledSignMessage(msgParams, cb);\n                    }\n                    // Check if this is the first one. If so, run it through the throttling function\n                    const isFirst = !this.lastMsg;\n                    this.lastMsg = currentMsg;\n                    this.lastMsgTimeout = setTimeout(() => {\n                        this.lastMsg = '';\n                    }, throttleTimeout);\n                    if (isFirst) {\n                        return this._throttledSignMessage(msgParams, cb);\n                    }\n                    return this._signMessage(msgParams, cb);\n                }),\n                signTransaction: (txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    const t = Object.assign({}, txParams);\n                    t.nonce = null;\n                    // Throttle if the tx is identical\n                    const currentTx = JSON.stringify(t);\n                    clearTimeout(this.lastSignTxTimeout);\n                    if (this.lastSignTx === currentTx) {\n                        return this._throttledSignTransaction(txParams, cb);\n                    }\n                    // Check if this is the first one. If so, run it through the throttling function\n                    const isFirst = !this.lastSignTx;\n                    this.lastSignTx = currentTx;\n                    this.lastSignTxTimeout = setTimeout(() => {\n                        this.lastSignTx = '';\n                    }, throttleTimeout);\n                    if (isFirst) {\n                        return this._throttledSignTransaction(txParams, cb);\n                    }\n                    return this._signTransaction(txParams, cb);\n                }),\n                processTransaction: (txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    const t = Object.assign({}, txParams);\n                    t.nonce = null;\n                    // Throttle if the tx is identical\n                    const currentTx = JSON.stringify(t);\n                    clearTimeout(this.lastTxTimeout);\n                    if (this.lastTx === currentTx) {\n                        return this._throttledProcessTransaction(txParams, cb);\n                    }\n                    // Check if this is the first one. If so, run it through the throttling function\n                    const isFirst = !this.lastTx;\n                    this.lastTx = currentTx;\n                    this.lastTxTimeout = setTimeout(() => {\n                        this.lastTx = '';\n                    }, throttleTimeout);\n                    if (isFirst) {\n                        return this._throttledProcessTransaction(txParams, cb);\n                    }\n                    return this._processTransaction(txParams, cb);\n                }),\n                approvePersonalMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    if (cb) {\n                        cb(null, true);\n                    }\n                    return true;\n                }),\n                signPersonalMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    return walletSubprovider.signMessage(msgParams, cb);\n                }),\n                signTypedMessage: (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                    let currentTypedMsg = msgParams;\n                    try {\n                        currentTypedMsg = JSON.stringify(msgParams);\n                    }\n                    catch (err) {\n                        // noop\n                    }\n                    // Throttle if the tx is identical\n                    clearTimeout(this.lastTypedMsgTimeout);\n                    if (this.lastTypedMsg === currentTypedMsg) {\n                        return this._throttledSignTypedMessage(msgParams, cb);\n                    }\n                    // Check if this is the first one. If so, run it through the throttling function\n                    const isFirst = !this.lastTypedMsg;\n                    this.lastTypedMsg = currentTypedMsg;\n                    this.lastTypedMsgTimeout = setTimeout(() => {\n                        this.lastTypedMsg = '';\n                    }, throttleTimeout);\n                    if (isFirst) {\n                        return this._throttledSignTypedMessage(msgParams, cb);\n                    }\n                    return this._signTypedMessage(msgParams, cb);\n                })\n            });\n            this.walletSubprovider = walletSubprovider;\n            this._processTransaction = (txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const signedTransaction = yield pify_1.default(walletSubprovider.signTransaction.bind(walletSubprovider))(txParams);\n                    const transactionHash = web3Utils.sha3(signedTransaction);\n                    if (cb) {\n                        cb(null, transactionHash);\n                    }\n                    return transactionHash;\n                }\n                catch (err) {\n                    if (cb) {\n                        cb(err);\n                        return;\n                    }\n                    throw err;\n                }\n            });\n            this._throttledProcessTransaction = utils_1.throttle((txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                return this._processTransaction(txParams, cb);\n            }), throttleTimeout);\n            this._signMessage = (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const sig = yield this.authereum.signWithDappKey(msgParams.data);\n                    let authKeySig = yield this.authereum.getLoginKeyAuthSignature();\n                    let loginKeyRestrictionsData = yield this.authereum.getLoginKeyRestrictionsData();\n                    // Combines three hex strings into one hex string\n                    authKeySig = authKeySig.slice(2);\n                    loginKeyRestrictionsData = loginKeyRestrictionsData.slice(2);\n                    const combinedSig = sig.concat(authKeySig, loginKeyRestrictionsData);\n                    if (cb) {\n                        cb(null, combinedSig);\n                    }\n                    return combinedSig;\n                }\n                catch (err) {\n                    if (cb) {\n                        cb(err);\n                    }\n                }\n            });\n            this._throttledSignMessage = utils_1.throttle((msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                return this._signMessage(msgParams, cb);\n            }), throttleTimeout);\n            this._signTypedMessage = (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const sig = yield this.authereum.signTypedMessageWithDappKey(msgParams.data);\n                    const combinedSig = yield this.concatAuthKeySig(sig);\n                    if (cb) {\n                        cb(null, combinedSig);\n                    }\n                    return combinedSig;\n                }\n                catch (err) {\n                    if (cb) {\n                        cb(err);\n                    }\n                }\n            });\n            this._throttledSignTypedMessage = utils_1.throttle((msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                return this._signTypedMessage(msgParams, cb);\n            }), throttleTimeout);\n            this._signTransaction = (txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const res = yield this.authereum.signTransactionWithLoginKey(txParams);\n                    if (!res) {\n                        throw new Error('Error signing transaction');\n                    }\n                    if (cb) {\n                        cb(null, res.signedTransactionData);\n                    }\n                    return res.signedTransactionData;\n                }\n                catch (err) {\n                    cb(err);\n                }\n            });\n            this._throttledSignTransaction = utils_1.throttle((txParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                return this._signTransaction(txParams, cb);\n            }), throttleTimeout);\n            // keep reference to original sendAsync\n            this._sendAsync = this.sendAsync;\n            this.sendAsync = (payload, callback) => __awaiter(this, void 0, void 0, function* () {\n                return new Promise((resolve, reject) => {\n                    if (!callback) {\n                        callback = (err, response) => {\n                            if (err) {\n                                reject(err);\n                                return;\n                            }\n                            resolve(response);\n                        };\n                    }\n                    this._sendAsync(payload, callback);\n                });\n            });\n            this.send = (payload, callback) => {\n                // Web3 >=1.0-beta.38 calls `send` with method and parameters\n                if (typeof payload === 'string') {\n                    return new Promise((resolve, reject) => {\n                        this.sendAsync({\n                            jsonrpc: '2.0',\n                            id: 42,\n                            method: payload,\n                            params: callback || []\n                        }, (error, response) => {\n                            if (error) {\n                                reject(error);\n                            }\n                            else {\n                                resolve(response.result);\n                            }\n                        });\n                    });\n                }\n                // Web3 <=1.0 beta.37 uses `send` with a callback for async queries\n                if (callback) {\n                    this.sendAsync(payload, callback);\n                    return;\n                }\n                let result = null;\n                switch (payload.method) {\n                    case 'eth_uninstallFilter':\n                        this.sendAsync(payload, () => {\n                            // noop\n                        });\n                        result = true;\n                        break;\n                    default:\n                        let message = `The Authereum Web3 object does not support synchronous methods like ${payload.method} without a callback parameter.`;\n                        throw new Error(message);\n                }\n                return {\n                    id: payload.id,\n                    jsonrpc: payload.jsonrpc,\n                    result: result\n                };\n            };\n            walletSubprovider.handleRequest = function (payload, next, end) {\n                const self = this;\n                self._parityRequests = {};\n                self._parityRequestCount = 0;\n                // switch statement is not block scoped\n                // sp we cant repeat var declarations\n                let txParams;\n                let msgParams;\n                let extraParams;\n                let message;\n                let address;\n                switch (payload.method) {\n                    case 'eth_coinbase':\n                        // process normally\n                        self.getAccounts(function (err, accounts) {\n                            if (err)\n                                return end(err);\n                            let result = accounts[0] || null;\n                            end(null, result);\n                        });\n                        return;\n                    case 'eth_accounts':\n                        // process normally\n                        self.getAccounts(function (err, accounts) {\n                            if (err)\n                                return end(err);\n                            end(null, accounts);\n                        });\n                        return;\n                    case 'eth_sendTransaction':\n                        txParams = payload.params[0];\n                        waterfall_1.default([\n                            (cb) => self.processTransaction(txParams, cb)\n                        ], end);\n                        return;\n                    case 'eth_signTransaction':\n                        txParams = payload.params[0];\n                        waterfall_1.default([\n                            (cb) => self.processSignTransaction(txParams, cb)\n                        ], end);\n                        return;\n                    case 'eth_sign':\n                        // process normally\n                        address = payload.params[0];\n                        message = payload.params[1];\n                        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n                        // good place for metadata\n                        extraParams = payload.params[2] || {};\n                        msgParams = xtend_1.default(extraParams, {\n                            from: address,\n                            data: message\n                        });\n                        waterfall_1.default([\n                            (cb) => self.processMessage(msgParams, cb)\n                        ], end);\n                        return;\n                    case 'personal_sign':\n                        return (function () {\n                            // process normally\n                            const first = payload.params[0];\n                            const second = payload.params[1];\n                            // We initially incorrectly ordered these parameters.\n                            // To gracefully respect users who adopted this API early,\n                            // we are currently gracefully recovering from the wrong param order\n                            // when it is clearly identifiable.\n                            //\n                            // That means when the first param is definitely an address,\n                            // and the second param is definitely not, but is hex.\n                            if (resemblesData(second) && resemblesAddress(first)) {\n                                let warning = `The eth_personalSign method requires params ordered `;\n                                warning += `[message, address]. This was previously handled incorrectly, `;\n                                warning += `and has been corrected automatically. `;\n                                warning += `Please switch this param order for smooth behavior in the future.`;\n                                console.warn(warning);\n                                address = payload.params[0];\n                                message = payload.params[1];\n                            }\n                            else {\n                                message = payload.params[0];\n                                address = payload.params[1];\n                            }\n                            // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n                            // good place for metadata\n                            extraParams = payload.params[2] || {};\n                            msgParams = xtend_1.default(extraParams, {\n                                from: address,\n                                data: message\n                            });\n                            waterfall_1.default([\n                                (cb) => self.processPersonalMessage(msgParams, cb)\n                            ], end);\n                        })();\n                    case 'eth_decryptMessage':\n                        return (function () {\n                            // process normally\n                            const first = payload.params[0];\n                            const second = payload.params[1];\n                            // We initially incorrectly ordered these parameters.\n                            // To gracefully respect users who adopted this API early,\n                            // we are currently gracefully recovering from the wrong param order\n                            // when it is clearly identifiable.\n                            //\n                            // That means when the first param is definitely an address,\n                            // and the second param is definitely not, but is hex.\n                            if (resemblesData(second) && resemblesAddress(first)) {\n                                let warning = `The eth_decryptMessage method requires params ordered `;\n                                warning += `[message, address]. This was previously handled incorrectly, `;\n                                warning += `and has been corrected automatically. `;\n                                warning += `Please switch this param order for smooth behavior in the future.`;\n                                console.warn(warning);\n                                address = payload.params[0];\n                                message = payload.params[1];\n                            }\n                            else {\n                                message = payload.params[0];\n                                address = payload.params[1];\n                            }\n                            // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n                            // good place for metadata\n                            extraParams = payload.params[2] || {};\n                            msgParams = xtend_1.default(extraParams, {\n                                from: address,\n                                data: message\n                            });\n                            waterfall_1.default([\n                                (cb) => self.validateDecryptMessage(msgParams, cb),\n                                (cb) => self.processDecryptMessage(msgParams, cb)\n                            ], end);\n                        })();\n                    case 'encryption_public_key':\n                        return (function () {\n                            address = payload.params[0];\n                            waterfall_1.default([\n                                (cb) => self.validateEncryptionPublicKey(address, cb),\n                                (cb) => self.processEncryptionPublicKey(address, cb)\n                            ], end);\n                        })();\n                    case 'personal_ecRecover':\n                        return (function () {\n                            message = payload.params[0];\n                            let signature = payload.params[1];\n                            // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n                            // good place for metadata\n                            extraParams = payload.params[2] || {};\n                            msgParams = xtend_1.default(extraParams, {\n                                sig: signature,\n                                data: message\n                            });\n                            self.recoverPersonalSignature(msgParams, end);\n                        })();\n                    case 'eth_signTypedData':\n                        // process normally\n                        message = payload.params[0];\n                        address = payload.params[1];\n                        extraParams = payload.params[2] || {};\n                        msgParams = xtend_1.default(extraParams, {\n                            from: address,\n                            data: message\n                        });\n                        waterfall_1.default([\n                            (cb) => self.processTypedMessage(msgParams, cb)\n                        ], end);\n                        return;\n                    case 'eth_signTypedData_v3':\n                        // process normally\n                        address = payload.params[0];\n                        message = payload.params[1];\n                        extraParams = payload.params[2] || {};\n                        msgParams = xtend_1.default(extraParams, {\n                            from: address,\n                            data: message\n                        });\n                        waterfall_1.default([\n                            (cb) => self.processTypedMessage(msgParams, cb)\n                        ], end);\n                        return;\n                    case 'parity_postTransaction':\n                        txParams = payload.params[0];\n                        self.parityPostTransaction(txParams, end);\n                        return;\n                    case 'parity_postSign':\n                        address = payload.params[0];\n                        message = payload.params[1];\n                        self.parityPostSign(address, message, end);\n                        return;\n                    case 'parity_checkRequest':\n                        return (function () {\n                            const requestId = payload.params[0];\n                            self.parityCheckRequest(requestId, end);\n                        })();\n                    case 'parity_defaultAccount':\n                        self.getAccounts(function (err, accounts) {\n                            if (err)\n                                return end(err);\n                            const account = accounts[0] || null;\n                            end(null, account);\n                        });\n                        return;\n                    default:\n                        next();\n                        return;\n                }\n            };\n            walletSubprovider.validatePersonalMessage = (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                if (cb) {\n                    cb(null, true);\n                }\n                return true;\n            });\n            walletSubprovider.validateMessage = (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                if (cb) {\n                    cb(null, true);\n                }\n                return true;\n            });\n            walletSubprovider.validateTypedMessage = (msgParams, cb) => __awaiter(this, void 0, void 0, function* () {\n                if (cb) {\n                    cb(null, true);\n                }\n                return true;\n            });\n            this.addProvider(walletSubprovider);\n            this.rpcSubProvider = new rpc_1.default({\n                rpcUrl: this.rpcUri\n            });\n            this.addProvider(new subscriptions_1.default());\n            this.addProvider(new filters_1.default());\n            this.addProvider({\n                setEngine: _ => _,\n                handleRequest: (payload, next, end) => __awaiter(this, void 0, void 0, function* () {\n                    this.rpcSubProvider.handleRequest(payload, next, end);\n                })\n            });\n            // network connectivity error\n            this.on('error', (err) => {\n                console.error(err.stack);\n            });\n            // start polling\n            this.start();\n            this._blockTracker.removeAllListeners();\n        });\n    }\n    getAccounts(cb) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const loggedIn = yield this.authereum.isAuthenticated();\n            if (!loggedIn) {\n                if (cb) {\n                    cb(null, []);\n                }\n                return [];\n            }\n            const accountAddress = yield this.authereum.getAccountAddress();\n            if (!accountAddress) {\n                if (cb) {\n                    cb(null, []);\n                }\n                return [];\n            }\n            if (cb) {\n                cb(null, [accountAddress]);\n            }\n            return [accountAddress];\n        });\n    }\n    isConnected() {\n        return this.authereum.isAuthenticatedSync();\n    }\n    enable() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.authereum.login();\n            const accountAddress = yield this.authereum.getAccountAddress();\n            if (accountAddress) {\n                return [accountAddress];\n            }\n            return [];\n        });\n    }\n    disable() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.authereum.logout();\n        });\n    }\n    tilDomReady() {\n        return new Promise((resolve) => {\n            if (document.readyState !== 'loading') {\n                resolve();\n            }\n            else {\n                document.addEventListener('DOMContentLoaded', () => resolve());\n            }\n        });\n    }\n    sendTransaction(tx) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.sendTransactionBatch([tx]);\n        });\n    }\n    sendTransactionBatch(txs) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.authereum.sendTransactionBatch(txs);\n        });\n    }\n    estimateGasBatch(txs) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.authereum.estimateGasBatch(txs);\n        });\n    }\n    sign(msgParams) {\n        return this._signMessage(msgParams);\n    }\n    signMessageWithAdminKey(message) {\n        return this.authereum.signMessageWithAdminKey(message);\n    }\n    signMessageWithSigningKey(message) {\n        return this.authereum.signMessageWithSigningKey(message);\n    }\n    showWidget(enabled = true) {\n        return this.authereum.showWidget(enabled);\n    }\n    widgetEnabled() {\n        return this.authereum.widgetEnabled();\n    }\n    getTransactionReceipt(txHash) {\n        return this.authereum.getTransactionReceipt(txHash);\n    }\n    waitForTransactionReceipt(txHash) {\n        return this.authereum.waitForTransactionReceipt(txHash);\n    }\n    isContractDeployed(accountAddress) {\n        return this.authereum.isContractDeployed(accountAddress);\n    }\n}\nexports.default = AuthereumProvider;\nfunction resemblesAddress(str) {\n    const fixed = ethereumjs_util_1.default.addHexPrefix(str);\n    const isValid = ethereumjs_util_1.default.isValidAddress(fixed);\n    return isValid;\n}\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData(str) {\n    const fixed = ethereumjs_util_1.default.addHexPrefix(str);\n    const isValidAddress = ethereumjs_util_1.default.isValidAddress(fixed);\n    return !isValidAddress && isValidHex(str);\n}\nfunction isValidHex(data) {\n    const isString = typeof data === 'string';\n    if (!isString)\n        return false;\n    const isHexPrefixed = data.slice(0, 2) === '0x';\n    if (!isHexPrefixed)\n        return false;\n    const nonPrefixed = data.slice(2);\n    const hexRegex = /^[0-9A-Fa-f]+$/g;\n    const isValid = nonPrefixed.match(hexRegex);\n    return isValid;\n}\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isAsyncIterable = exports.isAsyncGenerator = exports.isAsync = undefined;\n\nvar _asyncify = require('../asyncify');\n\nvar _asyncify2 = _interopRequireDefault(_asyncify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isAsync(fn) {\n    return fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction isAsyncGenerator(fn) {\n    return fn[Symbol.toStringTag] === 'AsyncGenerator';\n}\n\nfunction isAsyncIterable(obj) {\n    return typeof obj[Symbol.asyncIterator] === 'function';\n}\n\nfunction wrapAsync(asyncFn) {\n    if (typeof asyncFn !== 'function') throw new Error('expected a function');\n    return isAsync(asyncFn) ? (0, _asyncify2.default)(asyncFn) : asyncFn;\n}\n\nexports.default = wrapAsync;\nexports.isAsync = isAsync;\nexports.isAsyncGenerator = isAsyncGenerator;\nexports.isAsyncIterable = isAsyncIterable;","\nconst errorValues = require('./errorValues.json')\nconst FALLBACK_ERROR_CODE = require('./errorCodes.json').rpc.internal\nconst { EthereumRpcError } = require('./classes')\n\nconst JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.'\n\nconst FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.'\n\nconst FALLBACK_ERROR = {\n  code: FALLBACK_ERROR_CODE,\n  message: getMessageFromCode(FALLBACK_ERROR_CODE)\n}\n\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n * \n * @param {number} code - The integer error code\n * @param {string} fallbackMessage - The fallback message\n * @return {string} The corresponding message or the fallback message\n */\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n\n  if (Number.isInteger(code)) {\n\n    const codeString = code.toString()\n    if (errorValues[codeString]) return errorValues[codeString].message\n\n    if (isJsonRpcServerError(code)) return JSON_RPC_SERVER_ERROR_MESSAGE\n\n    // TODO: allow valid codes and messages to be extended\n    // // EIP 1193 Status Codes\n    // if (code >= 4000 && code <= 4999) return Something?\n  }\n  return fallbackMessage\n}\n\n/**\n * Returns whether the given code is valid.\n * A code is only valid if it has a message.\n * \n * @param {number} code - The code to check\n * @return {boolean} true if the code is valid, false otherwise.\n */\nfunction isValidCode(code) {\n\n  if (!Number.isInteger(code)) return false\n\n  const codeString = code.toString()\n  if (errorValues[codeString]) return true\n\n  if (isJsonRpcServerError(code)) return true\n\n  // TODO: allow valid codes and messages to be extended\n  // // EIP 1193 Status Codes\n  // if (code >= 4000 && code <= 4999) return true\n\n  return false\n}\n\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * Merely copies the given error's values if it is already compatible.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.originalError property.\n * Adds a 'stack' property if it exists on the given error.\n *\n * @param {any} error - The error to serialize.\n * @param {object} fallbackError - The custom fallback error values if the\n * given error is invalid.\n * @return {object} A standardized error object.\n */\nfunction serializeError (error, fallbackError = FALLBACK_ERROR) {\n\n  if (\n    !fallbackError || \n    !Number.isInteger(fallbackError.code) ||\n    typeof fallbackError.message !== 'string'\n  ) {\n    throw new Error(\n      'fallbackError must contain integer number code and string message.'\n    )\n  }\n\n  if (error instanceof EthereumRpcError) {\n    return error.serialize()\n  }\n\n  const serialized = {}\n\n  if (error && isValidCode(error.code)) {\n\n    serialized.code = error.code\n\n    if (error.message && typeof error.message === 'string') {\n      serialized.message = error.message\n      if (error.hasOwnProperty('data')) serialized.data = error.data\n    } else {\n      serialized.message = getMessageFromCode(serialized.code)\n      serialized.data = { originalError: assignOriginalError(error) }\n    }\n\n  } else {\n    serialized.code = fallbackError.code\n    serialized.message = (\n      error && error.message\n        ? error.message\n        : fallbackError.message\n    )\n    serialized.data = { originalError: assignOriginalError(error) }\n  }\n\n  if (error && error.stack) serialized.stack = error.stack\n  return serialized\n}\n\n// Internal\n\nfunction isJsonRpcServerError (code) {\n  return code >= -32099 && code <= -32000\n}\n\nfunction assignOriginalError (error) {\n  if (error && typeof error === 'object' && !Array.isArray(error)) {\n    return Object.assign({}, error)\n  }\n  return error\n}\n\n// Exports\n\nmodule.exports = {\n  getMessageFromCode,\n  isValidCode,\n  serializeError,\n  JSON_RPC_SERVER_ERROR_MESSAGE,\n}\n","// for backwards compat\nmodule.exports = require('json-rpc-engine/src/createScaffoldMiddleware')\n","const Mutex = require('await-semaphore').Mutex\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\nconst createJsonRpcMiddleware = require('eth-json-rpc-middleware/scaffold')\nconst LogFilter = require('./log-filter.js')\nconst BlockFilter = require('./block-filter.js')\nconst TxFilter = require('./tx-filter.js')\nconst { intToHex, hexToInt } = require('./hexUtils')\n\nmodule.exports = createEthFilterMiddleware\n\nfunction createEthFilterMiddleware({ blockTracker, provider }) {\n\n  // create filter collection\n  let filterIndex = 0\n  let filters = {}\n  // create update mutex\n  const mutex = new Mutex()\n  const waitForFree = mutexMiddlewareWrapper({ mutex })\n\n  const middleware = createJsonRpcMiddleware({\n    // install filters\n    eth_newFilter:                   waitForFree(toFilterCreationMiddleware(newLogFilter)),\n    eth_newBlockFilter:              waitForFree(toFilterCreationMiddleware(newBlockFilter)),\n    eth_newPendingTransactionFilter: waitForFree(toFilterCreationMiddleware(newPendingTransactionFilter)),\n    // uninstall filters\n    eth_uninstallFilter:             waitForFree(toAsyncRpcMiddleware(uninstallFilterHandler)),\n    // checking filter changes\n    eth_getFilterChanges:            waitForFree(toAsyncRpcMiddleware(getFilterChanges)),\n    eth_getFilterLogs:               waitForFree(toAsyncRpcMiddleware(getFilterLogs)),\n  })\n\n  // setup filter updating and destroy handler\n  const filterUpdater = async ({ oldBlock, newBlock }) => {\n    if (filters.length === 0) return\n    // lock update reads\n    const releaseLock = await mutex.acquire()\n    try {\n      // process all filters in parallel\n      await Promise.all(objValues(filters).map(async (filter) => {\n        try {\n         await filter.update({ oldBlock, newBlock })\n        } catch (err) {\n          // handle each error individually so filter update errors don't affect other filters\n          console.error(err)\n        }\n      }))\n    } catch (err) {\n      // log error so we don't skip the releaseLock\n      console.error(err)\n    }\n    // unlock update reads\n    releaseLock()\n  }\n\n  // expose filter methods directly\n  middleware.newLogFilter = newLogFilter\n  middleware.newBlockFilter = newBlockFilter\n  middleware.newPendingTransactionFilter = newPendingTransactionFilter\n  middleware.uninstallFilter = uninstallFilterHandler\n  middleware.getFilterChanges = getFilterChanges\n  middleware.getFilterLogs = getFilterLogs\n\n  // expose destroy method for cleanup\n  middleware.destroy = () => {\n    uninstallAllFilters()\n  }\n\n  return middleware\n\n  //\n  // new filters\n  //\n\n  async function newLogFilter(params) {\n    const filter = new LogFilter({ provider, params })\n    const filterIndex = await installFilter(filter)\n    return filter\n  }\n\n  async function newBlockFilter() {\n    const filter = new BlockFilter({ provider })\n    const filterIndex = await installFilter(filter)\n    return filter\n  }\n\n  async function newPendingTransactionFilter() {\n    const filter = new TxFilter({ provider })\n    const filterIndex = await installFilter(filter)\n    return filter\n  }\n\n  //\n  // get filter changes\n  //\n\n  async function getFilterChanges(filterIndexHex) {\n    const filterIndex = hexToInt(filterIndexHex)\n    const filter = filters[filterIndex]\n    if (!filter) {\n      throw new Error(`No filter for index \"${filterIndex}\"`)\n    }\n    const results = filter.getChangesAndClear()\n    return results\n  }\n\n  async function getFilterLogs(filterIndexHex) {\n    const filterIndex = hexToInt(filterIndexHex)\n    const filter = filters[filterIndex]\n    if (!filter) {\n      throw new Error(`No filter for index \"${filterIndex}\"`)\n    }\n    // only return results for log filters\n    if (filter.type === 'log') {\n      results = filter.getAllResults()\n    } else {\n      results = []\n    }\n    return results\n  }\n\n\n  //\n  // remove filters\n  //\n\n\n  async function uninstallFilterHandler(filterIndexHex) {\n    // check filter exists\n    const filterIndex = hexToInt(filterIndexHex)\n    const filter = filters[filterIndex]\n    const result = Boolean(filter)\n    // uninstall filter\n    if (result) {\n      await uninstallFilter(filterIndex)\n    }\n    return result\n  }\n\n  //\n  // utils\n  //\n\n  async function installFilter(filter) {\n    const prevFilterCount = objValues(filters).length\n    // install filter\n    const currentBlock = await blockTracker.getLatestBlock()\n    await filter.initialize({ currentBlock })\n    filterIndex++\n    filters[filterIndex] = filter\n    filter.id = filterIndex\n    filter.idHex = intToHex(filterIndex)\n    // update block tracker subs\n    const newFilterCount = objValues(filters).length\n    updateBlockTrackerSubs({ prevFilterCount, newFilterCount })\n    return filterIndex\n  }\n\n  async function uninstallFilter(filterIndex) {\n    const prevFilterCount = objValues(filters).length\n    delete filters[filterIndex]\n    // update block tracker subs\n    const newFilterCount = objValues(filters).length\n    updateBlockTrackerSubs({ prevFilterCount, newFilterCount })\n  }\n\n  async function uninstallAllFilters() {\n    const prevFilterCount = objValues(filters).length\n    filters = {}\n    // update block tracker subs\n    updateBlockTrackerSubs({ prevFilterCount, newFilterCount: 0 })\n  }\n\n  function updateBlockTrackerSubs({ prevFilterCount, newFilterCount }) {\n    // subscribe\n    if (prevFilterCount === 0 && newFilterCount > 0) {\n      blockTracker.on('sync', filterUpdater)\n      return\n    }\n    // unsubscribe\n    if (prevFilterCount > 0 && newFilterCount === 0) {\n      blockTracker.removeListener('sync', filterUpdater)\n      return\n    }\n  }\n\n}\n\n// helper for turning filter constructors into rpc middleware\nfunction toFilterCreationMiddleware(createFilterFn) {\n  return toAsyncRpcMiddleware(async (...args) => {\n    const filter = await createFilterFn(...args)\n    const result = intToHex(filter.id)\n    return result\n  })\n}\n\n// helper for pulling out req.params and setting res.result\nfunction toAsyncRpcMiddleware(asyncFn) {\n  return createAsyncMiddleware(async (req, res) => {\n    const result = await asyncFn.apply(null, req.params)\n    res.result = result\n  })\n}\n\nfunction mutexMiddlewareWrapper({ mutex }) {\n  return (middleware) => {\n    return async (req, res, next, end) => {\n      // wait for mutex available\n      // we can release immediately because\n      // we just need to make sure updates aren't active\n      const releaseLock = await mutex.acquire()\n      releaseLock()\n      middleware(req, res, next, end)\n    }\n  }\n}\n\nfunction objValues(obj, fn){\n  const values = []\n  for (let key in obj) {\n    values.push(obj[key])\n  }\n  return values\n}\n","'use strict';\n\nconst processFn = (fn, options) => function (...args) {\n\tconst P = options.promiseModule;\n\n\treturn new P((resolve, reject) => {\n\t\tif (options.multiArgs) {\n\t\t\targs.push((...result) => {\n\t\t\t\tif (options.errorFirst) {\n\t\t\t\t\tif (result[0]) {\n\t\t\t\t\t\treject(result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.shift();\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (options.errorFirst) {\n\t\t\targs.push((error, result) => {\n\t\t\t\tif (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\targs.push(resolve);\n\t\t}\n\n\t\tfn.apply(this, args);\n\t});\n};\n\nmodule.exports = (input, options) => {\n\toptions = Object.assign({\n\t\texclude: [/.+(Sync|Stream)$/],\n\t\terrorFirst: true,\n\t\tpromiseModule: Promise\n\t}, options);\n\n\tconst objType = typeof input;\n\tif (!(input !== null && (objType === 'object' || objType === 'function'))) {\n\t\tthrow new TypeError(`Expected \\`input\\` to be a \\`Function\\` or \\`Object\\`, got \\`${input === null ? 'null' : objType}\\``);\n\t}\n\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\t\treturn options.include ? options.include.some(match) : !options.exclude.some(match);\n\t};\n\n\tlet ret;\n\tif (objType === 'function') {\n\t\tret = function (...args) {\n\t\t\treturn options.excludeMain ? input(...args) : processFn(input, options).apply(this, args);\n\t\t};\n\t} else {\n\t\tret = Object.create(Object.getPrototypeOf(input));\n\t}\n\n\tfor (const key in input) { // eslint-disable-line guard-for-in\n\t\tconst property = input[key];\n\t\tret[key] = typeof property === 'function' && filter(key) ? processFn(property, options) : property;\n\t}\n\n\treturn ret;\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ethereum_private_key_to_address_1 = __importDefault(require(\"ethereum-private-key-to-address\"));\nconst ethers = __importStar(require(\"ethers\"));\nconst to_hex_1 = __importDefault(require(\"to-hex\"));\nconst uuidv4_1 = require(\"uuidv4\");\nconst querystring_1 = __importDefault(require(\"querystring\"));\nexports.uuidv4 = uuidv4_1.uuid;\nexports.privateKeyToAddress = ethereum_private_key_to_address_1.default;\nexports.wait = (t) => __awaiter(void 0, void 0, void 0, function* () {\n    return new Promise(resolve => setTimeout(() => resolve(), t));\n});\nexports.toHex = (value, opts = {}) => {\n    if (opts.addPrefix === undefined) {\n        opts.addPrefix = true;\n    }\n    opts.default = 0;\n    return to_hex_1.default(value, opts);\n};\nexports.signWithPrivateKey = (message, privateKey, providerUri) => __awaiter(void 0, void 0, void 0, function* () {\n    if (!privateKey) {\n        throw new Error('private key is required');\n    }\n    const provider = new ethers.providers.JsonRpcProvider(providerUri);\n    const wallet = new ethers.Wallet(privateKey, provider);\n    let data = message;\n    if (message.startsWith('0x')) {\n        data = ethers.utils.arrayify(message);\n    }\n    const signature = yield wallet.signMessage(data);\n    const address = exports.privateKeyToAddress(privateKey);\n    /*\n    const verified = verifySignature(message, signature, address)\n  \n    if (!verified) {\n      throw new Error('signature produced is invalid')\n    }\n     */\n    return signature;\n});\nexports.debounce = (callback, time) => {\n    let interval;\n    return (...args) => {\n        clearTimeout(interval);\n        interval = setTimeout(() => {\n            interval = null;\n            callback(...args);\n        }, time);\n    };\n};\nexports.throttle = (fn, interval, limit = 1) => {\n    const queue = new Map();\n    let currentTick = 0;\n    let activeCount = 0;\n    const throttled = function (...args) {\n        let timeout;\n        return new Promise((resolve, reject) => {\n            const execute = () => {\n                resolve(fn.apply(this, args));\n                queue.delete(timeout);\n            };\n            const now = Date.now();\n            if ((now - currentTick) > interval) {\n                activeCount = 1;\n                currentTick = now;\n                timeout = setTimeout(execute, currentTick - now);\n            }\n            else if (activeCount < limit) {\n                activeCount++;\n            }\n            else {\n                activeCount = 1;\n            }\n            queue.set(timeout, reject);\n        });\n    };\n    return throttled;\n};\nexports.getQueryParamValue = (name) => {\n    const query = window.location.search.substr(1);\n    const params = querystring_1.default.parse(query);\n    if (params[name]) {\n        return params[name];\n    }\n    return null;\n};\nexports.removeQueryParam = (key, url = window.location.href) => {\n    try {\n        const u = new URL(url);\n        if ('URLSearchParams' in window) {\n            const searchParams = new URLSearchParams(u.search);\n            searchParams.delete(key);\n            u.search = searchParams.toString();\n            return u.toString();\n        }\n    }\n    catch (err) {\n        // noop\n    }\n    return url;\n};\nexports.replaceWindowUrl = (newUrl) => {\n    try {\n        window.history.replaceState({}, document.title, newUrl);\n    }\n    catch (err) {\n        // noop\n    }\n};\n","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar createKeccakHash = require('keccak');\nvar BN = require('bn.js');\n\nmodule.exports = function (a) {\n  a = toBuffer(a);\n\n  return createKeccakHash('keccak256').update(a).digest();\n};\n\nfunction toBuffer(v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v);\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex');\n      } else {\n        v = Buffer.from(v);\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v);\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0);\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer);\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray());\n    } else {\n      throw new Error('invalid type');\n    }\n  }\n  return v;\n}\n\nfunction isHexString(value, length) {\n  if (typeof value !== 'string' || !value.match(/^0x[0-9A-Fa-f]*$/)) {\n    return false;\n  }\n\n  if (length && value.length !== 2 + 2 * length) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction padToEven(value) {\n  var a = value; // eslint-disable-line\n\n  if (typeof a !== 'string') {\n    throw new Error('while padding to even, value must be string, is currently ' + (typeof a === 'undefined' ? 'undefined' : _typeof(a)) + ', while padToEven.');\n  }\n\n  if (a.length % 2) {\n    a = '0' + a;\n  }\n\n  return a;\n}\n\nfunction stripHexPrefix(str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return isHexPrefixed(str) ? str.slice(2) : str;\n}\n\nfunction isHexPrefixed(str) {\n  if (typeof str !== 'string') {\n    throw new Error(\"value must be type 'string', is currently type \" + (typeof str === 'undefined' ? 'undefined' : _typeof(str)) + ', while checking isHexPrefixed.');\n  }\n\n  return str.slice(0, 2) === '0x';\n}\n\nfunction intToBuffer(i) {\n  var hex = intToHex(i);\n\n  return Buffer.from(padToEven(hex.slice(2)), 'hex');\n}\n\nfunction intToHex(i) {\n  var hex = i.toString(16); // eslint-disable-line\n\n  return '0x' + hex;\n}","var defineProperty = require(\"./defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2;"],"sourceRoot":""}